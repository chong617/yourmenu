var t,e,n=require("crypto"),r=require("module"),i=require("events"),o=require("timers"),s=require("stream"),a=s,c=s.Transform,u=x(require("typescript")),l=require("atom"),f=(t={},e=l,Object.keys(e).forEach((function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[n]}})})),t),p=l.CompositeDisposable,h=l.Emitter,d=l.BufferedNodeProcess,m=(l.BufferedProcess,l.Disposable),g=require("path"),v=g,y=g.dirname,w=require("util"),b=require("fs"),E=b,_=x(b),S=require("assert");function x(t){return t&&t.__esModule?t.default:t}var k,T="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},I={};Object.defineProperty(I,"__esModule",{value:!0});var A,C,O={};function P(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var N=P(S),L=P(E),R=P(w),j=P(v);function D(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}var F,M=D((function(t,e){t.exports=function(t){for(var e=0;e<t.length;)if(9==t[e]||10==t[e]||13==t[e]||32<=t[e]&&t[e]<=126)e+=1;else if(194<=t[e]&&t[e]<=223&&128<=t[e+1]&&t[e+1]<=191)e+=2;else if(224==t[e]&&160<=t[e+1]&&t[e+1]<=191&&128<=t[e+2]&&t[e+2]<=191||(225<=t[e]&&t[e]<=236||238==t[e]||239==t[e])&&128<=t[e+1]&&t[e+1]<=191&&128<=t[e+2]&&t[e+2]<=191||237==t[e]&&128<=t[e+1]&&t[e+1]<=159&&128<=t[e+2]&&t[e+2]<=191)e+=3;else{if(!(240==t[e]&&144<=t[e+1]&&t[e+1]<=191&&128<=t[e+2]&&t[e+2]<=191&&128<=t[e+3]&&t[e+3]<=191||241<=t[e]&&t[e]<=243&&128<=t[e+1]&&t[e+1]<=191&&128<=t[e+2]&&t[e+2]<=191&&128<=t[e+3]&&t[e+3]<=191||244==t[e]&&128<=t[e+1]&&t[e+1]<=143&&128<=t[e+2]&&t[e+2]<=191&&128<=t[e+3]&&t[e+3]<=191))return!1;e+=4}return!0}})),$=t=>{if(!Buffer.isBuffer(t))throw new TypeError("Expected a Buffer, got "+typeof t);return 239===t[0]&&187===t[1]&&191===t[2]&&M(t)?t.slice(3):t},B=(F=D((function(t){var e=r(L),n=r($);function r(t){return t&&t.__esModule?t:{default:t}}const i={},o=["Stats","_toUnixTimestamp","watch","watchFile","unwatchFile"];Object.keys(e.default).forEach((function(t){const n=e.default[t];"function"!=typeof n||t.includes("Sync")||t.includes("Stream")||o.includes(t)?i[t]=n:i[t]=(0,R.promisify)(n)})),i.exists=function(t){return new Promise((function(n){e.default.access(t,e.default.R_OK,(function(t){n(null===t)}))}))},i.readFile=function(t,r){return new Promise((function(i,o){e.default.readFile(t,(function(t,e){if(t)return void o(t);let s=(0,n.default)(e);r&&(s=s.toString(r)),i(s)}))}))},t.exports=i})))&&F.__esModule&&Object.prototype.hasOwnProperty.call(F,"default")?F.default:F,z={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},U="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>{}:()=>{},H=D((function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:n}=z,r=(e=t.exports={}).re=[],i=e.src=[],o=e.t={};let s=0;const a=(t,e,n)=>{const a=s++;U(a,e),o[t]=a,i[a]=e,r[a]=new RegExp(e,n?"g":void 0)};a("NUMERICIDENTIFIER","0|[1-9]\\d*"),a("NUMERICIDENTIFIERLOOSE","[0-9]+"),a("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),a("MAINVERSION",`(${i[o.NUMERICIDENTIFIER]})\\.(${i[o.NUMERICIDENTIFIER]})\\.(${i[o.NUMERICIDENTIFIER]})`),a("MAINVERSIONLOOSE",`(${i[o.NUMERICIDENTIFIERLOOSE]})\\.(${i[o.NUMERICIDENTIFIERLOOSE]})\\.(${i[o.NUMERICIDENTIFIERLOOSE]})`),a("PRERELEASEIDENTIFIER",`(?:${i[o.NUMERICIDENTIFIER]}|${i[o.NONNUMERICIDENTIFIER]})`),a("PRERELEASEIDENTIFIERLOOSE",`(?:${i[o.NUMERICIDENTIFIERLOOSE]}|${i[o.NONNUMERICIDENTIFIER]})`),a("PRERELEASE",`(?:-(${i[o.PRERELEASEIDENTIFIER]}(?:\\.${i[o.PRERELEASEIDENTIFIER]})*))`),a("PRERELEASELOOSE",`(?:-?(${i[o.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${i[o.PRERELEASEIDENTIFIERLOOSE]})*))`),a("BUILDIDENTIFIER","[0-9A-Za-z-]+"),a("BUILD",`(?:\\+(${i[o.BUILDIDENTIFIER]}(?:\\.${i[o.BUILDIDENTIFIER]})*))`),a("FULLPLAIN",`v?${i[o.MAINVERSION]}${i[o.PRERELEASE]}?${i[o.BUILD]}?`),a("FULL",`^${i[o.FULLPLAIN]}$`),a("LOOSEPLAIN",`[v=\\s]*${i[o.MAINVERSIONLOOSE]}${i[o.PRERELEASELOOSE]}?${i[o.BUILD]}?`),a("LOOSE",`^${i[o.LOOSEPLAIN]}$`),a("GTLT","((?:<|>)?=?)"),a("XRANGEIDENTIFIERLOOSE",i[o.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*"),a("XRANGEIDENTIFIER",i[o.NUMERICIDENTIFIER]+"|x|X|\\*"),a("XRANGEPLAIN",`[v=\\s]*(${i[o.XRANGEIDENTIFIER]})(?:\\.(${i[o.XRANGEIDENTIFIER]})(?:\\.(${i[o.XRANGEIDENTIFIER]})(?:${i[o.PRERELEASE]})?${i[o.BUILD]}?)?)?`),a("XRANGEPLAINLOOSE",`[v=\\s]*(${i[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[o.XRANGEIDENTIFIERLOOSE]})(?:${i[o.PRERELEASELOOSE]})?${i[o.BUILD]}?)?)?`),a("XRANGE",`^${i[o.GTLT]}\\s*${i[o.XRANGEPLAIN]}$`),a("XRANGELOOSE",`^${i[o.GTLT]}\\s*${i[o.XRANGEPLAINLOOSE]}$`),a("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),a("COERCERTL",i[o.COERCE],!0),a("LONETILDE","(?:~>?)"),a("TILDETRIM",`(\\s*)${i[o.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",a("TILDE",`^${i[o.LONETILDE]}${i[o.XRANGEPLAIN]}$`),a("TILDELOOSE",`^${i[o.LONETILDE]}${i[o.XRANGEPLAINLOOSE]}$`),a("LONECARET","(?:\\^)"),a("CARETTRIM",`(\\s*)${i[o.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",a("CARET",`^${i[o.LONECARET]}${i[o.XRANGEPLAIN]}$`),a("CARETLOOSE",`^${i[o.LONECARET]}${i[o.XRANGEPLAINLOOSE]}$`),a("COMPARATORLOOSE",`^${i[o.GTLT]}\\s*(${i[o.LOOSEPLAIN]})$|^$`),a("COMPARATOR",`^${i[o.GTLT]}\\s*(${i[o.FULLPLAIN]})$|^$`),a("COMPARATORTRIM",`(\\s*)${i[o.GTLT]}\\s*(${i[o.LOOSEPLAIN]}|${i[o.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",a("HYPHENRANGE",`^\\s*(${i[o.XRANGEPLAIN]})\\s+-\\s+(${i[o.XRANGEPLAIN]})\\s*$`),a("HYPHENRANGELOOSE",`^\\s*(${i[o.XRANGEPLAINLOOSE]})\\s+-\\s+(${i[o.XRANGEPLAINLOOSE]})\\s*$`),a("STAR","(<|>)?=?\\s*\\*"),a("GTE0","^\\s*>=\\s*0.0.0\\s*$"),a("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")}));const q=/^[0-9]+$/,G=(t,e)=>{const n=q.test(t),r=q.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1};var V={compareIdentifiers:G,rcompareIdentifiers:(t,e)=>G(e,t)};const{MAX_LENGTH:W,MAX_SAFE_INTEGER:X}=z,{re:K,t:Q}=H,{compareIdentifiers:Z}=V;class Y{constructor(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t instanceof Y){if(t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease)return t;t=t.version}else if("string"!=typeof t)throw new TypeError("Invalid Version: "+t);if(t.length>W)throw new TypeError(`version is longer than ${W} characters`);U("SemVer",t,e),this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease;const n=t.trim().match(e.loose?K[Q.LOOSE]:K[Q.FULL]);if(!n)throw new TypeError("Invalid Version: "+t);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>X||this.major<0)throw new TypeError("Invalid major version");if(this.minor>X||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>X||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((t=>{if(/^[0-9]+$/.test(t)){const e=+t;if(e>=0&&e<X)return e}return t})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version}toString(){return this.version}compare(t){if(U("SemVer.compare",this.version,this.options,t),!(t instanceof Y)){if("string"==typeof t&&t===this.version)return 0;t=new Y(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof Y||(t=new Y(t,this.options)),Z(this.major,t.major)||Z(this.minor,t.minor)||Z(this.patch,t.patch)}comparePre(t){if(t instanceof Y||(t=new Y(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let e=0;do{const n=this.prerelease[e],r=t.prerelease[e];if(U("prerelease compare",e,n,r),void 0===n&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===n)return-1;if(n!==r)return Z(n,r)}while(++e)}compareBuild(t){t instanceof Y||(t=new Y(t,this.options));let e=0;do{const n=this.build[e],r=t.build[e];if(U("prerelease compare",e,n,r),void 0===n&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===n)return-1;if(n!==r)return Z(n,r)}while(++e)}inc(t,e){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",e),this.inc("pre",e);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let t=this.prerelease.length;for(;--t>=0;)"number"==typeof this.prerelease[t]&&(this.prerelease[t]++,t=-2);-1===t&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error("invalid increment argument: "+t)}return this.format(),this.raw=this.version,this}}var J=Y,tt=(t,e,n)=>new J(t,n).compare(new J(e,n)),et=(t,e,n,r)=>{switch(e){case"===":return"object"==typeof t&&(t=t.version),"object"==typeof n&&(n=n.version),t===n;case"!==":return"object"==typeof t&&(t=t.version),"object"==typeof n&&(n=n.version),t!==n;case"":case"=":case"==":return((t,e,n)=>0===tt(t,e,n))(t,n,r);case"!=":return((t,e,n)=>0!==tt(t,e,n))(t,n,r);case">":return((t,e,n)=>tt(t,e,n)>0)(t,n,r);case">=":return((t,e,n)=>tt(t,e,n)>=0)(t,n,r);case"<":return((t,e,n)=>tt(t,e,n)<0)(t,n,r);case"<=":return((t,e,n)=>tt(t,e,n)<=0)(t,n,r);default:throw new TypeError("Invalid operator: "+e)}};const nt=Symbol("SemVer ANY");class rt{static get ANY(){return nt}constructor(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t instanceof rt){if(t.loose===!!e.loose)return t;t=t.value}U("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.semver===nt?this.value="":this.value=this.operator+this.semver.version,U("comp",this)}parse(t){const e=this.options.loose?ot[st.COMPARATORLOOSE]:ot[st.COMPARATOR],n=t.match(e);if(!n)throw new TypeError("Invalid comparator: "+t);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new J(n[2],this.options.loose):this.semver=nt}toString(){return this.value}test(t){if(U("Comparator.test",t,this.options.loose),this.semver===nt||t===nt)return!0;if("string"==typeof t)try{t=new J(t,this.options)}catch(t){return!1}return et(t,this.operator,this.semver,this.options)}intersects(t,e){if(!(t instanceof rt))throw new TypeError("a Comparator is required");if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),""===this.operator)return""===this.value||new ct(t.value,e).test(this.value);if(""===t.operator)return""===t.value||new ct(this.value,e).test(t.semver);const n=!(">="!==this.operator&&">"!==this.operator||">="!==t.operator&&">"!==t.operator),r=!("<="!==this.operator&&"<"!==this.operator||"<="!==t.operator&&"<"!==t.operator),i=this.semver.version===t.semver.version,o=!(">="!==this.operator&&"<="!==this.operator||">="!==t.operator&&"<="!==t.operator),s=et(this.semver,"<",t.semver,e)&&(">="===this.operator||">"===this.operator)&&("<="===t.operator||"<"===t.operator),a=et(this.semver,">",t.semver,e)&&("<="===this.operator||"<"===this.operator)&&(">="===t.operator||">"===t.operator);return n||r||i&&o||s||a}}var it=rt;const{re:ot,t:st}=H;class at{constructor(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t instanceof at)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new at(t.raw,e);if(t instanceof it)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map((t=>this.parseRange(t.trim()))).filter((t=>t.length)),!this.set.length)throw new TypeError("Invalid SemVer Range: "+t);this.format()}format(){return this.range=this.set.map((t=>t.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(t){const e=this.options.loose;t=t.trim();const n=e?ut[lt.HYPHENRANGELOOSE]:ut[lt.HYPHENRANGE];t=t.replace(n,kt(this.options.includePrerelease)),U("hyphen replace",t),t=t.replace(ut[lt.COMPARATORTRIM],ft),U("comparator trim",t,ut[lt.COMPARATORTRIM]),t=(t=(t=t.replace(ut[lt.TILDETRIM],pt)).replace(ut[lt.CARETTRIM],ht)).split(/\s+/).join(" ");const r=e?ut[lt.COMPARATORLOOSE]:ut[lt.COMPARATOR];return t.split(" ").map((t=>mt(t,this.options))).join(" ").split(/\s+/).map((t=>xt(t,this.options))).filter(this.options.loose?t=>!!t.match(r):()=>!0).map((t=>new it(t,this.options)))}intersects(t,e){if(!(t instanceof at))throw new TypeError("a Range is required");return this.set.some((n=>dt(n,e)&&t.set.some((t=>dt(t,e)&&n.every((n=>t.every((t=>n.intersects(t,e)))))))))}test(t){if(!t)return!1;if("string"==typeof t)try{t=new J(t,this.options)}catch(t){return!1}for(let e=0;e<this.set.length;e++)if(Tt(this.set[e],t,this.options))return!0;return!1}}var ct=at;const{re:ut,t:lt,comparatorTrimReplace:ft,tildeTrimReplace:pt,caretTrimReplace:ht}=H,dt=(t,e)=>{let n=!0;const r=t.slice();let i=r.pop();for(;n&&r.length;)n=r.every((t=>i.intersects(t,e))),i=r.pop();return n},mt=(t,e)=>(U("comp",t,e),t=wt(t,e),U("caret",t),t=vt(t,e),U("tildes",t),t=Et(t,e),U("xrange",t),t=St(t,e),U("stars",t),t),gt=t=>!t||"x"===t.toLowerCase()||"*"===t,vt=(t,e)=>t.trim().split(/\s+/).map((t=>yt(t,e))).join(" "),yt=(t,e)=>{const n=e.loose?ut[lt.TILDELOOSE]:ut[lt.TILDE];return t.replace(n,((e,n,r,i,o)=>{let s;return U("tilde",t,e,n,r,i,o),gt(n)?s="":gt(r)?s=`>=${n}.0.0 <${+n+1}.0.0-0`:gt(i)?s=`>=${n}.${r}.0 <${n}.${+r+1}.0-0`:o?(U("replaceTilde pr",o),s=`>=${n}.${r}.${i}-${o} <${n}.${+r+1}.0-0`):s=`>=${n}.${r}.${i} <${n}.${+r+1}.0-0`,U("tilde return",s),s}))},wt=(t,e)=>t.trim().split(/\s+/).map((t=>bt(t,e))).join(" "),bt=(t,e)=>{U("caret",t,e);const n=e.loose?ut[lt.CARETLOOSE]:ut[lt.CARET],r=e.includePrerelease?"-0":"";return t.replace(n,((e,n,i,o,s)=>{let a;return U("caret",t,e,n,i,o,s),gt(n)?a="":gt(i)?a=`>=${n}.0.0${r} <${+n+1}.0.0-0`:gt(o)?a="0"===n?`>=${n}.${i}.0${r} <${n}.${+i+1}.0-0`:`>=${n}.${i}.0${r} <${+n+1}.0.0-0`:s?(U("replaceCaret pr",s),a="0"===n?"0"===i?`>=${n}.${i}.${o}-${s} <${n}.${i}.${+o+1}-0`:`>=${n}.${i}.${o}-${s} <${n}.${+i+1}.0-0`:`>=${n}.${i}.${o}-${s} <${+n+1}.0.0-0`):(U("no pr"),a="0"===n?"0"===i?`>=${n}.${i}.${o}${r} <${n}.${i}.${+o+1}-0`:`>=${n}.${i}.${o}${r} <${n}.${+i+1}.0-0`:`>=${n}.${i}.${o} <${+n+1}.0.0-0`),U("caret return",a),a}))},Et=(t,e)=>(U("replaceXRanges",t,e),t.split(/\s+/).map((t=>_t(t,e))).join(" ")),_t=(t,e)=>{t=t.trim();const n=e.loose?ut[lt.XRANGELOOSE]:ut[lt.XRANGE];return t.replace(n,((n,r,i,o,s,a)=>{U("xRange",t,n,r,i,o,s,a);const c=gt(i),u=c||gt(o),l=u||gt(s),f=l;return"="===r&&f&&(r=""),a=e.includePrerelease?"-0":"",c?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&f?(u&&(o=0),s=0,">"===r?(r=">=",u?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===r&&(r="<",u?i=+i+1:o=+o+1),"<"===r&&(a="-0"),n=`${r+i}.${o}.${s}${a}`):u?n=`>=${i}.0.0${a} <${+i+1}.0.0-0`:l&&(n=`>=${i}.${o}.0${a} <${i}.${+o+1}.0-0`),U("xRange return",n),n}))},St=(t,e)=>(U("replaceStars",t,e),t.trim().replace(ut[lt.STAR],"")),xt=(t,e)=>(U("replaceGTE0",t,e),t.trim().replace(ut[e.includePrerelease?lt.GTE0PRE:lt.GTE0],"")),kt=t=>(e,n,r,i,o,s,a,c,u,l,f,p,h)=>`${n=gt(r)?"":gt(i)?`>=${r}.0.0${t?"-0":""}`:gt(o)?`>=${r}.${i}.0${t?"-0":""}`:s?">="+n:`>=${n}${t?"-0":""}`} ${c=gt(u)?"":gt(l)?`<${+u+1}.0.0-0`:gt(f)?`<${u}.${+l+1}.0-0`:p?`<=${u}.${l}.${f}-${p}`:t?`<${u}.${l}.${+f+1}-0`:"<="+c}`.trim(),Tt=(t,e,n)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(let n=0;n<t.length;n++)if(U(t[n].semver),t[n].semver!==it.ANY&&t[n].semver.prerelease.length>0){const r=t[n].semver;if(r.major===e.major&&r.minor===e.minor&&r.patch===e.patch)return!0}return!1}return!0};const It=/(.*?):.*/,At=/(.*?)#.*/;var Ct,Ot=!1;function Pt(){return Ot||(Ot=!0,Ct={},Ct=Promise.resolve(require("./prompt-afef23e0.85b28e82.js"))),Ct}var Nt,Lt=!1;function Rt(){return Lt||(Lt=!0,Nt={},Nt=Promise.resolve(require("./install-03586186.e5009dba.js"))),Nt}void 0===window.__steelbrain_package_deps&&(window.__steelbrain_package_deps=new Set),A=B,O.fs=A,C=async function(t,e=!0){N(t,"[Package-Deps] Package name is required");const n=await async function(t){const e=atom.packages.getLoadedPackage(t),n=e&&e.metadata["package-deps"];return Array.isArray(n)?(await Promise.all(n.map((async function(t){let e=null,n=t,r=null;const i=It.exec(t),o=At.exec(t);if(i?[,n,r]=i:o?[,n,e]=o:n=t,__steelbrain_package_deps.has(n))return null;const s=atom.packages.resolvePackagePath(n);if(s){if(!r)return null;const t=JSON.parse(await B.readFile(j.join(s,"package.json")));if(null!=t&&null!=t.version&&((t,e,n)=>{try{e=new ct(e,n)}catch(t){return!1}return e.test(t)})(t.version,">="+r))return null}return __steelbrain_package_deps.add(n),{name:n,url:e}})))).filter(Boolean):[]}(t);if(n.length){if(e){let e="Yes";if(await Promise.resolve().then((function(){return Pt()})).then((async({promptUser:r})=>{e=await r(t,n)})),"Yes"!==e)return}await Promise.resolve().then((function(){return Rt()})).then((async({performInstall:e})=>e(t,n)))}},O.installDependencies=C,k=C,I.install=k;var jt,Dt,Ft={};Dt={onCopy:"copy",onCut:"cut",onPaste:"paste",onCompositionEnd:"compositionend",onCompositionStart:"compositionstart",onCompositionUpdate:"compositionupdate",onKeyDown:"keydown",onKeyPress:"keypress",onKeyUp:"keyup",onFocus:"focus",onBlur:"blur",onChange:"change",onInput:"input",onSubmit:"submit",onClick:"click",onContextMenu:"contextmenu",onDoubleClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragEnter:"dragenter",onDragExit:"dragexit",onDragLeave:"dragleave",onDragOver:"dragover",onDragStart:"dragstart",onDrop:"drop",onMouseDown:"mousedown",onMouseEnter:"mouseenter",onMouseLeave:"mouseleave",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onSelect:"select",onTouchCancel:"touchcancel",onTouchEnd:"touchend",onTouchMove:"touchmove",onTouchStart:"touchstart",onScroll:"scroll",onWheel:"wheel",onAbort:"abort",onCanPlay:"canplay",onCanPlayThrough:"canplaythrough",onDurationChange:"durationchange",onEmptied:"emptied",onEncrypted:"encrypted",onEnded:"ended",onError:"error",onLoadedData:"loadeddata",onLoadedMetadata:"loadedmetadata",onLoadStart:"loadstart",onPause:"pause",onPlay:"play",onPlaying:"playing",onProgress:"progress",onRateChange:"ratechange",onSeeked:"seeked",onSeeking:"seeking",onStalled:"stalled",onSuspend:"suspend",onTimeUpdate:"timeupdate",onVolumeChange:"volumechange",onWaiting:"waiting",onLoad:"load",onAnimationStart:"animationstart",onAnimationEnd:"animationend",onAnimationIteration:"animationiteration",onTransitionEnd:"transitionend"};var Mt={};function $t(t,e,...n){let r=[];for(let t=0;t<n.length;){const e=n[t];switch(typeof e){case"string":case"number":n[t]={text:e},t++;break;case"object":Array.isArray(e)?n.splice(t,1,...e):e?(e.context||(r.push(e),e.ambiguous&&e.ambiguous.length&&(r=r.concat(e.ambiguous))),t++):n.splice(t,1);break;default:throw new Error("Invalid child node: "+e)}}if(e){for(const t in e){const n=Dt[t];n&&(e.on||(e.on={}),e.on[n]=e[t])}e.class&&(e.className=e.class)}return{tag:t,props:e,children:n,ambiguous:r}}Mt=new Set(["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]);const Bt=["a","abbr","address","article","aside","audio","b","bdi","bdo","blockquote","body","button","canvas","caption","cite","code","colgroup","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","html","i","iframe","ins","kbd","label","legend","li","main","map","mark","menu","meter","nav","noscript","object","ol","optgroup","option","output","p","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","u","ul","var","video","area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];for(const t of Bt)$t[t]=(e,...n)=>$t(t,e,...n);for(const t of Mt)$t[t]=(e,...n)=>$t(t,e,...n);jt=$t;var zt,Ut={},Ht={};Ht=new Map([["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["className","class"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["panose1","panose-1"],["paintOrder","paint-order"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xHeight","x-height"]]);var qt;function Gt(t,e,n,r,i){if(n)for(var o in n)"ref"!==o&&"on"!==o&&(o in Dt||i&&o in i||("dataset"===o?Gt(t.dataset,null,n&&n.dataset,null,null):"innerHTML"!==o&&e&&Mt.has(e.tag)?t.removeAttribute(Ht.get(o)||o):(t[o]="",delete t[o])));if(i)for(var o in i)if("ref"!==o&&"on"!==o&&!(o in Dt)){var s=n&&n[o],a=i[o];"dataset"===o?Vt(t.dataset,s,a,!1):"style"===o&&"string"!=typeof a?("string"==typeof s&&(t.style="",s=null),Vt(t.style,s,a,!0)):"attributes"===o?Wt(t,s,a):a!==s&&("innerHTML"!==o&&r&&Mt.has(r.tag)?t.setAttribute(Ht.get(o)||o,a):r&&"input"===r.tag&&"value"===o&&t[o]===a||(t[o]=a))}}function Vt(t,e,n,r){if(e)for(var i in e)n&&i in n||(r?t[i]="":delete t[i]);if(n)for(var i in n){const r=e&&e[i],o=n[i];o!==r&&(t[i]=o)}}function Wt(t,e,n){if(e)for(var r in e)n&&r in n||t.removeAttribute(r);if(n)for(var r in n){const i=e&&e[r],o=n[r];o!==i&&t.setAttribute(r,o)}}function Xt(t,e){let n;if(null!=t.text)n=document.createTextNode(t.text);else{const{tag:r,children:i}=t;let{props:o,context:s}=t;if(s&&(e={refs:s.refs,listenerContext:s}),"function"==typeof r){let s;o&&o.ref&&(s=o.ref);const a=new r(o||{},i);t.component=a,n=a.element,"function"==typeof s?s(a):e&&e.refs&&s&&(e.refs[s]=a)}else Mt.has(r)?(n=document.createElementNS("http://www.w3.org/2000/svg",r),i&&Kt(n,i,e),o&&zt(n,null,t,e)):(n=document.createElement(r),i&&Kt(n,i,e),o&&zt(n,null,t,e))}return t.domNode=n,n}function Kt(t,e,n){for(let r=0;r<e.length;r++)t.appendChild(Xt(e[r],n))}qt=function(t,e,n,r){n!==e&&("function"==typeof e?e(null):e&&r[e]===t&&delete r[e],"function"==typeof n?n(t):n&&(r[n]=t))},zt=function(t,e,n,r){const i=e&&e.props,o=n.props;let s,a;r&&(s=r.refs,a=r.listenerContext),Gt(t,e,i,n,o),s&&qt(t,i&&i.ref,o&&o.ref,s),function(t,e,n,r){const i=e&&e.props&&e.props.on,o=n.props&&n.props.on;for(const n in i)if(!o||!(n in o)){let r;r=e&&e.boundListeners&&e.boundListeners[n]?e.boundListeners[n]:i[n],t.removeEventListener(n,r)}for(const s in o){const a=i&&i[s],c=o[s];if(c!==a){if(a){let n;n=e&&e.boundListeners&&e.boundListeners[s]?e.boundListeners[s]:a,t.removeEventListener(s,n)}if(c){let e;r?(e=c.bind(r),n.boundListeners||(n.boundListeners={}),n.boundListeners[s]=e):e=c,t.addEventListener(s,e)}}}}(t,e,n,a)},Ut=Xt;var Qt,Zt={};function Yt(t,e,n){const r=t.domNode;if(e===t)return r;if(ee(t,e)){let i;return null!=e.text?(r.nodeValue=e.text,i=r):"function"==typeof e.tag?i=function(t,e,n){const{component:r,props:i}=t;let{props:o,children:s}=e;e.component=r;const a=n&&n.refs;a&&qt(r,i&&i.ref,o&&o.ref,a);return r.update(o||{},s),r.element}(t,e,n):(!function(t,e,n,r){var i,o=0,s=e.length-1,a=e[0],c=e[s],u=0,l=n.length-1,f=n[0],p=n[l];for(;o<=s&&u<=l;)if(a)if(c)if(ee(a,f))Yt(a,f,r),a=e[++o],f=n[++u];else if(ee(c,p))Yt(c,p,r),c=e[--s],p=n[--l];else if(ee(a,p))Yt(a,p,r),t.insertBefore(a.domNode,c.domNode.nextSibling),a=e[++o],p=n[--l];else if(ee(c,f))Yt(c,f,r),t.insertBefore(c.domNode,a.domNode),c=e[--s],f=n[++u];else{i||(Jt.length>0?(i=Jt.pop()).clear():i=new Map,re(i,e,o,s));var h=ne(f),d=h?i.get(h):null;if(null==d)t.insertBefore(Ut(f,r),a.domNode),f=n[++u];else{var m=e[d];Yt(m,f,r),e[d]=void 0,t.insertBefore(m.domNode,a.domNode),f=n[++u]}}else c=e[--s];else a=e[++o];if(o>s){var g=n[l+1]?n[l+1].domNode:null;for(let e=u;e<=l;e++)t.insertBefore(Ut(n[e],r),g)}else if(u>l)for(let t=o;t<=s;t++){var v=e[t];v&&te(v,r&&r.refs)}i&&Jt.push(i)}(r,t.children,e.children,n),zt(r,t,e,n),i=r),e.domNode=i,i!==r&&r.parentNode&&r.parentNode.replaceChild(i,r),i}{const i=r.parentNode,o=r.nextSibling;te(t,n&&n.refs);const s=Ut(e,n);return i&&i.insertBefore(s,o),e.domNode=s,s}}let Jt=[new Map,new Map,new Map,new Map];function te(t,e,n=!0){const{domNode:r,props:i,children:o,component:s}=t,a=i&&i.ref;if(s)"function"==typeof a?a(null):e&&a&&e[a]===s&&delete e[a],s.destroy&&s.destroy();else if("function"==typeof a?a(null):e&&a&&e[a]===r&&delete e[a],o)for(let t=0;t<o.length;t++)te(o[t],e,!1);n&&r.remove()}function ee(t,e){return ne(t)===ne(e)&&t.tag===e.tag}function ne(t){return t.props?t.props.key:void 0}function re(t,e,n,r){for(let i=n;i<=r;i++){const n=ne(e[i]);n&&t.set(n,i)}return t}Zt=Yt;var ie;ie=class{constructor(){this.updateRequests=[],this.readRequests=[],this.pendingAnimationFrame=null,this.performUpdates=this.performUpdates.bind(this),this.performingUpdates=!1}updateDocument(t){this.updateRequests.push(t),this.pendingAnimationFrame||(this.pendingAnimationFrame=window.requestAnimationFrame(this.performUpdates))}readDocument(t){this.readRequests.push(t),this.pendingAnimationFrame||(this.pendingAnimationFrame=window.requestAnimationFrame(this.performUpdates))}getNextUpdatePromise(){return this.nextUpdatePromise||(this.nextUpdatePromise=new Promise((t=>{this.resolveNextUpdatePromise=t}))),this.nextUpdatePromise}performUpdates(){for(;this.updateRequests.length>0;)this.updateRequests.shift()();for(this.pendingAnimationFrame=null;this.readRequests.length>0;)this.readRequests.shift()();if(this.nextUpdatePromise){let t=this.resolveNextUpdatePromise;this.nextUpdatePromise=null,this.resolveNextUpdatePromise=null,t()}}};let oe=null;var se=function(){return oe||(oe=new ie),oe};const ae=new WeakSet;let ce=0,ue=0;function le(t){return null!=t&&!1!==t}function fe(t,e){e.context=t,e.ambiguous&&(e.ambiguous.forEach((e=>{e.context=t})),delete e.ambiguous)}function pe(t,e=!0){if(!le(t.virtualNode))throw new Error((t.constructor?t.constructor.name+" instance":t)+" is not associated with a valid virtualNode. Perhaps this component was never initialized?");if(null==t.element)throw new Error((t.constructor?t.constructor.name+" instance":t)+" is not associated with a DOM element. Perhaps this component was never initialized?");let n=t.render();if(!le(n)){const e=t.constructor&&t.constructor.name?" in "+t.constructor.name:"";throw new Error("invalid falsy value "+n+" returned from render()"+e)}fe(t,n),ce++;let r=t.virtualNode,i=t.element,o=Zt(r,n,{refs:t.refs,listenerContext:t});if(t.virtualNode=n,o!==i&&!e)throw new Error("The root node type changed on update, but the update was performed with the replaceNode option set to false");t.element=o,"function"==typeof t.writeAfterUpdate&&t.writeAfterUpdate(),"function"==typeof t.readAfterUpdate&&se().readDocument((function(){t.readAfterUpdate()})),ce--}function he(t,e=!0){ue++,de(t.virtualNode),1===ue&&e&&t.element.remove(),ue--}function de(t){t.component&&"function"==typeof t.component.destroy?t.component.destroy():t.children&&t.children.forEach(de)}Qt={initialize:function(t){if("function"!=typeof t.update)throw new Error("Etch components must implement `update(props, children)`.");let e=t.render();if(!le(e)){let n=t.constructor&&t.constructor.name?" in "+t.constructor.name:"";throw new Error("invalid falsy value "+e+" returned from render()"+n)}fe(t,e),t.refs={},t.virtualNode=e,t.element=Ut(t.virtualNode,{refs:t.refs,listenerContext:t})},update:function(t,e=!0){if(ce>0)return pe(t,e),Promise.resolve();let n=se();return ae.has(t)||(ae.add(t),n.updateDocument((function(){ae.delete(t),pe(t,e)}))),n.getNextUpdatePromise()},updateSync:pe,destroy:function(t,e=!0){if(ce>0||ue>0)return he(t,e),Promise.resolve();let n=se();return n.updateDocument((function(){he(t,e)})),n.getNextUpdatePromise()},destroySync:he};const{initialize:me,update:ge,updateSync:ve,destroy:ye,destroySync:we}=Qt;function be(t){void 0!==t&&("function"==typeof t.catch?t.catch((t=>{atom.notifications.addFatalError("Atom-Typescript error: "+t.message,{detail:t.toString(),stack:t.stack,dismissable:!0})})):atom.notifications.addFatalError("Atom-Typescript: non-promise passed to handlePromise. Please report this.",{stack:(new Error).stack,dismissable:!0}))}Ft={dom:jt,render:Ut,initialize:me,update:ge,updateSync:ve,destroy:ye,destroySync:we,setScheduler:function(t){oe=t},getScheduler:se};var Ee=function(){var t=this,e={exports:this};return function(){var n,r="Expected a function",i="__lodash_hash_undefined__",o="__lodash_placeholder__",s=16,a=32,c=64,u=128,l=256,f=1/0,p=9007199254740991,h=NaN,d=4294967295,m=[["ary",u],["bind",1],["bindKey",2],["curry",8],["curryRight",s],["flip",512],["partial",a],["partialRight",c],["rearg",l]],g="[object Arguments]",v="[object Array]",y="[object Boolean]",w="[object Date]",b="[object Error]",E="[object Function]",_="[object GeneratorFunction]",S="[object Map]",x="[object Number]",k="[object Object]",I="[object Promise]",A="[object RegExp]",C="[object Set]",O="[object String]",P="[object Symbol]",N="[object WeakMap]",L="[object ArrayBuffer]",R="[object DataView]",j="[object Float32Array]",D="[object Float64Array]",F="[object Int8Array]",M="[object Int16Array]",$="[object Int32Array]",B="[object Uint8Array]",z="[object Uint8ClampedArray]",U="[object Uint16Array]",H="[object Uint32Array]",q=/\b__p \+= '';/g,G=/\b(__p \+=) '' \+/g,V=/(__e\(.*?\)|\b__t\)) \+\n'';/g,W=/&(?:amp|lt|gt|quot|#39);/g,X=/[&<>"']/g,K=RegExp(W.source),Q=RegExp(X.source),Z=/<%-([\s\S]+?)%>/g,Y=/<%([\s\S]+?)%>/g,J=/<%=([\s\S]+?)%>/g,tt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,et=/^\w*$/,nt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rt=/[\\^$.*+?()[\]{}|]/g,it=RegExp(rt.source),ot=/^\s+|\s+$/g,st=/^\s+/,at=/\s+$/,ct=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ut=/\{\n\/\* \[wrapped with (.+)\] \*/,lt=/,? & /,ft=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,pt=/\\(\\)?/g,ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,dt=/\w*$/,mt=/^[-+]0x[0-9a-f]+$/i,gt=/^0b[01]+$/i,vt=/^\[object .+?Constructor\]$/,yt=/^0o[0-7]+$/i,wt=/^(?:0|[1-9]\d*)$/,bt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Et=/($^)/,_t=/['\n\r\u2028\u2029\\]/g,St="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",xt="\\u2700-\\u27bf",kt="a-z\\xdf-\\xf6\\xf8-\\xff",Tt="A-Z\\xc0-\\xd6\\xd8-\\xde",It="\\ufe0e\\ufe0f",At="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ct="['’]",Ot="[\\ud800-\\udfff]",Pt="["+At+"]",Nt="["+St+"]",Lt="\\d+",Rt="[\\u2700-\\u27bf]",jt="["+kt+"]",Dt="[^\\ud800-\\udfff"+At+Lt+xt+kt+Tt+"]",Ft="\\ud83c[\\udffb-\\udfff]",Mt="[^\\ud800-\\udfff]",$t="(?:\\ud83c[\\udde6-\\uddff]){2}",Bt="[\\ud800-\\udbff][\\udc00-\\udfff]",zt="["+Tt+"]",Ut="(?:"+jt+"|"+Dt+")",Ht="(?:"+zt+"|"+Dt+")",qt="(?:['’](?:d|ll|m|re|s|t|ve))?",Gt="(?:['’](?:D|LL|M|RE|S|T|VE))?",Vt="(?:"+Nt+"|"+Ft+")"+"?",Wt="[\\ufe0e\\ufe0f]?",Xt=Wt+Vt+("(?:\\u200d(?:"+[Mt,$t,Bt].join("|")+")"+Wt+Vt+")*"),Kt="(?:"+[Rt,$t,Bt].join("|")+")"+Xt,Qt="(?:"+[Mt+Nt+"?",Nt,$t,Bt,Ot].join("|")+")",Zt=RegExp(Ct,"g"),Yt=RegExp(Nt,"g"),Jt=RegExp(Ft+"(?="+Ft+")|"+Qt+Xt,"g"),te=RegExp([zt+"?"+jt+"+"+qt+"(?="+[Pt,zt,"$"].join("|")+")",Ht+"+"+Gt+"(?="+[Pt,zt+Ut,"$"].join("|")+")",zt+"?"+Ut+"+"+qt,zt+"+"+Gt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Lt,Kt].join("|"),"g"),ee=RegExp("[\\u200d\\ud800-\\udfff"+St+It+"]"),ne=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,re=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ie=-1,oe={};oe[j]=oe[D]=oe[F]=oe[M]=oe[$]=oe[B]=oe[z]=oe[U]=oe[H]=!0,oe[g]=oe[v]=oe[L]=oe[y]=oe[R]=oe[w]=oe[b]=oe[E]=oe[S]=oe[x]=oe[k]=oe[A]=oe[C]=oe[O]=oe[N]=!1;var se={};se[g]=se[v]=se[L]=se[R]=se[y]=se[w]=se[j]=se[D]=se[F]=se[M]=se[$]=se[S]=se[x]=se[k]=se[A]=se[C]=se[O]=se[P]=se[B]=se[z]=se[U]=se[H]=!0,se[b]=se[E]=se[N]=!1;var ae={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ce=parseFloat,ue=parseInt,le="object"==typeof T&&T&&T.Object===Object&&T,fe="object"==typeof self&&self&&self.Object===Object&&self,pe=le||fe||Function("return this")(),he="object"==typeof t&&t&&!t.nodeType&&t,de=he&&"object"==typeof e&&e&&!e.nodeType&&e,me=de&&de.exports===he,ge=me&&le.process,ve=function(){try{var t=de&&de.require&&de.require("util").types;return t||ge&&ge.binding&&ge.binding("util")}catch(t){}}(),ye=ve&&ve.isArrayBuffer,we=ve&&ve.isDate,be=ve&&ve.isMap,Ee=ve&&ve.isRegExp,_e=ve&&ve.isSet,Se=ve&&ve.isTypedArray;function xe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ke(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var s=t[i];e(r,s,n(s),t)}return r}function Te(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Ie(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Ae(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Ce(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function Oe(t,e){return!!(null==t?0:t.length)&&Be(t,e,0)>-1}function Pe(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function Ne(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function Le(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function Re(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function je(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function De(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Fe=qe("length");function Me(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function $e(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function Be(t,e,n){return e==e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):$e(t,Ue,n)}function ze(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function Ue(t){return t!=t}function He(t,e){var n=null==t?0:t.length;return n?We(t,e)/n:h}function qe(t){return function(e){return null==e?n:e[t]}}function Ge(t){return function(e){return null==t?n:t[e]}}function Ve(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function We(t,e){for(var r,i=-1,o=t.length;++i<o;){var s=e(t[i]);s!==n&&(r=r===n?s:r+s)}return r}function Xe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Ke(t){return function(e){return t(e)}}function Qe(t,e){return Ne(e,(function(e){return t[e]}))}function Ze(t,e){return t.has(e)}function Ye(t,e){for(var n=-1,r=t.length;++n<r&&Be(e,t[n],0)>-1;);return n}function Je(t,e){for(var n=t.length;n--&&Be(e,t[n],0)>-1;);return n}function tn(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var en=Ge({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),nn=Ge({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function rn(t){return"\\"+ae[t]}function on(t){return ee.test(t)}function sn(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function an(t,e){return function(n){return t(e(n))}}function cn(t,e){for(var n=-1,r=t.length,i=0,s=[];++n<r;){var a=t[n];a!==e&&a!==o||(t[n]=o,s[i++]=n)}return s}function un(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function ln(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function fn(t){return on(t)?function(t){var e=Jt.lastIndex=0;for(;Jt.test(t);)++e;return e}(t):Fe(t)}function pn(t){return on(t)?function(t){return t.match(Jt)||[]}(t):function(t){return t.split("")}(t)}var hn=Ge({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var dn=function t(e){var T,St=(e=null==e?pe:dn.defaults(pe.Object(),e,dn.pick(pe,re))).Array,xt=e.Date,kt=e.Error,Tt=e.Function,It=e.Math,At=e.Object,Ct=e.RegExp,Ot=e.String,Pt=e.TypeError,Nt=St.prototype,Lt=Tt.prototype,Rt=At.prototype,jt=e["__core-js_shared__"],Dt=Lt.toString,Ft=Rt.hasOwnProperty,Mt=0,$t=(T=/[^.]+$/.exec(jt&&jt.keys&&jt.keys.IE_PROTO||""))?"Symbol(src)_1."+T:"",Bt=Rt.toString,zt=Dt.call(At),Ut=pe._,Ht=Ct("^"+Dt.call(Ft).replace(rt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qt=me?e.Buffer:n,Gt=e.Symbol,Vt=e.Uint8Array,Wt=qt?qt.allocUnsafe:n,Xt=an(At.getPrototypeOf,At),Kt=At.create,Qt=Rt.propertyIsEnumerable,Jt=Nt.splice,ee=Gt?Gt.isConcatSpreadable:n,ae=Gt?Gt.iterator:n,le=Gt?Gt.toStringTag:n,fe=function(){try{var t=po(At,"defineProperty");return t({},"",{}),t}catch(t){}}(),he=e.clearTimeout!==pe.clearTimeout&&e.clearTimeout,de=xt&&xt.now!==pe.Date.now&&xt.now,ge=e.setTimeout!==pe.setTimeout&&e.setTimeout,ve=It.ceil,Fe=It.floor,Ge=At.getOwnPropertySymbols,mn=qt?qt.isBuffer:n,gn=e.isFinite,vn=Nt.join,yn=an(At.keys,At),wn=It.max,bn=It.min,En=xt.now,_n=e.parseInt,Sn=It.random,xn=Nt.reverse,kn=po(e,"DataView"),Tn=po(e,"Map"),In=po(e,"Promise"),An=po(e,"Set"),Cn=po(e,"WeakMap"),On=po(At,"create"),Pn=Cn&&new Cn,Nn={},Ln=Bo(kn),Rn=Bo(Tn),jn=Bo(In),Dn=Bo(An),Fn=Bo(Cn),Mn=Gt?Gt.prototype:n,$n=Mn?Mn.valueOf:n,Bn=Mn?Mn.toString:n;function zn(t){if(ra(t)&&!Vs(t)&&!(t instanceof Gn)){if(t instanceof qn)return t;if(Ft.call(t,"__wrapped__"))return zo(t)}return new qn(t)}var Un=function(){function t(){}return function(e){if(!na(e))return{};if(Kt)return Kt(e);t.prototype=e;var r=new t;return t.prototype=n,r}}();function Hn(){}function qn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=n}function Gn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function Vn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Wn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Xn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Kn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Xn;++e<n;)this.add(t[e])}function Qn(t){var e=this.__data__=new Wn(t);this.size=e.size}function Zn(t,e){var n=Vs(t),r=!n&&Gs(t),i=!n&&!r&&Qs(t),o=!n&&!r&&!i&&fa(t),s=n||r||i||o,a=s?Xe(t.length,Ot):[],c=a.length;for(var u in t)!e&&!Ft.call(t,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||bo(u,c))||a.push(u);return a}function Yn(t){var e=t.length;return e?t[Kr(0,e-1)]:n}function Jn(t,e){return Fo(Oi(t),cr(e,0,t.length))}function tr(t){return Fo(Oi(t))}function er(t,e,r){(r!==n&&!Us(t[e],r)||r===n&&!(e in t))&&sr(t,e,r)}function nr(t,e,r){var i=t[e];Ft.call(t,e)&&Us(i,r)&&(r!==n||e in t)||sr(t,e,r)}function rr(t,e){for(var n=t.length;n--;)if(Us(t[n][0],e))return n;return-1}function ir(t,e,n,r){return hr(t,(function(t,i,o){e(r,t,n(t),o)})),r}function or(t,e){return t&&Pi(e,La(e),t)}function sr(t,e,n){"__proto__"==e&&fe?fe(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function ar(t,e){for(var r=-1,i=e.length,o=St(i),s=null==t;++r<i;)o[r]=s?n:Aa(t,e[r]);return o}function cr(t,e,r){return t==t&&(r!==n&&(t=t<=r?t:r),e!==n&&(t=t>=e?t:e)),t}function ur(t,e,r,i,o,s){var a,c=1&e,u=2&e,l=4&e;if(r&&(a=o?r(t,i,o,s):r(t)),a!==n)return a;if(!na(t))return t;var f=Vs(t);if(f){if(a=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&Ft.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!c)return Oi(t,a)}else{var p=go(t),h=p==E||p==_;if(Qs(t))return xi(t,c);if(p==k||p==g||h&&!o){if(a=u||h?{}:yo(t),!c)return u?function(t,e){return Pi(t,mo(t),e)}(t,function(t,e){return t&&Pi(e,Ra(e),t)}(a,t)):function(t,e){return Pi(t,ho(t),e)}(t,or(a,t))}else{if(!se[p])return o?t:{};a=function(t,e,n){var r=t.constructor;switch(e){case L:return ki(t);case y:case w:return new r(+t);case R:return function(t,e){var n=e?ki(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case j:case D:case F:case M:case $:case B:case z:case U:case H:return Ti(t,n);case S:return new r;case x:case O:return new r(t);case A:return function(t){var e=new t.constructor(t.source,dt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case C:return new r;case P:return i=t,$n?At($n.call(i)):{}}var i}(t,p,c)}}s||(s=new Qn);var d=s.get(t);if(d)return d;s.set(t,a),ca(t)?t.forEach((function(n){a.add(ur(n,e,r,n,t,s))})):ia(t)&&t.forEach((function(n,i){a.set(i,ur(n,e,r,i,t,s))}));var m=f?n:(l?u?oo:io:u?Ra:La)(t);return Te(m||t,(function(n,i){m&&(n=t[i=n]),nr(a,i,ur(n,e,r,i,t,s))})),a}function lr(t,e,r){var i=r.length;if(null==t)return!i;for(t=At(t);i--;){var o=r[i],s=e[o],a=t[o];if(a===n&&!(o in t)||!s(a))return!1}return!0}function fr(t,e,i){if("function"!=typeof t)throw new Pt(r);return Lo((function(){t.apply(n,i)}),e)}function pr(t,e,n,r){var i=-1,o=Oe,s=!0,a=t.length,c=[],u=e.length;if(!a)return c;n&&(e=Ne(e,Ke(n))),r?(o=Pe,s=!1):e.length>=200&&(o=Ze,s=!1,e=new Kn(e));t:for(;++i<a;){var l=t[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,s&&f==f){for(var p=u;p--;)if(e[p]===f)continue t;c.push(l)}else o(e,f,r)||c.push(l)}return c}zn.templateSettings={escape:Z,evaluate:Y,interpolate:J,variable:"",imports:{_:zn}},zn.prototype=Hn.prototype,zn.prototype.constructor=zn,qn.prototype=Un(Hn.prototype),qn.prototype.constructor=qn,Gn.prototype=Un(Hn.prototype),Gn.prototype.constructor=Gn,Vn.prototype.clear=function(){this.__data__=On?On(null):{},this.size=0},Vn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Vn.prototype.get=function(t){var e=this.__data__;if(On){var r=e[t];return r===i?n:r}return Ft.call(e,t)?e[t]:n},Vn.prototype.has=function(t){var e=this.__data__;return On?e[t]!==n:Ft.call(e,t)},Vn.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=On&&e===n?i:e,this},Wn.prototype.clear=function(){this.__data__=[],this.size=0},Wn.prototype.delete=function(t){var e=this.__data__,n=rr(e,t);return!(n<0)&&(n==e.length-1?e.pop():Jt.call(e,n,1),--this.size,!0)},Wn.prototype.get=function(t){var e=this.__data__,r=rr(e,t);return r<0?n:e[r][1]},Wn.prototype.has=function(t){return rr(this.__data__,t)>-1},Wn.prototype.set=function(t,e){var n=this.__data__,r=rr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Xn.prototype.clear=function(){this.size=0,this.__data__={hash:new Vn,map:new(Tn||Wn),string:new Vn}},Xn.prototype.delete=function(t){var e=lo(this,t).delete(t);return this.size-=e?1:0,e},Xn.prototype.get=function(t){return lo(this,t).get(t)},Xn.prototype.has=function(t){return lo(this,t).has(t)},Xn.prototype.set=function(t,e){var n=lo(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Kn.prototype.add=Kn.prototype.push=function(t){return this.__data__.set(t,i),this},Kn.prototype.has=function(t){return this.__data__.has(t)},Qn.prototype.clear=function(){this.__data__=new Wn,this.size=0},Qn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Qn.prototype.get=function(t){return this.__data__.get(t)},Qn.prototype.has=function(t){return this.__data__.has(t)},Qn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Wn){var r=n.__data__;if(!Tn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Xn(r)}return n.set(t,e),this.size=n.size,this};var hr=Ri(Er),dr=Ri(_r,!0);function mr(t,e){var n=!0;return hr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function gr(t,e,r){for(var i=-1,o=t.length;++i<o;){var s=t[i],a=e(s);if(null!=a&&(c===n?a==a&&!la(a):r(a,c)))var c=a,u=s}return u}function vr(t,e){var n=[];return hr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function yr(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=wo),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?yr(a,e-1,n,r,i):Le(i,a):r||(i[i.length]=a)}return i}var wr=ji(),br=ji(!0);function Er(t,e){return t&&wr(t,e,La)}function _r(t,e){return t&&br(t,e,La)}function Sr(t,e){return Ce(e,(function(e){return Js(t[e])}))}function xr(t,e){for(var r=0,i=(e=bi(e,t)).length;null!=t&&r<i;)t=t[$o(e[r++])];return r&&r==i?t:n}function kr(t,e,n){var r=e(t);return Vs(t)?r:Le(r,n(t))}function Tr(t){return null==t?t===n?"[object Undefined]":"[object Null]":le&&le in At(t)?function(t){var e=Ft.call(t,le),r=t[le];try{t[le]=n;var i=!0}catch(t){}var o=Bt.call(t);i&&(e?t[le]=r:delete t[le]);return o}(t):function(t){return Bt.call(t)}(t)}function Ir(t,e){return t>e}function Ar(t,e){return null!=t&&Ft.call(t,e)}function Cr(t,e){return null!=t&&e in At(t)}function Or(t,e,r){for(var i=r?Pe:Oe,o=t[0].length,s=t.length,a=s,c=St(s),u=1/0,l=[];a--;){var f=t[a];a&&e&&(f=Ne(f,Ke(e))),u=bn(f.length,u),c[a]=!r&&(e||o>=120&&f.length>=120)?new Kn(a&&f):n}f=t[0];var p=-1,h=c[0];t:for(;++p<o&&l.length<u;){var d=f[p],m=e?e(d):d;if(d=r||0!==d?d:0,!(h?Ze(h,m):i(l,m,r))){for(a=s;--a;){var g=c[a];if(!(g?Ze(g,m):i(t[a],m,r)))continue t}h&&h.push(m),l.push(d)}}return l}function Pr(t,e,r){var i=null==(t=Co(t,e=bi(e,t)))?t:t[$o(Yo(e))];return null==i?n:xe(i,t,r)}function Nr(t){return ra(t)&&Tr(t)==g}function Lr(t,e,r,i,o){return t===e||(null==t||null==e||!ra(t)&&!ra(e)?t!=t&&e!=e:function(t,e,r,i,o,s){var a=Vs(t),c=Vs(e),u=a?v:go(t),l=c?v:go(e),f=(u=u==g?k:u)==k,p=(l=l==g?k:l)==k,h=u==l;if(h&&Qs(t)){if(!Qs(e))return!1;a=!0,f=!1}if(h&&!f)return s||(s=new Qn),a||fa(t)?no(t,e,r,i,o,s):function(t,e,n,r,i,o,s){switch(n){case R:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case L:return!(t.byteLength!=e.byteLength||!o(new Vt(t),new Vt(e)));case y:case w:case x:return Us(+t,+e);case b:return t.name==e.name&&t.message==e.message;case A:case O:return t==e+"";case S:var a=sn;case C:var c=1&r;if(a||(a=un),t.size!=e.size&&!c)return!1;var u=s.get(t);if(u)return u==e;r|=2,s.set(t,e);var l=no(a(t),a(e),r,i,o,s);return s.delete(t),l;case P:if($n)return $n.call(t)==$n.call(e)}return!1}(t,e,u,r,i,o,s);if(!(1&r)){var d=f&&Ft.call(t,"__wrapped__"),m=p&&Ft.call(e,"__wrapped__");if(d||m){var E=d?t.value():t,_=m?e.value():e;return s||(s=new Qn),o(E,_,r,i,s)}}if(!h)return!1;return s||(s=new Qn),function(t,e,r,i,o,s){var a=1&r,c=io(t),u=c.length,l=io(e).length;if(u!=l&&!a)return!1;var f=u;for(;f--;){var p=c[f];if(!(a?p in e:Ft.call(e,p)))return!1}var h=s.get(t),d=s.get(e);if(h&&d)return h==e&&d==t;var m=!0;s.set(t,e),s.set(e,t);var g=a;for(;++f<u;){var v=t[p=c[f]],y=e[p];if(i)var w=a?i(y,v,p,e,t,s):i(v,y,p,t,e,s);if(!(w===n?v===y||o(v,y,r,i,s):w)){m=!1;break}g||(g="constructor"==p)}if(m&&!g){var b=t.constructor,E=e.constructor;b==E||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof E&&E instanceof E||(m=!1)}return s.delete(t),s.delete(e),m}(t,e,r,i,o,s)}(t,e,r,i,Lr,o))}function Rr(t,e,r,i){var o=r.length,s=o,a=!i;if(null==t)return!s;for(t=At(t);o--;){var c=r[o];if(a&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++o<s;){var u=(c=r[o])[0],l=t[u],f=c[1];if(a&&c[2]){if(l===n&&!(u in t))return!1}else{var p=new Qn;if(i)var h=i(l,f,u,t,e,p);if(!(h===n?Lr(f,l,3,i,p):h))return!1}}return!0}function jr(t){return!(!na(t)||(e=t,$t&&$t in e))&&(Js(t)?Ht:vt).test(Bo(t));var e}function Dr(t){return"function"==typeof t?t:null==t?oc:"object"==typeof t?Vs(t)?Ur(t[0],t[1]):zr(t):dc(t)}function Fr(t){if(!ko(t))return yn(t);var e=[];for(var n in At(t))Ft.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Mr(t){if(!na(t))return function(t){var e=[];if(null!=t)for(var n in At(t))e.push(n);return e}(t);var e=ko(t),n=[];for(var r in t)("constructor"!=r||!e&&Ft.call(t,r))&&n.push(r);return n}function $r(t,e){return t<e}function Br(t,e){var n=-1,r=Xs(t)?St(t.length):[];return hr(t,(function(t,i,o){r[++n]=e(t,i,o)})),r}function zr(t){var e=fo(t);return 1==e.length&&e[0][2]?Io(e[0][0],e[0][1]):function(n){return n===t||Rr(n,t,e)}}function Ur(t,e){return _o(t)&&To(e)?Io($o(t),e):function(r){var i=Aa(r,t);return i===n&&i===e?Ca(r,t):Lr(e,i,3)}}function Hr(t,e,r,i,o){t!==e&&wr(e,(function(s,a){if(o||(o=new Qn),na(s))!function(t,e,r,i,o,s,a){var c=Po(t,r),u=Po(e,r),l=a.get(u);if(l)return void er(t,r,l);var f=s?s(c,u,r+"",t,e,a):n,p=f===n;if(p){var h=Vs(u),d=!h&&Qs(u),m=!h&&!d&&fa(u);f=u,h||d||m?Vs(c)?f=c:Ks(c)?f=Oi(c):d?(p=!1,f=xi(u,!0)):m?(p=!1,f=Ti(u,!0)):f=[]:sa(u)||Gs(u)?(f=c,Gs(c)?f=wa(c):na(c)&&!Js(c)||(f=yo(u))):p=!1}p&&(a.set(u,f),o(f,u,i,s,a),a.delete(u));er(t,r,f)}(t,e,a,r,Hr,i,o);else{var c=i?i(Po(t,a),s,a+"",t,e,o):n;c===n&&(c=s),er(t,a,c)}}),Ra)}function qr(t,e){var r=t.length;if(r)return bo(e+=e<0?r:0,r)?t[e]:n}function Gr(t,e,n){e=e.length?Ne(e,(function(t){return Vs(t)?function(e){return xr(e,1===t.length?t[0]:t)}:t})):[oc];var r=-1;return e=Ne(e,Ke(uo())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(Br(t,(function(t,n,i){return{criteria:Ne(e,(function(e){return e(t)})),index:++r,value:t}})),(function(t,e){return function(t,e,n){var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;for(;++r<s;){var c=Ii(i[r],o[r]);if(c)return r>=a?c:c*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}))}function Vr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=xr(t,s);n(a,s)&&ti(o,bi(s,t),a)}return o}function Wr(t,e,n,r){var i=r?ze:Be,o=-1,s=e.length,a=t;for(t===e&&(e=Oi(e)),n&&(a=Ne(t,Ke(n)));++o<s;)for(var c=0,u=e[o],l=n?n(u):u;(c=i(a,l,c,r))>-1;)a!==t&&Jt.call(a,c,1),Jt.call(t,c,1);return t}function Xr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;bo(i)?Jt.call(t,i,1):pi(t,i)}}return t}function Kr(t,e){return t+Fe(Sn()*(e-t+1))}function Qr(t,e){var n="";if(!t||e<1||e>p)return n;do{e%2&&(n+=t),(e=Fe(e/2))&&(t+=t)}while(e);return n}function Zr(t,e){return Ro(Ao(t,e,oc),t+"")}function Yr(t){return Yn(Ua(t))}function Jr(t,e){var n=Ua(t);return Fo(n,cr(e,0,n.length))}function ti(t,e,r,i){if(!na(t))return t;for(var o=-1,s=(e=bi(e,t)).length,a=s-1,c=t;null!=c&&++o<s;){var u=$o(e[o]),l=r;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(o!=a){var f=c[u];(l=i?i(f,u,c):n)===n&&(l=na(f)?f:bo(e[o+1])?[]:{})}nr(c,u,l),c=c[u]}return t}var ei=Pn?function(t,e){return Pn.set(t,e),t}:oc,ni=fe?function(t,e){return fe(t,"toString",{configurable:!0,enumerable:!1,value:nc(e),writable:!0})}:oc;function ri(t){return Fo(Ua(t))}function ii(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=St(i);++r<i;)o[r]=t[r+e];return o}function oi(t,e){var n;return hr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function si(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=t[o];null!==s&&!la(s)&&(n?s<=e:s<e)?r=o+1:i=o}return i}return ai(t,e,oc,n)}function ai(t,e,r,i){var o=0,s=null==t?0:t.length;if(0===s)return 0;for(var a=(e=r(e))!=e,c=null===e,u=la(e),l=e===n;o<s;){var f=Fe((o+s)/2),p=r(t[f]),h=p!==n,d=null===p,m=p==p,g=la(p);if(a)var v=i||m;else v=l?m&&(i||h):c?m&&h&&(i||!d):u?m&&h&&!d&&(i||!g):!d&&!g&&(i?p<=e:p<e);v?o=f+1:s=f}return bn(s,4294967294)}function ci(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n],a=e?e(s):s;if(!n||!Us(a,c)){var c=a;o[i++]=0===s?0:s}}return o}function ui(t){return"number"==typeof t?t:la(t)?h:+t}function li(t){if("string"==typeof t)return t;if(Vs(t))return Ne(t,li)+"";if(la(t))return Bn?Bn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function fi(t,e,n){var r=-1,i=Oe,o=t.length,s=!0,a=[],c=a;if(n)s=!1,i=Pe;else if(o>=200){var u=e?null:Qi(t);if(u)return un(u);s=!1,i=Ze,c=new Kn}else c=e?[]:a;t:for(;++r<o;){var l=t[r],f=e?e(l):l;if(l=n||0!==l?l:0,s&&f==f){for(var p=c.length;p--;)if(c[p]===f)continue t;e&&c.push(f),a.push(l)}else i(c,f,n)||(c!==a&&c.push(f),a.push(l))}return a}function pi(t,e){return null==(t=Co(t,e=bi(e,t)))||delete t[$o(Yo(e))]}function hi(t,e,n,r){return ti(t,e,n(xr(t,e)),r)}function di(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?ii(t,r?0:o,r?o+1:i):ii(t,r?o+1:0,r?i:o)}function mi(t,e){var n=t;return n instanceof Gn&&(n=n.value()),Re(e,(function(t,e){return e.func.apply(e.thisArg,Le([t],e.args))}),n)}function gi(t,e,n){var r=t.length;if(r<2)return r?fi(t[0]):[];for(var i=-1,o=St(r);++i<r;)for(var s=t[i],a=-1;++a<r;)a!=i&&(o[i]=pr(o[i]||s,t[a],e,n));return fi(yr(o,1),e,n)}function vi(t,e,r){for(var i=-1,o=t.length,s=e.length,a={};++i<o;){var c=i<s?e[i]:n;r(a,t[i],c)}return a}function yi(t){return Ks(t)?t:[]}function wi(t){return"function"==typeof t?t:oc}function bi(t,e){return Vs(t)?t:_o(t,e)?[t]:Mo(ba(t))}var Ei=Zr;function _i(t,e,r){var i=t.length;return r=r===n?i:r,!e&&r>=i?t:ii(t,e,r)}var Si=he||function(t){return pe.clearTimeout(t)};function xi(t,e){if(e)return t.slice();var n=t.length,r=Wt?Wt(n):new t.constructor(n);return t.copy(r),r}function ki(t){var e=new t.constructor(t.byteLength);return new Vt(e).set(new Vt(t)),e}function Ti(t,e){var n=e?ki(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Ii(t,e){if(t!==e){var r=t!==n,i=null===t,o=t==t,s=la(t),a=e!==n,c=null===e,u=e==e,l=la(e);if(!c&&!l&&!s&&t>e||s&&a&&u&&!c&&!l||i&&a&&u||!r&&u||!o)return 1;if(!i&&!s&&!l&&t<e||l&&r&&o&&!i&&!s||c&&r&&o||!a&&o||!u)return-1}return 0}function Ai(t,e,n,r){for(var i=-1,o=t.length,s=n.length,a=-1,c=e.length,u=wn(o-s,0),l=St(c+u),f=!r;++a<c;)l[a]=e[a];for(;++i<s;)(f||i<o)&&(l[n[i]]=t[i]);for(;u--;)l[a++]=t[i++];return l}function Ci(t,e,n,r){for(var i=-1,o=t.length,s=-1,a=n.length,c=-1,u=e.length,l=wn(o-a,0),f=St(l+u),p=!r;++i<l;)f[i]=t[i];for(var h=i;++c<u;)f[h+c]=e[c];for(;++s<a;)(p||i<o)&&(f[h+n[s]]=t[i++]);return f}function Oi(t,e){var n=-1,r=t.length;for(e||(e=St(r));++n<r;)e[n]=t[n];return e}function Pi(t,e,r,i){var o=!r;r||(r={});for(var s=-1,a=e.length;++s<a;){var c=e[s],u=i?i(r[c],t[c],c,r,t):n;u===n&&(u=t[c]),o?sr(r,c,u):nr(r,c,u)}return r}function Ni(t,e){return function(n,r){var i=Vs(n)?ke:ir,o=e?e():{};return i(n,t,uo(r,2),o)}}function Li(t){return Zr((function(e,r){var i=-1,o=r.length,s=o>1?r[o-1]:n,a=o>2?r[2]:n;for(s=t.length>3&&"function"==typeof s?(o--,s):n,a&&Eo(r[0],r[1],a)&&(s=o<3?n:s,o=1),e=At(e);++i<o;){var c=r[i];c&&t(e,c,i,s)}return e}))}function Ri(t,e){return function(n,r){if(null==n)return n;if(!Xs(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=At(n);(e?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function ji(t){return function(e,n,r){for(var i=-1,o=At(e),s=r(e),a=s.length;a--;){var c=s[t?a:++i];if(!1===n(o[c],c,o))break}return e}}function Di(t){return function(e){var r=on(e=ba(e))?pn(e):n,i=r?r[0]:e.charAt(0),o=r?_i(r,1).join(""):e.slice(1);return i[t]()+o}}function Fi(t){return function(e){return Re(Ja(Ga(e).replace(Zt,"")),t,"")}}function Mi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Un(t.prototype),r=t.apply(n,e);return na(r)?r:n}}function $i(t){return function(e,r,i){var o=At(e);if(!Xs(e)){var s=uo(r,3);e=La(e),r=function(t){return s(o[t],t,o)}}var a=t(e,r,i);return a>-1?o[s?e[a]:a]:n}}function Bi(t){return ro((function(e){var i=e.length,o=i,s=qn.prototype.thru;for(t&&e.reverse();o--;){var a=e[o];if("function"!=typeof a)throw new Pt(r);if(s&&!c&&"wrapper"==ao(a))var c=new qn([],!0)}for(o=c?o:i;++o<i;){var u=ao(a=e[o]),l="wrapper"==u?so(a):n;c=l&&So(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?c[ao(l[0])].apply(c,l[3]):1==a.length&&So(a)?c[u]():c.thru(a)}return function(){var t=arguments,n=t[0];if(c&&1==t.length&&Vs(n))return c.plant(n).value();for(var r=0,o=i?e[r].apply(this,t):n;++r<i;)o=e[r].call(this,o);return o}}))}function zi(t,e,r,i,o,s,a,c,l,f){var p=e&u,h=1&e,d=2&e,m=24&e,g=512&e,v=d?n:Mi(t);return function n(){for(var u=arguments.length,y=St(u),w=u;w--;)y[w]=arguments[w];if(m)var b=co(n),E=tn(y,b);if(i&&(y=Ai(y,i,o,m)),s&&(y=Ci(y,s,a,m)),u-=E,m&&u<f){var _=cn(y,b);return Xi(t,e,zi,n.placeholder,r,y,_,c,l,f-u)}var S=h?r:this,x=d?S[t]:t;return u=y.length,c?y=Oo(y,c):g&&u>1&&y.reverse(),p&&l<u&&(y.length=l),this&&this!==pe&&this instanceof n&&(x=v||Mi(x)),x.apply(S,y)}}function Ui(t,e){return function(n,r){return function(t,e,n,r){return Er(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function Hi(t,e){return function(r,i){var o;if(r===n&&i===n)return e;if(r!==n&&(o=r),i!==n){if(o===n)return i;"string"==typeof r||"string"==typeof i?(r=li(r),i=li(i)):(r=ui(r),i=ui(i)),o=t(r,i)}return o}}function qi(t){return ro((function(e){return e=Ne(e,Ke(uo())),Zr((function(n){var r=this;return t(e,(function(t){return xe(t,r,n)}))}))}))}function Gi(t,e){var r=(e=e===n?" ":li(e)).length;if(r<2)return r?Qr(e,t):e;var i=Qr(e,ve(t/fn(e)));return on(e)?_i(pn(i),0,t).join(""):i.slice(0,t)}function Vi(t){return function(e,r,i){return i&&"number"!=typeof i&&Eo(e,r,i)&&(r=i=n),e=ma(e),r===n?(r=e,e=0):r=ma(r),function(t,e,n,r){for(var i=-1,o=wn(ve((e-t)/(n||1)),0),s=St(o);o--;)s[r?o:++i]=t,t+=n;return s}(e,r,i=i===n?e<r?1:-1:ma(i),t)}}function Wi(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ya(e),n=ya(n)),t(e,n)}}function Xi(t,e,r,i,o,s,u,l,f,p){var h=8&e;e|=h?a:c,4&(e&=~(h?c:a))||(e&=-4);var d=[t,e,o,h?s:n,h?u:n,h?n:s,h?n:u,l,f,p],m=r.apply(n,d);return So(t)&&No(m,d),m.placeholder=i,jo(m,t,e)}function Ki(t){var e=It[t];return function(t,n){if(t=ya(t),(n=null==n?0:bn(ga(n),292))&&gn(t)){var r=(ba(t)+"e").split("e");return+((r=(ba(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Qi=An&&1/un(new An([,-0]))[1]==f?function(t){return new An(t)}:lc;function Zi(t){return function(e){var n=go(e);return n==S?sn(e):n==C?ln(e):function(t,e){return Ne(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Yi(t,e,i,f,p,h,d,m){var g=2&e;if(!g&&"function"!=typeof t)throw new Pt(r);var v=f?f.length:0;if(v||(e&=-97,f=p=n),d=d===n?d:wn(ga(d),0),m=m===n?m:ga(m),v-=p?p.length:0,e&c){var y=f,w=p;f=p=n}var b=g?n:so(t),E=[t,e,i,f,p,y,w,h,d,m];if(b&&function(t,e){var n=t[1],r=e[1],i=n|r,s=i<131,a=r==u&&8==n||r==u&&n==l&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!s&&!a)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var c=e[3];if(c){var f=t[3];t[3]=f?Ai(f,c,e[4]):c,t[4]=f?cn(t[3],o):e[4]}(c=e[5])&&(f=t[5],t[5]=f?Ci(f,c,e[6]):c,t[6]=f?cn(t[5],o):e[6]);(c=e[7])&&(t[7]=c);r&u&&(t[8]=null==t[8]?e[8]:bn(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(E,b),t=E[0],e=E[1],i=E[2],f=E[3],p=E[4],!(m=E[9]=E[9]===n?g?0:t.length:wn(E[9]-v,0))&&24&e&&(e&=-25),e&&1!=e)_=8==e||e==s?function(t,e,r){var i=Mi(t);return function o(){for(var s=arguments.length,a=St(s),c=s,u=co(o);c--;)a[c]=arguments[c];var l=s<3&&a[0]!==u&&a[s-1]!==u?[]:cn(a,u);return(s-=l.length)<r?Xi(t,e,zi,o.placeholder,n,a,l,n,n,r-s):xe(this&&this!==pe&&this instanceof o?i:t,this,a)}}(t,e,m):e!=a&&33!=e||p.length?zi.apply(n,E):function(t,e,n,r){var i=1&e,o=Mi(t);return function e(){for(var s=-1,a=arguments.length,c=-1,u=r.length,l=St(u+a),f=this&&this!==pe&&this instanceof e?o:t;++c<u;)l[c]=r[c];for(;a--;)l[c++]=arguments[++s];return xe(f,i?n:this,l)}}(t,e,i,f);else var _=function(t,e,n){var r=1&e,i=Mi(t);return function e(){return(this&&this!==pe&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,i);return jo((b?ei:No)(_,E),t,e)}function Ji(t,e,r,i){return t===n||Us(t,Rt[r])&&!Ft.call(i,r)?e:t}function to(t,e,r,i,o,s){return na(t)&&na(e)&&(s.set(e,t),Hr(t,e,n,to,s),s.delete(e)),t}function eo(t){return sa(t)?n:t}function no(t,e,r,i,o,s){var a=1&r,c=t.length,u=e.length;if(c!=u&&!(a&&u>c))return!1;var l=s.get(t),f=s.get(e);if(l&&f)return l==e&&f==t;var p=-1,h=!0,d=2&r?new Kn:n;for(s.set(t,e),s.set(e,t);++p<c;){var m=t[p],g=e[p];if(i)var v=a?i(g,m,p,e,t,s):i(m,g,p,t,e,s);if(v!==n){if(v)continue;h=!1;break}if(d){if(!De(e,(function(t,e){if(!Ze(d,e)&&(m===t||o(m,t,r,i,s)))return d.push(e)}))){h=!1;break}}else if(m!==g&&!o(m,g,r,i,s)){h=!1;break}}return s.delete(t),s.delete(e),h}function ro(t){return Ro(Ao(t,n,Wo),t+"")}function io(t){return kr(t,La,ho)}function oo(t){return kr(t,Ra,mo)}var so=Pn?function(t){return Pn.get(t)}:lc;function ao(t){for(var e=t.name+"",n=Nn[e],r=Ft.call(Nn,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function co(t){return(Ft.call(zn,"placeholder")?zn:t).placeholder}function uo(){var t=zn.iteratee||sc;return t=t===sc?Dr:t,arguments.length?t(arguments[0],arguments[1]):t}function lo(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function fo(t){for(var e=La(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,To(i)]}return e}function po(t,e){var r=function(t,e){return null==t?n:t[e]}(t,e);return jr(r)?r:n}var ho=Ge?function(t){return null==t?[]:(t=At(t),Ce(Ge(t),(function(e){return Qt.call(t,e)})))}:vc,mo=Ge?function(t){for(var e=[];t;)Le(e,ho(t)),t=Xt(t);return e}:vc,go=Tr;function vo(t,e,n){for(var r=-1,i=(e=bi(e,t)).length,o=!1;++r<i;){var s=$o(e[r]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&ea(i)&&bo(s,i)&&(Vs(t)||Gs(t))}function yo(t){return"function"!=typeof t.constructor||ko(t)?{}:Un(Xt(t))}function wo(t){return Vs(t)||Gs(t)||!!(ee&&t&&t[ee])}function bo(t,e){var n=typeof t;return!!(e=null==e?p:e)&&("number"==n||"symbol"!=n&&wt.test(t))&&t>-1&&t%1==0&&t<e}function Eo(t,e,n){if(!na(n))return!1;var r=typeof e;return!!("number"==r?Xs(n)&&bo(e,n.length):"string"==r&&e in n)&&Us(n[e],t)}function _o(t,e){if(Vs(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!la(t))||(et.test(t)||!tt.test(t)||null!=e&&t in At(e))}function So(t){var e=ao(t),n=zn[e];if("function"!=typeof n||!(e in Gn.prototype))return!1;if(t===n)return!0;var r=so(n);return!!r&&t===r[0]}(kn&&go(new kn(new ArrayBuffer(1)))!=R||Tn&&go(new Tn)!=S||In&&go(In.resolve())!=I||An&&go(new An)!=C||Cn&&go(new Cn)!=N)&&(go=function(t){var e=Tr(t),r=e==k?t.constructor:n,i=r?Bo(r):"";if(i)switch(i){case Ln:return R;case Rn:return S;case jn:return I;case Dn:return C;case Fn:return N}return e});var xo=jt?Js:yc;function ko(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Rt)}function To(t){return t==t&&!na(t)}function Io(t,e){return function(r){return null!=r&&(r[t]===e&&(e!==n||t in At(r)))}}function Ao(t,e,r){return e=wn(e===n?t.length-1:e,0),function(){for(var n=arguments,i=-1,o=wn(n.length-e,0),s=St(o);++i<o;)s[i]=n[e+i];i=-1;for(var a=St(e+1);++i<e;)a[i]=n[i];return a[e]=r(s),xe(t,this,a)}}function Co(t,e){return e.length<2?t:xr(t,ii(e,0,-1))}function Oo(t,e){for(var r=t.length,i=bn(e.length,r),o=Oi(t);i--;){var s=e[i];t[i]=bo(s,r)?o[s]:n}return t}function Po(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var No=Do(ei),Lo=ge||function(t,e){return pe.setTimeout(t,e)},Ro=Do(ni);function jo(t,e,n){var r=e+"";return Ro(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(ct,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return Te(m,(function(n){var r="_."+n[0];e&n[1]&&!Oe(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(ut);return e?e[1].split(lt):[]}(r),n)))}function Do(t){var e=0,r=0;return function(){var i=En(),o=16-(i-r);if(r=i,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(n,arguments)}}function Fo(t,e){var r=-1,i=t.length,o=i-1;for(e=e===n?i:e;++r<e;){var s=Kr(r,o),a=t[s];t[s]=t[r],t[r]=a}return t.length=e,t}var Mo=function(t){var e=Ds(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(nt,(function(t,n,r,i){e.push(r?i.replace(pt,"$1"):n||t)})),e}));function $o(t){if("string"==typeof t||la(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Bo(t){if(null!=t){try{return Dt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function zo(t){if(t instanceof Gn)return t.clone();var e=new qn(t.__wrapped__,t.__chain__);return e.__actions__=Oi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Uo=Zr((function(t,e){return Ks(t)?pr(t,yr(e,1,Ks,!0)):[]})),Ho=Zr((function(t,e){var r=Yo(e);return Ks(r)&&(r=n),Ks(t)?pr(t,yr(e,1,Ks,!0),uo(r,2)):[]})),qo=Zr((function(t,e){var r=Yo(e);return Ks(r)&&(r=n),Ks(t)?pr(t,yr(e,1,Ks,!0),n,r):[]}));function Go(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ga(n);return i<0&&(i=wn(r+i,0)),$e(t,uo(e,3),i)}function Vo(t,e,r){var i=null==t?0:t.length;if(!i)return-1;var o=i-1;return r!==n&&(o=ga(r),o=r<0?wn(i+o,0):bn(o,i-1)),$e(t,uo(e,3),o,!0)}function Wo(t){return(null==t?0:t.length)?yr(t,1):[]}function Xo(t){return t&&t.length?t[0]:n}var Ko=Zr((function(t){var e=Ne(t,yi);return e.length&&e[0]===t[0]?Or(e):[]})),Qo=Zr((function(t){var e=Yo(t),r=Ne(t,yi);return e===Yo(r)?e=n:r.pop(),r.length&&r[0]===t[0]?Or(r,uo(e,2)):[]})),Zo=Zr((function(t){var e=Yo(t),r=Ne(t,yi);return(e="function"==typeof e?e:n)&&r.pop(),r.length&&r[0]===t[0]?Or(r,n,e):[]}));function Yo(t){var e=null==t?0:t.length;return e?t[e-1]:n}var Jo=Zr(ts);function ts(t,e){return t&&t.length&&e&&e.length?Wr(t,e):t}var es=ro((function(t,e){var n=null==t?0:t.length,r=ar(t,e);return Xr(t,Ne(e,(function(t){return bo(t,n)?+t:t})).sort(Ii)),r}));function ns(t){return null==t?t:xn.call(t)}var rs=Zr((function(t){return fi(yr(t,1,Ks,!0))})),is=Zr((function(t){var e=Yo(t);return Ks(e)&&(e=n),fi(yr(t,1,Ks,!0),uo(e,2))})),os=Zr((function(t){var e=Yo(t);return e="function"==typeof e?e:n,fi(yr(t,1,Ks,!0),n,e)}));function ss(t){if(!t||!t.length)return[];var e=0;return t=Ce(t,(function(t){if(Ks(t))return e=wn(t.length,e),!0})),Xe(e,(function(e){return Ne(t,qe(e))}))}function as(t,e){if(!t||!t.length)return[];var r=ss(t);return null==e?r:Ne(r,(function(t){return xe(e,n,t)}))}var cs=Zr((function(t,e){return Ks(t)?pr(t,e):[]})),us=Zr((function(t){return gi(Ce(t,Ks))})),ls=Zr((function(t){var e=Yo(t);return Ks(e)&&(e=n),gi(Ce(t,Ks),uo(e,2))})),fs=Zr((function(t){var e=Yo(t);return e="function"==typeof e?e:n,gi(Ce(t,Ks),n,e)})),ps=Zr(ss);var hs=Zr((function(t){var e=t.length,r=e>1?t[e-1]:n;return r="function"==typeof r?(t.pop(),r):n,as(t,r)}));function ds(t){var e=zn(t);return e.__chain__=!0,e}function ms(t,e){return e(t)}var gs=ro((function(t){var e=t.length,r=e?t[0]:0,i=this.__wrapped__,o=function(e){return ar(e,t)};return!(e>1||this.__actions__.length)&&i instanceof Gn&&bo(r)?((i=i.slice(r,+r+(e?1:0))).__actions__.push({func:ms,args:[o],thisArg:n}),new qn(i,this.__chain__).thru((function(t){return e&&!t.length&&t.push(n),t}))):this.thru(o)}));var vs=Ni((function(t,e,n){Ft.call(t,n)?++t[n]:sr(t,n,1)}));var ys=$i(Go),ws=$i(Vo);function bs(t,e){return(Vs(t)?Te:hr)(t,uo(e,3))}function Es(t,e){return(Vs(t)?Ie:dr)(t,uo(e,3))}var _s=Ni((function(t,e,n){Ft.call(t,n)?t[n].push(e):sr(t,n,[e])}));var Ss=Zr((function(t,e,n){var r=-1,i="function"==typeof e,o=Xs(t)?St(t.length):[];return hr(t,(function(t){o[++r]=i?xe(e,t,n):Pr(t,e,n)})),o})),xs=Ni((function(t,e,n){sr(t,n,e)}));function ks(t,e){return(Vs(t)?Ne:Br)(t,uo(e,3))}var Ts=Ni((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var Is=Zr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&Eo(t,e[0],e[1])?e=[]:n>2&&Eo(e[0],e[1],e[2])&&(e=[e[0]]),Gr(t,yr(e,1),[])})),As=de||function(){return pe.Date.now()};function Cs(t,e,r){return e=r?n:e,e=t&&null==e?t.length:e,Yi(t,u,n,n,n,n,e)}function Os(t,e){var i;if("function"!=typeof e)throw new Pt(r);return t=ga(t),function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=n),i}}var Ps=Zr((function(t,e,n){var r=1;if(n.length){var i=cn(n,co(Ps));r|=a}return Yi(t,r,e,n,i)})),Ns=Zr((function(t,e,n){var r=3;if(n.length){var i=cn(n,co(Ns));r|=a}return Yi(e,r,t,n,i)}));function Ls(t,e,i){var o,s,a,c,u,l,f=0,p=!1,h=!1,d=!0;if("function"!=typeof t)throw new Pt(r);function m(e){var r=o,i=s;return o=s=n,f=e,c=t.apply(i,r)}function g(t){return f=t,u=Lo(y,e),p?m(t):c}function v(t){var r=t-l;return l===n||r>=e||r<0||h&&t-f>=a}function y(){var t=As();if(v(t))return w(t);u=Lo(y,function(t){var n=e-(t-l);return h?bn(n,a-(t-f)):n}(t))}function w(t){return u=n,d&&o?m(t):(o=s=n,c)}function b(){var t=As(),r=v(t);if(o=arguments,s=this,l=t,r){if(u===n)return g(l);if(h)return Si(u),u=Lo(y,e),m(l)}return u===n&&(u=Lo(y,e)),c}return e=ya(e)||0,na(i)&&(p=!!i.leading,a=(h="maxWait"in i)?wn(ya(i.maxWait)||0,e):a,d="trailing"in i?!!i.trailing:d),b.cancel=function(){u!==n&&Si(u),f=0,o=l=s=u=n},b.flush=function(){return u===n?c:w(As())},b}var Rs=Zr((function(t,e){return fr(t,1,e)})),js=Zr((function(t,e,n){return fr(t,ya(e)||0,n)}));function Ds(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Pt(r);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Ds.Cache||Xn),n}function Fs(t){if("function"!=typeof t)throw new Pt(r);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ds.Cache=Xn;var Ms=Ei((function(t,e){var n=(e=1==e.length&&Vs(e[0])?Ne(e[0],Ke(uo())):Ne(yr(e,1),Ke(uo()))).length;return Zr((function(r){for(var i=-1,o=bn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return xe(t,this,r)}))})),$s=Zr((function(t,e){var r=cn(e,co($s));return Yi(t,a,n,e,r)})),Bs=Zr((function(t,e){var r=cn(e,co(Bs));return Yi(t,c,n,e,r)})),zs=ro((function(t,e){return Yi(t,l,n,n,n,e)}));function Us(t,e){return t===e||t!=t&&e!=e}var Hs=Wi(Ir),qs=Wi((function(t,e){return t>=e})),Gs=Nr(function(){return arguments}())?Nr:function(t){return ra(t)&&Ft.call(t,"callee")&&!Qt.call(t,"callee")},Vs=St.isArray,Ws=ye?Ke(ye):function(t){return ra(t)&&Tr(t)==L};function Xs(t){return null!=t&&ea(t.length)&&!Js(t)}function Ks(t){return ra(t)&&Xs(t)}var Qs=mn||yc,Zs=we?Ke(we):function(t){return ra(t)&&Tr(t)==w};function Ys(t){if(!ra(t))return!1;var e=Tr(t);return e==b||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!sa(t)}function Js(t){if(!na(t))return!1;var e=Tr(t);return e==E||e==_||"[object AsyncFunction]"==e||"[object Proxy]"==e}function ta(t){return"number"==typeof t&&t==ga(t)}function ea(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=p}function na(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ra(t){return null!=t&&"object"==typeof t}var ia=be?Ke(be):function(t){return ra(t)&&go(t)==S};function oa(t){return"number"==typeof t||ra(t)&&Tr(t)==x}function sa(t){if(!ra(t)||Tr(t)!=k)return!1;var e=Xt(t);if(null===e)return!0;var n=Ft.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Dt.call(n)==zt}var aa=Ee?Ke(Ee):function(t){return ra(t)&&Tr(t)==A};var ca=_e?Ke(_e):function(t){return ra(t)&&go(t)==C};function ua(t){return"string"==typeof t||!Vs(t)&&ra(t)&&Tr(t)==O}function la(t){return"symbol"==typeof t||ra(t)&&Tr(t)==P}var fa=Se?Ke(Se):function(t){return ra(t)&&ea(t.length)&&!!oe[Tr(t)]};var pa=Wi($r),ha=Wi((function(t,e){return t<=e}));function da(t){if(!t)return[];if(Xs(t))return ua(t)?pn(t):Oi(t);if(ae&&t[ae])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[ae]());var e=go(t);return(e==S?sn:e==C?un:Ua)(t)}function ma(t){return t?(t=ya(t))===f||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ga(t){var e=ma(t),n=e%1;return e==e?n?e-n:e:0}function va(t){return t?cr(ga(t),0,d):0}function ya(t){if("number"==typeof t)return t;if(la(t))return h;if(na(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=na(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(ot,"");var n=gt.test(t);return n||yt.test(t)?ue(t.slice(2),n?2:8):mt.test(t)?h:+t}function wa(t){return Pi(t,Ra(t))}function ba(t){return null==t?"":li(t)}var Ea=Li((function(t,e){if(ko(e)||Xs(e))Pi(e,La(e),t);else for(var n in e)Ft.call(e,n)&&nr(t,n,e[n])})),_a=Li((function(t,e){Pi(e,Ra(e),t)})),Sa=Li((function(t,e,n,r){Pi(e,Ra(e),t,r)})),xa=Li((function(t,e,n,r){Pi(e,La(e),t,r)})),ka=ro(ar);var Ta=Zr((function(t,e){t=At(t);var r=-1,i=e.length,o=i>2?e[2]:n;for(o&&Eo(e[0],e[1],o)&&(i=1);++r<i;)for(var s=e[r],a=Ra(s),c=-1,u=a.length;++c<u;){var l=a[c],f=t[l];(f===n||Us(f,Rt[l])&&!Ft.call(t,l))&&(t[l]=s[l])}return t})),Ia=Zr((function(t){return t.push(n,to),xe(Da,n,t)}));function Aa(t,e,r){var i=null==t?n:xr(t,e);return i===n?r:i}function Ca(t,e){return null!=t&&vo(t,e,Cr)}var Oa=Ui((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Bt.call(e)),t[e]=n}),nc(oc)),Pa=Ui((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Bt.call(e)),Ft.call(t,e)?t[e].push(n):t[e]=[n]}),uo),Na=Zr(Pr);function La(t){return Xs(t)?Zn(t):Fr(t)}function Ra(t){return Xs(t)?Zn(t,!0):Mr(t)}var ja=Li((function(t,e,n){Hr(t,e,n)})),Da=Li((function(t,e,n,r){Hr(t,e,n,r)})),Fa=ro((function(t,e){var n={};if(null==t)return n;var r=!1;e=Ne(e,(function(e){return e=bi(e,t),r||(r=e.length>1),e})),Pi(t,oo(t),n),r&&(n=ur(n,7,eo));for(var i=e.length;i--;)pi(n,e[i]);return n}));var Ma=ro((function(t,e){return null==t?{}:function(t,e){return Vr(t,e,(function(e,n){return Ca(t,n)}))}(t,e)}));function $a(t,e){if(null==t)return{};var n=Ne(oo(t),(function(t){return[t]}));return e=uo(e),Vr(t,n,(function(t,n){return e(t,n[0])}))}var Ba=Zi(La),za=Zi(Ra);function Ua(t){return null==t?[]:Qe(t,La(t))}var Ha=Fi((function(t,e,n){return e=e.toLowerCase(),t+(n?qa(e):e)}));function qa(t){return Ya(ba(t).toLowerCase())}function Ga(t){return(t=ba(t))&&t.replace(bt,en).replace(Yt,"")}var Va=Fi((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Wa=Fi((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Xa=Di("toLowerCase");var Ka=Fi((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Qa=Fi((function(t,e,n){return t+(n?" ":"")+Ya(e)}));var Za=Fi((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Ya=Di("toUpperCase");function Ja(t,e,r){return t=ba(t),(e=r?n:e)===n?function(t){return ne.test(t)}(t)?function(t){return t.match(te)||[]}(t):function(t){return t.match(ft)||[]}(t):t.match(e)||[]}var tc=Zr((function(t,e){try{return xe(t,n,e)}catch(t){return Ys(t)?t:new kt(t)}})),ec=ro((function(t,e){return Te(e,(function(e){e=$o(e),sr(t,e,Ps(t[e],t))})),t}));function nc(t){return function(){return t}}var rc=Bi(),ic=Bi(!0);function oc(t){return t}function sc(t){return Dr("function"==typeof t?t:ur(t,1))}var ac=Zr((function(t,e){return function(n){return Pr(n,t,e)}})),cc=Zr((function(t,e){return function(n){return Pr(t,n,e)}}));function uc(t,e,n){var r=La(e),i=Sr(e,r);null!=n||na(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=Sr(e,La(e)));var o=!(na(n)&&"chain"in n&&!n.chain),s=Js(t);return Te(i,(function(n){var r=e[n];t[n]=r,s&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=Oi(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Le([this.value()],arguments))})})),t}function lc(){}var fc=qi(Ne),pc=qi(Ae),hc=qi(De);function dc(t){return _o(t)?qe($o(t)):function(t){return function(e){return xr(e,t)}}(t)}var mc=Vi(),gc=Vi(!0);function vc(){return[]}function yc(){return!1}var wc=Hi((function(t,e){return t+e}),0),bc=Ki("ceil"),Ec=Hi((function(t,e){return t/e}),1),_c=Ki("floor");var Sc=Hi((function(t,e){return t*e}),1),xc=Ki("round"),kc=Hi((function(t,e){return t-e}),0);return zn.after=function(t,e){if("function"!=typeof e)throw new Pt(r);return t=ga(t),function(){if(--t<1)return e.apply(this,arguments)}},zn.ary=Cs,zn.assign=Ea,zn.assignIn=_a,zn.assignInWith=Sa,zn.assignWith=xa,zn.at=ka,zn.before=Os,zn.bind=Ps,zn.bindAll=ec,zn.bindKey=Ns,zn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Vs(t)?t:[t]},zn.chain=ds,zn.chunk=function(t,e,r){e=(r?Eo(t,e,r):e===n)?1:wn(ga(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var o=0,s=0,a=St(ve(i/e));o<i;)a[s++]=ii(t,o,o+=e);return a},zn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},zn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=St(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return Le(Vs(n)?Oi(n):[n],yr(e,1))},zn.cond=function(t){var e=null==t?0:t.length,n=uo();return t=e?Ne(t,(function(t){if("function"!=typeof t[1])throw new Pt(r);return[n(t[0]),t[1]]})):[],Zr((function(n){for(var r=-1;++r<e;){var i=t[r];if(xe(i[0],this,n))return xe(i[1],this,n)}}))},zn.conforms=function(t){return function(t){var e=La(t);return function(n){return lr(n,t,e)}}(ur(t,1))},zn.constant=nc,zn.countBy=vs,zn.create=function(t,e){var n=Un(t);return null==e?n:or(n,e)},zn.curry=function t(e,r,i){var o=Yi(e,8,n,n,n,n,n,r=i?n:r);return o.placeholder=t.placeholder,o},zn.curryRight=function t(e,r,i){var o=Yi(e,s,n,n,n,n,n,r=i?n:r);return o.placeholder=t.placeholder,o},zn.debounce=Ls,zn.defaults=Ta,zn.defaultsDeep=Ia,zn.defer=Rs,zn.delay=js,zn.difference=Uo,zn.differenceBy=Ho,zn.differenceWith=qo,zn.drop=function(t,e,r){var i=null==t?0:t.length;return i?ii(t,(e=r||e===n?1:ga(e))<0?0:e,i):[]},zn.dropRight=function(t,e,r){var i=null==t?0:t.length;return i?ii(t,0,(e=i-(e=r||e===n?1:ga(e)))<0?0:e):[]},zn.dropRightWhile=function(t,e){return t&&t.length?di(t,uo(e,3),!0,!0):[]},zn.dropWhile=function(t,e){return t&&t.length?di(t,uo(e,3),!0):[]},zn.fill=function(t,e,r,i){var o=null==t?0:t.length;return o?(r&&"number"!=typeof r&&Eo(t,e,r)&&(r=0,i=o),function(t,e,r,i){var o=t.length;for((r=ga(r))<0&&(r=-r>o?0:o+r),(i=i===n||i>o?o:ga(i))<0&&(i+=o),i=r>i?0:va(i);r<i;)t[r++]=e;return t}(t,e,r,i)):[]},zn.filter=function(t,e){return(Vs(t)?Ce:vr)(t,uo(e,3))},zn.flatMap=function(t,e){return yr(ks(t,e),1)},zn.flatMapDeep=function(t,e){return yr(ks(t,e),f)},zn.flatMapDepth=function(t,e,r){return r=r===n?1:ga(r),yr(ks(t,e),r)},zn.flatten=Wo,zn.flattenDeep=function(t){return(null==t?0:t.length)?yr(t,f):[]},zn.flattenDepth=function(t,e){return(null==t?0:t.length)?yr(t,e=e===n?1:ga(e)):[]},zn.flip=function(t){return Yi(t,512)},zn.flow=rc,zn.flowRight=ic,zn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},zn.functions=function(t){return null==t?[]:Sr(t,La(t))},zn.functionsIn=function(t){return null==t?[]:Sr(t,Ra(t))},zn.groupBy=_s,zn.initial=function(t){return(null==t?0:t.length)?ii(t,0,-1):[]},zn.intersection=Ko,zn.intersectionBy=Qo,zn.intersectionWith=Zo,zn.invert=Oa,zn.invertBy=Pa,zn.invokeMap=Ss,zn.iteratee=sc,zn.keyBy=xs,zn.keys=La,zn.keysIn=Ra,zn.map=ks,zn.mapKeys=function(t,e){var n={};return e=uo(e,3),Er(t,(function(t,r,i){sr(n,e(t,r,i),t)})),n},zn.mapValues=function(t,e){var n={};return e=uo(e,3),Er(t,(function(t,r,i){sr(n,r,e(t,r,i))})),n},zn.matches=function(t){return zr(ur(t,1))},zn.matchesProperty=function(t,e){return Ur(t,ur(e,1))},zn.memoize=Ds,zn.merge=ja,zn.mergeWith=Da,zn.method=ac,zn.methodOf=cc,zn.mixin=uc,zn.negate=Fs,zn.nthArg=function(t){return t=ga(t),Zr((function(e){return qr(e,t)}))},zn.omit=Fa,zn.omitBy=function(t,e){return $a(t,Fs(uo(e)))},zn.once=function(t){return Os(2,t)},zn.orderBy=function(t,e,r,i){return null==t?[]:(Vs(e)||(e=null==e?[]:[e]),Vs(r=i?n:r)||(r=null==r?[]:[r]),Gr(t,e,r))},zn.over=fc,zn.overArgs=Ms,zn.overEvery=pc,zn.overSome=hc,zn.partial=$s,zn.partialRight=Bs,zn.partition=Ts,zn.pick=Ma,zn.pickBy=$a,zn.property=dc,zn.propertyOf=function(t){return function(e){return null==t?n:xr(t,e)}},zn.pull=Jo,zn.pullAll=ts,zn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Wr(t,e,uo(n,2)):t},zn.pullAllWith=function(t,e,r){return t&&t.length&&e&&e.length?Wr(t,e,n,r):t},zn.pullAt=es,zn.range=mc,zn.rangeRight=gc,zn.rearg=zs,zn.reject=function(t,e){return(Vs(t)?Ce:vr)(t,Fs(uo(e,3)))},zn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=uo(e,3);++r<o;){var s=t[r];e(s,r,t)&&(n.push(s),i.push(r))}return Xr(t,i),n},zn.rest=function(t,e){if("function"!=typeof t)throw new Pt(r);return Zr(t,e=e===n?e:ga(e))},zn.reverse=ns,zn.sampleSize=function(t,e,r){return e=(r?Eo(t,e,r):e===n)?1:ga(e),(Vs(t)?Jn:Jr)(t,e)},zn.set=function(t,e,n){return null==t?t:ti(t,e,n)},zn.setWith=function(t,e,r,i){return i="function"==typeof i?i:n,null==t?t:ti(t,e,r,i)},zn.shuffle=function(t){return(Vs(t)?tr:ri)(t)},zn.slice=function(t,e,r){var i=null==t?0:t.length;return i?(r&&"number"!=typeof r&&Eo(t,e,r)?(e=0,r=i):(e=null==e?0:ga(e),r=r===n?i:ga(r)),ii(t,e,r)):[]},zn.sortBy=Is,zn.sortedUniq=function(t){return t&&t.length?ci(t):[]},zn.sortedUniqBy=function(t,e){return t&&t.length?ci(t,uo(e,2)):[]},zn.split=function(t,e,r){return r&&"number"!=typeof r&&Eo(t,e,r)&&(e=r=n),(r=r===n?d:r>>>0)?(t=ba(t))&&("string"==typeof e||null!=e&&!aa(e))&&!(e=li(e))&&on(t)?_i(pn(t),0,r):t.split(e,r):[]},zn.spread=function(t,e){if("function"!=typeof t)throw new Pt(r);return e=null==e?0:wn(ga(e),0),Zr((function(n){var r=n[e],i=_i(n,0,e);return r&&Le(i,r),xe(t,this,i)}))},zn.tail=function(t){var e=null==t?0:t.length;return e?ii(t,1,e):[]},zn.take=function(t,e,r){return t&&t.length?ii(t,0,(e=r||e===n?1:ga(e))<0?0:e):[]},zn.takeRight=function(t,e,r){var i=null==t?0:t.length;return i?ii(t,(e=i-(e=r||e===n?1:ga(e)))<0?0:e,i):[]},zn.takeRightWhile=function(t,e){return t&&t.length?di(t,uo(e,3),!1,!0):[]},zn.takeWhile=function(t,e){return t&&t.length?di(t,uo(e,3)):[]},zn.tap=function(t,e){return e(t),t},zn.throttle=function(t,e,n){var i=!0,o=!0;if("function"!=typeof t)throw new Pt(r);return na(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),Ls(t,e,{leading:i,maxWait:e,trailing:o})},zn.thru=ms,zn.toArray=da,zn.toPairs=Ba,zn.toPairsIn=za,zn.toPath=function(t){return Vs(t)?Ne(t,$o):la(t)?[t]:Oi(Mo(ba(t)))},zn.toPlainObject=wa,zn.transform=function(t,e,n){var r=Vs(t),i=r||Qs(t)||fa(t);if(e=uo(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:na(t)&&Js(o)?Un(Xt(t)):{}}return(i?Te:Er)(t,(function(t,r,i){return e(n,t,r,i)})),n},zn.unary=function(t){return Cs(t,1)},zn.union=rs,zn.unionBy=is,zn.unionWith=os,zn.uniq=function(t){return t&&t.length?fi(t):[]},zn.uniqBy=function(t,e){return t&&t.length?fi(t,uo(e,2)):[]},zn.uniqWith=function(t,e){return e="function"==typeof e?e:n,t&&t.length?fi(t,n,e):[]},zn.unset=function(t,e){return null==t||pi(t,e)},zn.unzip=ss,zn.unzipWith=as,zn.update=function(t,e,n){return null==t?t:hi(t,e,wi(n))},zn.updateWith=function(t,e,r,i){return i="function"==typeof i?i:n,null==t?t:hi(t,e,wi(r),i)},zn.values=Ua,zn.valuesIn=function(t){return null==t?[]:Qe(t,Ra(t))},zn.without=cs,zn.words=Ja,zn.wrap=function(t,e){return $s(wi(e),t)},zn.xor=us,zn.xorBy=ls,zn.xorWith=fs,zn.zip=ps,zn.zipObject=function(t,e){return vi(t||[],e||[],nr)},zn.zipObjectDeep=function(t,e){return vi(t||[],e||[],ti)},zn.zipWith=hs,zn.entries=Ba,zn.entriesIn=za,zn.extend=_a,zn.extendWith=Sa,uc(zn,zn),zn.add=wc,zn.attempt=tc,zn.camelCase=Ha,zn.capitalize=qa,zn.ceil=bc,zn.clamp=function(t,e,r){return r===n&&(r=e,e=n),r!==n&&(r=(r=ya(r))==r?r:0),e!==n&&(e=(e=ya(e))==e?e:0),cr(ya(t),e,r)},zn.clone=function(t){return ur(t,4)},zn.cloneDeep=function(t){return ur(t,5)},zn.cloneDeepWith=function(t,e){return ur(t,5,e="function"==typeof e?e:n)},zn.cloneWith=function(t,e){return ur(t,4,e="function"==typeof e?e:n)},zn.conformsTo=function(t,e){return null==e||lr(t,e,La(e))},zn.deburr=Ga,zn.defaultTo=function(t,e){return null==t||t!=t?e:t},zn.divide=Ec,zn.endsWith=function(t,e,r){t=ba(t),e=li(e);var i=t.length,o=r=r===n?i:cr(ga(r),0,i);return(r-=e.length)>=0&&t.slice(r,o)==e},zn.eq=Us,zn.escape=function(t){return(t=ba(t))&&Q.test(t)?t.replace(X,nn):t},zn.escapeRegExp=function(t){return(t=ba(t))&&it.test(t)?t.replace(rt,"\\$&"):t},zn.every=function(t,e,r){var i=Vs(t)?Ae:mr;return r&&Eo(t,e,r)&&(e=n),i(t,uo(e,3))},zn.find=ys,zn.findIndex=Go,zn.findKey=function(t,e){return Me(t,uo(e,3),Er)},zn.findLast=ws,zn.findLastIndex=Vo,zn.findLastKey=function(t,e){return Me(t,uo(e,3),_r)},zn.floor=_c,zn.forEach=bs,zn.forEachRight=Es,zn.forIn=function(t,e){return null==t?t:wr(t,uo(e,3),Ra)},zn.forInRight=function(t,e){return null==t?t:br(t,uo(e,3),Ra)},zn.forOwn=function(t,e){return t&&Er(t,uo(e,3))},zn.forOwnRight=function(t,e){return t&&_r(t,uo(e,3))},zn.get=Aa,zn.gt=Hs,zn.gte=qs,zn.has=function(t,e){return null!=t&&vo(t,e,Ar)},zn.hasIn=Ca,zn.head=Xo,zn.identity=oc,zn.includes=function(t,e,n,r){t=Xs(t)?t:Ua(t),n=n&&!r?ga(n):0;var i=t.length;return n<0&&(n=wn(i+n,0)),ua(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Be(t,e,n)>-1},zn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ga(n);return i<0&&(i=wn(r+i,0)),Be(t,e,i)},zn.inRange=function(t,e,r){return e=ma(e),r===n?(r=e,e=0):r=ma(r),function(t,e,n){return t>=bn(e,n)&&t<wn(e,n)}(t=ya(t),e,r)},zn.invoke=Na,zn.isArguments=Gs,zn.isArray=Vs,zn.isArrayBuffer=Ws,zn.isArrayLike=Xs,zn.isArrayLikeObject=Ks,zn.isBoolean=function(t){return!0===t||!1===t||ra(t)&&Tr(t)==y},zn.isBuffer=Qs,zn.isDate=Zs,zn.isElement=function(t){return ra(t)&&1===t.nodeType&&!sa(t)},zn.isEmpty=function(t){if(null==t)return!0;if(Xs(t)&&(Vs(t)||"string"==typeof t||"function"==typeof t.splice||Qs(t)||fa(t)||Gs(t)))return!t.length;var e=go(t);if(e==S||e==C)return!t.size;if(ko(t))return!Fr(t).length;for(var n in t)if(Ft.call(t,n))return!1;return!0},zn.isEqual=function(t,e){return Lr(t,e)},zn.isEqualWith=function(t,e,r){var i=(r="function"==typeof r?r:n)?r(t,e):n;return i===n?Lr(t,e,n,r):!!i},zn.isError=Ys,zn.isFinite=function(t){return"number"==typeof t&&gn(t)},zn.isFunction=Js,zn.isInteger=ta,zn.isLength=ea,zn.isMap=ia,zn.isMatch=function(t,e){return t===e||Rr(t,e,fo(e))},zn.isMatchWith=function(t,e,r){return r="function"==typeof r?r:n,Rr(t,e,fo(e),r)},zn.isNaN=function(t){return oa(t)&&t!=+t},zn.isNative=function(t){if(xo(t))throw new kt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return jr(t)},zn.isNil=function(t){return null==t},zn.isNull=function(t){return null===t},zn.isNumber=oa,zn.isObject=na,zn.isObjectLike=ra,zn.isPlainObject=sa,zn.isRegExp=aa,zn.isSafeInteger=function(t){return ta(t)&&t>=-9007199254740991&&t<=p},zn.isSet=ca,zn.isString=ua,zn.isSymbol=la,zn.isTypedArray=fa,zn.isUndefined=function(t){return t===n},zn.isWeakMap=function(t){return ra(t)&&go(t)==N},zn.isWeakSet=function(t){return ra(t)&&"[object WeakSet]"==Tr(t)},zn.join=function(t,e){return null==t?"":vn.call(t,e)},zn.kebabCase=Va,zn.last=Yo,zn.lastIndexOf=function(t,e,r){var i=null==t?0:t.length;if(!i)return-1;var o=i;return r!==n&&(o=(o=ga(r))<0?wn(i+o,0):bn(o,i-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,o):$e(t,Ue,o,!0)},zn.lowerCase=Wa,zn.lowerFirst=Xa,zn.lt=pa,zn.lte=ha,zn.max=function(t){return t&&t.length?gr(t,oc,Ir):n},zn.maxBy=function(t,e){return t&&t.length?gr(t,uo(e,2),Ir):n},zn.mean=function(t){return He(t,oc)},zn.meanBy=function(t,e){return He(t,uo(e,2))},zn.min=function(t){return t&&t.length?gr(t,oc,$r):n},zn.minBy=function(t,e){return t&&t.length?gr(t,uo(e,2),$r):n},zn.stubArray=vc,zn.stubFalse=yc,zn.stubObject=function(){return{}},zn.stubString=function(){return""},zn.stubTrue=function(){return!0},zn.multiply=Sc,zn.nth=function(t,e){return t&&t.length?qr(t,ga(e)):n},zn.noConflict=function(){return pe._===this&&(pe._=Ut),this},zn.noop=lc,zn.now=As,zn.pad=function(t,e,n){t=ba(t);var r=(e=ga(e))?fn(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Gi(Fe(i),n)+t+Gi(ve(i),n)},zn.padEnd=function(t,e,n){t=ba(t);var r=(e=ga(e))?fn(t):0;return e&&r<e?t+Gi(e-r,n):t},zn.padStart=function(t,e,n){t=ba(t);var r=(e=ga(e))?fn(t):0;return e&&r<e?Gi(e-r,n)+t:t},zn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),_n(ba(t).replace(st,""),e||0)},zn.random=function(t,e,r){if(r&&"boolean"!=typeof r&&Eo(t,e,r)&&(e=r=n),r===n&&("boolean"==typeof e?(r=e,e=n):"boolean"==typeof t&&(r=t,t=n)),t===n&&e===n?(t=0,e=1):(t=ma(t),e===n?(e=t,t=0):e=ma(e)),t>e){var i=t;t=e,e=i}if(r||t%1||e%1){var o=Sn();return bn(t+o*(e-t+ce("1e-"+((o+"").length-1))),e)}return Kr(t,e)},zn.reduce=function(t,e,n){var r=Vs(t)?Re:Ve,i=arguments.length<3;return r(t,uo(e,4),n,i,hr)},zn.reduceRight=function(t,e,n){var r=Vs(t)?je:Ve,i=arguments.length<3;return r(t,uo(e,4),n,i,dr)},zn.repeat=function(t,e,r){return e=(r?Eo(t,e,r):e===n)?1:ga(e),Qr(ba(t),e)},zn.replace=function(){var t=arguments,e=ba(t[0]);return t.length<3?e:e.replace(t[1],t[2])},zn.result=function(t,e,r){var i=-1,o=(e=bi(e,t)).length;for(o||(o=1,t=n);++i<o;){var s=null==t?n:t[$o(e[i])];s===n&&(i=o,s=r),t=Js(s)?s.call(t):s}return t},zn.round=xc,zn.runInContext=t,zn.sample=function(t){return(Vs(t)?Yn:Yr)(t)},zn.size=function(t){if(null==t)return 0;if(Xs(t))return ua(t)?fn(t):t.length;var e=go(t);return e==S||e==C?t.size:Fr(t).length},zn.snakeCase=Ka,zn.some=function(t,e,r){var i=Vs(t)?De:oi;return r&&Eo(t,e,r)&&(e=n),i(t,uo(e,3))},zn.sortedIndex=function(t,e){return si(t,e)},zn.sortedIndexBy=function(t,e,n){return ai(t,e,uo(n,2))},zn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=si(t,e);if(r<n&&Us(t[r],e))return r}return-1},zn.sortedLastIndex=function(t,e){return si(t,e,!0)},zn.sortedLastIndexBy=function(t,e,n){return ai(t,e,uo(n,2),!0)},zn.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=si(t,e,!0)-1;if(Us(t[n],e))return n}return-1},zn.startCase=Qa,zn.startsWith=function(t,e,n){return t=ba(t),n=null==n?0:cr(ga(n),0,t.length),e=li(e),t.slice(n,n+e.length)==e},zn.subtract=kc,zn.sum=function(t){return t&&t.length?We(t,oc):0},zn.sumBy=function(t,e){return t&&t.length?We(t,uo(e,2)):0},zn.template=function(t,e,r){var i=zn.templateSettings;r&&Eo(t,e,r)&&(e=n),t=ba(t),e=Sa({},e,i,Ji);var o,s,a=Sa({},e.imports,i.imports,Ji),c=La(a),u=Qe(a,c),l=0,f=e.interpolate||Et,p="__p += '",h=Ct((e.escape||Et).source+"|"+f.source+"|"+(f===J?ht:Et).source+"|"+(e.evaluate||Et).source+"|$","g"),d="//# sourceURL="+(Ft.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ie+"]")+"\n";t.replace(h,(function(e,n,r,i,a,c){return r||(r=i),p+=t.slice(l,c).replace(_t,rn),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),a&&(s=!0,p+="';\n"+a+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=c+e.length,e})),p+="';\n";var m=Ft.call(e,"variable")&&e.variable;m||(p="with (obj) {\n"+p+"\n}\n"),p=(s?p.replace(q,""):p).replace(G,"$1").replace(V,"$1;"),p="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var g=tc((function(){return Tt(c,d+"return "+p).apply(n,u)}));if(g.source=p,Ys(g))throw g;return g},zn.times=function(t,e){if((t=ga(t))<1||t>p)return[];var n=d,r=bn(t,d);e=uo(e),t-=d;for(var i=Xe(r,e);++n<t;)e(n);return i},zn.toFinite=ma,zn.toInteger=ga,zn.toLength=va,zn.toLower=function(t){return ba(t).toLowerCase()},zn.toNumber=ya,zn.toSafeInteger=function(t){return t?cr(ga(t),-9007199254740991,p):0===t?t:0},zn.toString=ba,zn.toUpper=function(t){return ba(t).toUpperCase()},zn.trim=function(t,e,r){if((t=ba(t))&&(r||e===n))return t.replace(ot,"");if(!t||!(e=li(e)))return t;var i=pn(t),o=pn(e);return _i(i,Ye(i,o),Je(i,o)+1).join("")},zn.trimEnd=function(t,e,r){if((t=ba(t))&&(r||e===n))return t.replace(at,"");if(!t||!(e=li(e)))return t;var i=pn(t);return _i(i,0,Je(i,pn(e))+1).join("")},zn.trimStart=function(t,e,r){if((t=ba(t))&&(r||e===n))return t.replace(st,"");if(!t||!(e=li(e)))return t;var i=pn(t);return _i(i,Ye(i,pn(e))).join("")},zn.truncate=function(t,e){var r=30,i="...";if(na(e)){var o="separator"in e?e.separator:o;r="length"in e?ga(e.length):r,i="omission"in e?li(e.omission):i}var s=(t=ba(t)).length;if(on(t)){var a=pn(t);s=a.length}if(r>=s)return t;var c=r-fn(i);if(c<1)return i;var u=a?_i(a,0,c).join(""):t.slice(0,c);if(o===n)return u+i;if(a&&(c+=u.length-c),aa(o)){if(t.slice(c).search(o)){var l,f=u;for(o.global||(o=Ct(o.source,ba(dt.exec(o))+"g")),o.lastIndex=0;l=o.exec(f);)var p=l.index;u=u.slice(0,p===n?c:p)}}else if(t.indexOf(li(o),c)!=c){var h=u.lastIndexOf(o);h>-1&&(u=u.slice(0,h))}return u+i},zn.unescape=function(t){return(t=ba(t))&&K.test(t)?t.replace(W,hn):t},zn.uniqueId=function(t){var e=++Mt;return ba(t)+e},zn.upperCase=Za,zn.upperFirst=Ya,zn.each=bs,zn.eachRight=Es,zn.first=Xo,uc(zn,function(){var t={};return Er(zn,(function(e,n){Ft.call(zn.prototype,n)||(t[n]=e)})),t}(),{chain:!1}),zn.VERSION="4.17.20",Te(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){zn[t].placeholder=zn})),Te(["drop","take"],(function(t,e){Gn.prototype[t]=function(r){r=r===n?1:wn(ga(r),0);var i=this.__filtered__&&!e?new Gn(this):this.clone();return i.__filtered__?i.__takeCount__=bn(r,i.__takeCount__):i.__views__.push({size:bn(r,d),type:t+(i.__dir__<0?"Right":"")}),i},Gn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Te(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;Gn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:uo(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),Te(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Gn.prototype[t]=function(){return this[n](1).value()[0]}})),Te(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Gn.prototype[t]=function(){return this.__filtered__?new Gn(this):this[n](1)}})),Gn.prototype.compact=function(){return this.filter(oc)},Gn.prototype.find=function(t){return this.filter(t).head()},Gn.prototype.findLast=function(t){return this.reverse().find(t)},Gn.prototype.invokeMap=Zr((function(t,e){return"function"==typeof t?new Gn(this):this.map((function(n){return Pr(n,t,e)}))})),Gn.prototype.reject=function(t){return this.filter(Fs(uo(t)))},Gn.prototype.slice=function(t,e){t=ga(t);var r=this;return r.__filtered__&&(t>0||e<0)?new Gn(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),e!==n&&(r=(e=ga(e))<0?r.dropRight(-e):r.take(e-t)),r)},Gn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Gn.prototype.toArray=function(){return this.take(d)},Er(Gn.prototype,(function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),o=zn[i?"take"+("last"==e?"Right":""):e],s=i||/^find/.test(e);o&&(zn.prototype[e]=function(){var e=this.__wrapped__,a=i?[1]:arguments,c=e instanceof Gn,u=a[0],l=c||Vs(e),f=function(t){var e=o.apply(zn,Le([t],a));return i&&p?e[0]:e};l&&r&&"function"==typeof u&&1!=u.length&&(c=l=!1);var p=this.__chain__,h=!!this.__actions__.length,d=s&&!p,m=c&&!h;if(!s&&l){e=m?e:new Gn(this);var g=t.apply(e,a);return g.__actions__.push({func:ms,args:[f],thisArg:n}),new qn(g,p)}return d&&m?t.apply(this,a):(g=this.thru(f),d?i?g.value()[0]:g.value():g)})})),Te(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Nt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);zn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Vs(i)?i:[],t)}return this[n]((function(n){return e.apply(Vs(n)?n:[],t)}))}})),Er(Gn.prototype,(function(t,e){var n=zn[e];if(n){var r=n.name+"";Ft.call(Nn,r)||(Nn[r]=[]),Nn[r].push({name:e,func:n})}})),Nn[zi(n,2).name]=[{name:"wrapper",func:n}],Gn.prototype.clone=function(){var t=new Gn(this.__wrapped__);return t.__actions__=Oi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Oi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Oi(this.__views__),t},Gn.prototype.reverse=function(){if(this.__filtered__){var t=new Gn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Gn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Vs(t),r=e<0,i=n?t.length:0,o=function(t,e,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=bn(e,t+s);break;case"takeRight":t=wn(t,e-s)}}return{start:t,end:e}}(0,i,this.__views__),s=o.start,a=o.end,c=a-s,u=r?a:s-1,l=this.__iteratees__,f=l.length,p=0,h=bn(c,this.__takeCount__);if(!n||!r&&i==c&&h==c)return mi(t,this.__actions__);var d=[];t:for(;c--&&p<h;){for(var m=-1,g=t[u+=e];++m<f;){var v=l[m],y=v.iteratee,w=v.type,b=y(g);if(2==w)g=b;else if(!b){if(1==w)continue t;break t}}d[p++]=g}return d},zn.prototype.at=gs,zn.prototype.chain=function(){return ds(this)},zn.prototype.commit=function(){return new qn(this.value(),this.__chain__)},zn.prototype.next=function(){this.__values__===n&&(this.__values__=da(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?n:this.__values__[this.__index__++]}},zn.prototype.plant=function(t){for(var e,r=this;r instanceof Hn;){var i=zo(r);i.__index__=0,i.__values__=n,e?o.__wrapped__=i:e=i;var o=i;r=r.__wrapped__}return o.__wrapped__=t,e},zn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Gn){var e=t;return this.__actions__.length&&(e=new Gn(this)),(e=e.reverse()).__actions__.push({func:ms,args:[ns],thisArg:n}),new qn(e,this.__chain__)}return this.thru(ns)},zn.prototype.toJSON=zn.prototype.valueOf=zn.prototype.value=function(){return mi(this.__wrapped__,this.__actions__)},zn.prototype.first=zn.prototype.head,ae&&(zn.prototype[ae]=function(){return this}),zn}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(pe._=dn,define((function(){return dn}))):de?((de.exports=dn)._=dn,he._=dn):pe._=dn}.call(this),e.exports}.call({});const _e=u.DiagnosticCategory;function Se(t){return{line:t.row+1,offset:t.column+1}}function xe(t){return new f.Point(t.line-1,t.offset-1)}function ke(t){return Te(t.start,t.end)}function Te(t,e){return new f.Range(xe(t),xe(e))}function Ie(t){const e=Ae(t),n=e.formatCodeOptions;return{formatCodeOptions:{indentSize:atom.config.get("editor.tabLength"),tabSize:atom.config.get("editor.tabLength"),...n},compileOnSave:!!e.compileOnSave,preferences:e.preferences?e.preferences:{}}}function Ae(t){".json"!==v.extname(t)&&(t+=".json");let{config:e}=u.readConfigFile(t,(t=>u.sys.readFile(t)));if(void 0===e)return{};if("string"==typeof e.extends){const n=Ae(v.join(v.dirname(t),e.extends));e=Object.assign({},n,e)}return e}function Ce(t){return{label:Pe(t.prefixDisplayParts)+t.parameters.map((t=>Pe(t.displayParts))).join(Pe(t.separatorDisplayParts))+Pe(t.suffixDisplayParts),documentation:Pe(t.documentation),parameters:t.parameters.map(Oe)}}function Oe(t){return{label:Pe(t.displayParts),documentation:Pe(t.documentation)}}function Pe(t){return t.map((t=>t.text)).join("")}const Ne=function(){let t;return function(e,n){if(void 0===e)return!0;void 0===t&&(t=new Map(Object.values(u.Diagnostics).map((t=>[t.code,t.category]))));const r=t.get(e);return void 0===r||r===n}}();function Le(t){return void 0!==t&&function(t){const e=atom.config.get("atom-typescript").tsFileExtensions;atom.config.get("atom-typescript").allowJS&&e.push(...atom.config.get("atom-typescript").jsFileExtensions);return e.includes(t)}(v.extname(t))}function Re(){const t=atom.config.get("atom-typescript").tsSyntaxScopes;return atom.config.get("atom-typescript").allowJS&&t.push(...atom.config.get("atom-typescript").jsSyntaxScopes),t}function je(t){return Le(t.getPath())&&De(t)}function De(t){const[e]=t.getRootScopeDescriptor().getScopesArray();return Re().includes(e)}function Fe(t,e){const n=t.getPath();if(void 0!==n){return{file:n,...e?Se(e):function(t){const e=t.getCursorBufferPosition();return{line:e.row+1,offset:e.column+1}}(t)}}}async function Me(t,e){const n=new f.TextEditor({readonly:!0,keyboardInputEnabled:!1,showInvisibles:!1,tabLength:atom.config.get("editor.tabLength")}),r=atom.views.getView(n);try{return r.setUpdatedSynchronously(!0),r.style.pointerEvents="none",r.style.position="absolute",r.style.top="100vh",r.style.width="100vw",atom.grammars.assignLanguageMode(n.getBuffer(),e),n.setText(t),n.scrollToBufferPosition(n.getBuffer().getEndPosition()),atom.views.getView(atom.workspace).appendChild(r),await async function(t){return new Promise((e=>{const n=t.getBuffer().getLanguageMode(),r=t.component.getNextUpdatePromise();if(n.fullyTokenized||n.tree)e(r);else{const n=t.onDidTokenize((()=>{n.dispose(),e(r)}))}}))}(n),Array.from(r.querySelectorAll(".line:not(.dummy)")).map((t=>t.innerHTML))}finally{r.remove()}}function $e(t,e,n){if(!n.childItems)return;for(const r of n.childItems){const n=Be(r),i=ze(r);if(isFinite(n)&&isFinite(i)){if(t>=n&&e<=i){const n=$e(t,e,r);return n||r}if(isFinite(i)&&e<i)break}const o=$e(t,e,r);if(o)return o}const r=Be(n),i=ze(n);return isFinite(r)&&isFinite(i)&&t>=r&&e<=i?n:void 0}function Be(t){return t.spans.length>0?t.spans[0].start.line-1:0}function ze(t){const e=t.spans;return e.length>0?e[e.length-1].end.line-1:0}function Ue(t,e){if(!t||!e)return t===e;if(t.text===e.text){if(e.collapsed&&(t.collapsed=!0),t.childItems&&e.childItems){let n,r;for(let i=0,o=t.childItems.length;i<o;++i)n=t.childItems[i],r=e.childItems[i],Ue(n,r)||(r=e.childItems[i+1],Ue(n,r)||(r=e.childItems[i-1],Ue(n,r)))}return!0}return!1}function He(t){if(null!==t&&t.childItems){if(t.childItems.length<1)return void(t.childItems=void 0);t.childItems.sort(((t,e)=>Be(t)-Be(e)));for(const e of t.childItems)He(e)}}class qe{constructor(t){this.props=t,Ft.initialize(this)}async update(t){this.props={...this.props,...t},await Ft.update(this)}async destroy(){await Ft.destroy(this)}render(){const t=this.props.navTree,{ctrl:e}=this.props,n=e.getSelectedNode(),r=n&&(o=n,(i=t).text===o.text&&Ee.isEqual(i.spans,o.spans));var i,o;const s=(t.childItems?"nested-":"")+"item"+(t.collapsed?" collapsed":" expanded")+(r?" selected":""),a=this.getStyles();return Ft.dom("li",{className:"node entry exanded list-"+s},Ft.dom("div",{className:"header list-item",on:{click:e=>this.entryClicked(e,t)}},Ft.dom("span",{className:a},t.text)),Ft.dom("ol",{className:"entries list-tree"},t.childItems?t.childItems.map((t=>Ft.dom(qe,{navTree:t,ctrl:e}))):null))}getStyles(){const{kind:t}=this.props.navTree;let e="icon icon-"+t;const{kindModifiers:n}=this.props.navTree;return n&&(e+=" "+n.split(/[, ]/).map((t=>"modifier-"+t.trim())).join(" ")),e}entryClicked(t,e){t.stopPropagation();(function(t,e){return!!t.childItems&&e.target===e.currentTarget})(e,t)?(e.collapsed=!e.collapsed,be(Ft.update(this))):this.props.ctrl.gotoNode(e)}}class Ge{constructor(t){this.props=t,this.subscriptions=new p,this.loadNavTree=async()=>{if(!this.editor)return;if(!this.getClient)return;const t=this.editor.getPath();if(void 0!==t)try{const e=await this.getClient(t),n=(await e.execute("navtree",{file:t})).body;n&&(this.setNavTree(n),await Ft.update(this))}catch(e){console.error(e,t)}},this.selectAtCursorLine=({newBufferPosition:t})=>{if(!this.props.navTree)return;const e=t.row,n=$e(e,e,this.props.navTree);n!==this.selectedNode&&(this.selectedNode=n,be(Ft.update(this)))},this.subscribeToEditor=async t=>{if(this.editorScrolling&&this.editorScrolling.dispose(),this.editorChanging&&this.editorChanging.dispose(),!t||!je(t))return this.update({navTree:null});this.editor=t,await this.loadNavTree(),this.editorScrolling=t.onDidChangeCursorPosition(this.selectAtCursorLine),this.editorChanging=t.onDidStopChanging(this.loadNavTree)},He(t.navTree),Ft.initialize(this),this.subscriptions.add(atom.workspace.observeActiveTextEditor(this.subscribeToEditor))}async update(t){void 0!==t.navTree&&this.setNavTree(t.navTree),this.props={...this.props,...t},await Ft.update(this)}async destroy(){this.editorScrolling&&this.editorScrolling.dispose(),this.editorChanging&&this.editorChanging.dispose(),this.editorScrolling=void 0,this.editorChanging=void 0,this.selectedNode=void 0,this.subscriptions.dispose(),await Ft.destroy(this)}async setGetClient(t){this.getClient=t,await this.loadNavTree()}getSelectedNode(){return this.selectedNode}render(){const t=this.props.navTree?Ft.dom(qe,{navTree:this.props.navTree,ctrl:this}):null;return Ft.dom("div",{className:"atomts atomts-semantic-view native-key-bindings"},Ft.dom("ol",{className:"list-tree has-collapsable-children focusable-panel"},t))}readAfterUpdate(){const t=this.element.querySelector(".selected");t&&this.scrollTo(t)}gotoNode(t){if(!this.editor)return;const e=Be(t),n=function(t){return t.spans.length>0?t.spans[0].start.offset-1:0}(t);this.editor.setCursorBufferPosition([e,n])}getCursorLine(){return this.editor?this.editor.getLastCursor().getBufferRow():void 0}setNavTree(t){if(He(t),Ee.isEqual(t,this.props.navTree))return;let e;if(Ue(t,this.props.navTree),this.props.navTree=t,t){const n=this.getCursorLine();void 0!==n&&(e=$e(n,n,t))}this.selectedNode=e}scrollTo(t){const e=t;"function"==typeof e.scrollIntoViewIfNeeded?e.scrollIntoViewIfNeeded():e.scrollIntoView()}}class Ve{constructor(t){this.comp=new Ge({navTree:t.navTree})}static create(t){return Ve.instance||(Ve.instance=new Ve(t)),Ve.instance}get element(){return this.comp.element}async setGetClient(t){await this.comp.setGetClient(t),await this.comp.update({})}getTitle(){return"TypeScript"}getURI(){return"atom-typescript://semantic-view"}async destroy(){Ve.instance=null,await this.comp.destroy()}getDefaultLocation(){return"right"}getAllowedLocations(){return["left","right"]}serialize(){return{deserializer:"atomts-semantic-view/SemanticView",data:{navTree:this.comp.props.navTree}}}}Ve.instance=null;var We,Xe=a,Ke=w,Qe=o;We=function(t,e){return Ze(t,e)};var Ze=function(t,e){return t?Ye(t,e):new Je(e)};We.createStream=Ze;function Ye(t,e){if(!t)throw new Error("expected readStream");if(!t.readable)throw new Error("readStream must be readable");var n=new Je(e);return t.pipe(n),n}function Je(t){Xe.Transform.call(this,t),t=t||{},this._readableState.objectMode=!0,this._lineBuffer=[],this._keepEmptyLines=t.keepEmptyLines||!1,this._lastChunkEndedWithCR=!1;var e=this;this.on("pipe",(function(t){e.encoding||t instanceof Xe.Readable&&(e.encoding=t._readableState.encoding)}))}We.createLineStream=function(t){return console.log("WARNING: byline#createLineStream is deprecated and will be removed soon"),Ye(t)},We.LineStream=Je,Ke.inherits(Je,Xe.Transform),Je.prototype._transform=function(t,e,n){e=e||"utf8",Buffer.isBuffer(t)&&("buffer"==e?(t=t.toString(),e="utf8"):t=t.toString(e)),this._chunkEncoding=e;var r=t.split(/\r\n|[\n\v\f\r\x85\u2028\u2029]/g);this._lastChunkEndedWithCR&&"\n"==t[0]&&r.shift(),this._lineBuffer.length>0&&(this._lineBuffer[this._lineBuffer.length-1]+=r[0],r.shift()),this._lastChunkEndedWithCR="\r"==t[t.length-1],this._lineBuffer=this._lineBuffer.concat(r),this._pushBuffer(e,1,n)},Je.prototype._pushBuffer=function(t,e,n){for(;this._lineBuffer.length>e;){var r=this._lineBuffer.shift();if((this._keepEmptyLines||r.length>0)&&!this.push(this._reencode(r,t))){var i=this;return void Qe.setImmediate((function(){i._pushBuffer(t,e,n)}))}}n()},Je.prototype._flush=function(t){this._pushBuffer(this._chunkEncoding,0,t)},Je.prototype._reencode=function(t,e){return this.encoding&&this.encoding!=e?new Buffer(t,e).toString(this.encoding):this.encoding?t:new Buffer(t,e)};class tn{constructor(t){this.reportBusyWhile=t,this.callbacks=new Map,this.interval=0}async add(t,e){try{const n=new Promise(((n,r)=>{this.callbacks.set(t,{command:e,resolve:n,reject:r,started:Date.now()})}));return 0===this.interval&&(this.interval=window.setInterval((()=>{process.activateUvLoop()}),100)),await this.reportBusyWhile(e,(()=>n))}finally{this.callbacks.delete(t),0!==this.interval&&0===this.callbacks.size&&(clearInterval(this.interval),this.interval=0)}}rejectAll(t){for(const{reject:e}of this.callbacks.values())e(t);this.callbacks.clear()}resolve(t){const e=this.callbacks.get(t.request_seq);e?(window.atom_typescript_debug&&console.log("received response for",t.command,"in",Date.now()-e.started,"ms","with data",t.body),t.success?e.resolve(t):e.reject(new Error(t.message))):console.warn("unexpected response:",t)}resolveMS(t){const e=this.callbacks.get(t.request_seq);e?(window.atom_typescript_debug&&console.log(`received requestCompleted event for multistep command ${e.command} in ${Date.now()-e.started} ms`),e.resolve(void 0)):console.warn("unexpected requestCompleted event:",t)}error(t,e){const n=this.callbacks.get(t);n?n.reject(e):console.error(e)}}const en=new Set(Object.keys({compileOnSaveAffectedFileList:!0,compileOnSaveEmitFile:!0,completionEntryDetails:!0,completions:!0,completionInfo:!0,configure:!0,definition:!0,format:!0,getCodeFixes:!0,getSupportedCodeFixes:!0,documentHighlights:!0,projectInfo:!0,quickinfo:!0,references:!0,reload:!0,rename:!0,navtree:!0,navto:!0,getApplicableRefactors:!0,getEditsForRefactor:!0,organizeImports:!0,signatureHelp:!0,getEditsForFileRename:!0,applyCodeActionCommand:!0})),nn=new Set(Object.keys({geterr:!0,geterrForProject:!0})),rn=new Set(Object.keys({configFileDiag:!0,semanticDiag:!0,suggestionDiag:!0,syntaxDiag:!0}));class on{constructor(t,e,n){this.tsServerPath=t,this.version=e,this.reportBusyWhile=n,this.emitter=new h,this.seq=0,this.lastStderrOutput="",this.on=this.emitter.on.bind(this.emitter),this.exitHandler=(t,e=!0)=>{if(this.callbacks.rejectAll(t),e&&console.error("tsserver: ",t),this.server=void 0,this.emitter.emit("terminated"),e){let e=t.message;this.lastStderrOutput&&(e=`Last output from tsserver:\n${this.lastStderrOutput}\n\n${e}`),atom.notifications.addError("TypeScript server quit unexpectedly",{detail:e,stack:t.stack,dismissable:!0})}},this.onMessage=t=>{"response"===t.type?this.callbacks.resolve(t):this.onEvent(t)};const[r,i]=e.split(".").slice(0,2).map((t=>parseInt(t,10)));this.multistepSupported=r>2||2===r&&i>=2,this.callbacks=new tn(this.reportBusyWhile),this.server=this.startServer()}async execute(t,...e){this.server||(this.server=this.startServer(),this.emitter.emit("restarted"));const n={seq:this.seq++,command:t,arguments:e[0]};window.atom_typescript_debug&&console.log("sending request",n);let r=void 0;(function(t){return en.has(t)}(t)||this.multistepSupported&&function(t){return nn.has(t)}(t))&&(r=this.callbacks.add(n.seq,t));try{if(!this.server.stdin)throw new Error("Server stdin is missing");this.server.stdin.write(JSON.stringify(n)+"\n")}catch(t){this.callbacks.error(n.seq,t)}return r}async restartServer(){if(this.server){const t=this.server,e=setTimeout((()=>t.kill()),1e4);await Promise.all([this.execute("exit"),new Promise((t=>{const e=this.emitter.once("terminated",(()=>{e.dispose(),t()}))}))]),clearTimeout(e)}this.server||(this.server=this.startServer(),this.emitter.emit("restarted"))}startServer(){window.atom_typescript_debug&&console.log("starting",this.tsServerPath);const t=function(t){const e=atom.config.get("atom-typescript").locale,n=e?["--locale",e]:[];return new d({command:t,args:n}).process}(this.tsServerPath);if(!t)throw new Error("ChildProcess failed to start");const e=this.exitHandler;if(t.once("error",e),t.once("exit",((t,n)=>{0===t?e(new Error("Server stopped normally"),!1):null!==t?e(new Error("exited with code: "+t)):null!==n&&e(new Error("terminated on signal: "+n))})),!t.stdout)throw new Error("ChildProcess stdout missing");if(!t.stderr)throw new Error("ChildProcess stderr missing");var n;return(n=t.stdout,n.pipe(an()).pipe(new cn)).on("data",this.onMessage),t.stderr.on("data",(t=>{console.warn("tsserver stderr:",this.lastStderrOutput=t.toString())})),t}onEvent(t){var e;window.atom_typescript_debug&&console.log("received event",t),t.body&&(e=t.event,rn.has(e)?this.emitter.emit(t.event,t.body):"requestCompleted"===t.event&&this.callbacks.resolveMS(t.body))}}var sn,an=x(We);class cn extends c{constructor(){super({objectMode:!0})}_transform(t,e,n){const r=t.toString();try{r.startsWith("{")?this.push(JSON.parse(r)):r.startsWith("Content-Length:")||console.warn(r)}catch(t){console.error("client: failed to parse: ",r)}finally{n(void 0)}}}function un(t,e){void 0===e&&(e=!1);var n=t.length,r=0,i="",o=0,s=16,a=0,c=0,u=0,l=0,f=0;function p(e,n){for(var i=0,o=0;i<e||!n;){var s=t.charCodeAt(r);if(s>=48&&s<=57)o=16*o+s-48;else if(s>=65&&s<=70)o=16*o+s-65+10;else{if(!(s>=97&&s<=102))break;o=16*o+s-97+10}r++,i++}return i<e&&(o=-1),o}function h(){if(i="",f=0,o=r,c=a,l=u,r>=n)return o=n,s=17;var e=t.charCodeAt(r);if(ln(e)){do{r++,i+=String.fromCharCode(e),e=t.charCodeAt(r)}while(ln(e));return s=15}if(fn(e))return r++,i+=String.fromCharCode(e),13===e&&10===t.charCodeAt(r)&&(r++,i+="\n"),a++,u=r,s=14;switch(e){case 123:return r++,s=1;case 125:return r++,s=2;case 91:return r++,s=3;case 93:return r++,s=4;case 58:return r++,s=6;case 44:return r++,s=5;case 34:return r++,i=function(){for(var e="",i=r;;){if(r>=n){e+=t.substring(i,r),f=2;break}var o=t.charCodeAt(r);if(34===o){e+=t.substring(i,r),r++;break}if(92!==o){if(o>=0&&o<=31){if(fn(o)){e+=t.substring(i,r),f=2;break}f=6}r++}else{if(e+=t.substring(i,r),++r>=n){f=2;break}switch(t.charCodeAt(r++)){case 34:e+='"';break;case 92:e+="\\";break;case 47:e+="/";break;case 98:e+="\b";break;case 102:e+="\f";break;case 110:e+="\n";break;case 114:e+="\r";break;case 116:e+="\t";break;case 117:var s=p(4,!0);s>=0?e+=String.fromCharCode(s):f=4;break;default:f=5}i=r}}return e}(),s=10;case 47:var h=r-1;if(47===t.charCodeAt(r+1)){for(r+=2;r<n&&!fn(t.charCodeAt(r));)r++;return i=t.substring(h,r),s=12}if(42===t.charCodeAt(r+1)){r+=2;for(var m=n-1,g=!1;r<m;){var v=t.charCodeAt(r);if(42===v&&47===t.charCodeAt(r+1)){r+=2,g=!0;break}r++,fn(v)&&(13===v&&10===t.charCodeAt(r)&&r++,a++,u=r)}return g||(r++,f=1),i=t.substring(h,r),s=13}return i+=String.fromCharCode(e),r++,s=16;case 45:if(i+=String.fromCharCode(e),++r===n||!pn(t.charCodeAt(r)))return s=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=function(){var e=r;if(48===t.charCodeAt(r))r++;else for(r++;r<t.length&&pn(t.charCodeAt(r));)r++;if(r<t.length&&46===t.charCodeAt(r)){if(!(++r<t.length&&pn(t.charCodeAt(r))))return f=3,t.substring(e,r);for(r++;r<t.length&&pn(t.charCodeAt(r));)r++}var n=r;if(r<t.length&&(69===t.charCodeAt(r)||101===t.charCodeAt(r)))if((++r<t.length&&43===t.charCodeAt(r)||45===t.charCodeAt(r))&&r++,r<t.length&&pn(t.charCodeAt(r))){for(r++;r<t.length&&pn(t.charCodeAt(r));)r++;n=r}else f=3;return t.substring(e,n)}(),s=11;default:for(;r<n&&d(e);)r++,e=t.charCodeAt(r);if(o!==r){switch(i=t.substring(o,r)){case"true":return s=8;case"false":return s=9;case"null":return s=7}return s=16}return i+=String.fromCharCode(e),r++,s=16}}function d(t){if(ln(t)||fn(t))return!1;switch(t){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}return{setPosition:function(t){r=t,i="",o=0,s=16,f=0},getPosition:function(){return r},scan:e?function(){var t;do{t=h()}while(t>=12&&t<=15);return t}:h,getToken:function(){return s},getTokenValue:function(){return i},getTokenOffset:function(){return o},getTokenLength:function(){return r-o},getTokenStartLine:function(){return c},getTokenStartCharacter:function(){return o-l},getTokenError:function(){return f}}}function ln(t){return 32===t||9===t||11===t||12===t||160===t||5760===t||t>=8192&&t<=8203||8239===t||8287===t||12288===t||65279===t}function fn(t){return 10===t||13===t||8232===t||8233===t}function pn(t){return t>=48&&t<=57}(sn||(sn={})).DEFAULT={allowTrailingComma:!1};var hn,dn,mn=function(t,e,n){void 0===e&&(e=[]),void 0===n&&(n=sn.DEFAULT);var r=null,i=[],o=[];function s(t){Array.isArray(i)?i.push(t):null!==r&&(i[r]=t)}return function(t,e,n){void 0===n&&(n=sn.DEFAULT);var r=un(t,!1);function i(t){return t?function(){return t(r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter())}:function(){return!0}}function o(t){return t?function(e){return t(e,r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter())}:function(){return!0}}var s=i(e.onObjectBegin),a=o(e.onObjectProperty),c=i(e.onObjectEnd),u=i(e.onArrayBegin),l=i(e.onArrayEnd),f=o(e.onLiteralValue),p=o(e.onSeparator),h=i(e.onComment),d=o(e.onError),m=n&&n.disallowComments,g=n&&n.allowTrailingComma;function v(){for(;;){var t=r.scan();switch(r.getTokenError()){case 4:y(14);break;case 5:y(15);break;case 3:y(13);break;case 1:m||y(11);break;case 2:y(12);break;case 6:y(16)}switch(t){case 12:case 13:m?y(10):h();break;case 16:y(1);break;case 15:case 14:break;default:return t}}}function y(t,e,n){if(void 0===e&&(e=[]),void 0===n&&(n=[]),d(t),e.length+n.length>0)for(var i=r.getToken();17!==i;){if(-1!==e.indexOf(i)){v();break}if(-1!==n.indexOf(i))break;i=v()}}function w(t){var e=r.getTokenValue();return t?f(e):a(e),v(),!0}function b(){switch(r.getToken()){case 11:var t=r.getTokenValue(),e=Number(t);isNaN(e)&&(y(2),e=0),f(e);break;case 7:f(null);break;case 8:f(!0);break;case 9:f(!1);break;default:return!1}return v(),!0}function E(){return 10!==r.getToken()?(y(3,[],[2,5]),!1):(w(!1),6===r.getToken()?(p(":"),v(),x()||y(4,[],[2,5])):y(5,[],[2,5]),!0)}function _(){s(),v();for(var t=!1;2!==r.getToken()&&17!==r.getToken();){if(5===r.getToken()){if(t||y(4,[],[]),p(","),v(),2===r.getToken()&&g)break}else t&&y(6,[],[]);E()||y(4,[],[2,5]),t=!0}return c(),2!==r.getToken()?y(7,[2],[]):v(),!0}function S(){u(),v();for(var t=!1;4!==r.getToken()&&17!==r.getToken();){if(5===r.getToken()){if(t||y(4,[],[]),p(","),v(),4===r.getToken()&&g)break}else t&&y(6,[],[]);x()||y(4,[],[4,5]),t=!0}return l(),4!==r.getToken()?y(8,[4],[]):v(),!0}function x(){switch(r.getToken()){case 3:return S();case 1:return _();case 10:return w(!0);default:return b()}}if(v(),17===r.getToken())return!!n.allowEmptyContent||(y(4,[],[]),!1);if(!x())return y(4,[],[]),!1;17!==r.getToken()&&y(9,[],[])}(t,{onObjectBegin:function(){var t={};s(t),o.push(i),i=t,r=null},onObjectProperty:function(t){r=t},onObjectEnd:function(){i=o.pop()},onArrayBegin:function(){var t=[];s(t),o.push(i),i=t,r=null},onArrayEnd:function(){i=o.pop()},onLiteralValue:s,onError:function(t,n,r){e.push({error:t,offset:n,length:r})}},n),i[0]},gn=E,vn=v;dn=function(){var t=Error.prepareStackTrace;Error.prepareStackTrace=function(t,e){return e};var e=(new Error).stack;return Error.prepareStackTrace=t,e[2].getFileName()};var yn,wn,bn,En,_n,Sn,xn,kn,Tn,In,An=v,Cn=!1;function On(){wn={},bn="win32"===process.platform,En=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,_n=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,(Sn={}).parse=function(t){if("string"!=typeof t)throw new TypeError("Parameter 'pathString' must be a string, not "+typeof t);var e,n,r,i,o,s=(e=t,n=En.exec(e),r=(n[1]||"")+(n[2]||""),i=n[3]||"",o=_n.exec(i),[r,o[1],o[2],o[3]]);if(!s||4!==s.length)throw new TypeError("Invalid path '"+t+"'");return{root:s[0],dir:s[0]+s[1].slice(0,-1),base:s[2],ext:s[3],name:s[2].slice(0,s[2].length-s[3].length)}},xn=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,(kn={}).parse=function(t){if("string"!=typeof t)throw new TypeError("Parameter 'pathString' must be a string, not "+typeof t);var e,n=(e=t,xn.exec(e).slice(1));if(!n||4!==n.length)throw new TypeError("Invalid path '"+t+"'");return n[1]=n[1]||"",n[2]=n[2]||"",n[3]=n[3]||"",{root:n[0],dir:n[0]+n[1].slice(0,-1),base:n[2],ext:n[3],name:n[2].slice(0,n[2].length-n[3].length)}},wn=bn?Sn.parse:kn.parse,Tn=kn.parse,wn.posix=Tn,In=Sn.parse,wn.win32=In}var Pn=An.parse||(Cn||(Cn=!0,On()),wn),Nn=function(t,e){var n="/";/^([A-Za-z]:)/.test(t)?n="":/^\\\\/.test(t)&&(n="\\\\");for(var r=[t],i=Pn(t);i.dir!==r[r.length-1];)r.push(i.dir),i=Pn(i.dir);return r.reduce((function(t,r){return t.concat(e.map((function(t){return An.resolve(n,r,t)})))}),[])};yn=function(t,e,n){var r=e&&e.moduleDirectory?[].concat(e.moduleDirectory):["node_modules"];if(e&&"function"==typeof e.paths)return e.paths(n,t,(function(){return Nn(t,r)}),e);var i=Nn(t,r);return e&&e.paths?i.concat(e.paths):i};var Ln;Ln=function(t,e){return e||{}};var Rn,jn,Dn=process.versions&&process.versions.node&&process.versions.node.split(".")||[];function Fn(t){for(var e=t.split(" "),n=e.length>1?e[0]:"=",r=(e.length>1?e[1]:e[0]).split("."),i=0;i<3;++i){var o=Number(Dn[i]||0),s=Number(r[i]||0);if(o!==s)return"<"===n?o<s:">="===n&&o>=s}return">="===n}function Mn(t){var e=t.split(/ ?&& ?/);if(0===e.length)return!1;for(var n=0;n<e.length;++n)if(!Fn(e[n]))return!1;return!0}function $n(t){if("boolean"==typeof t)return t;if(t&&"object"==typeof t){for(var e=0;e<t.length;++e)if(Mn(t[e]))return!0;return!1}return Mn(t)}var Bn;Bn=JSON.parse('{"assert":true,"async_hooks":">= 8","buffer_ieee754":"< 0.9.7","buffer":true,"child_process":true,"cluster":true,"console":true,"constants":true,"crypto":true,"_debug_agent":">= 1 && < 8","_debugger":"< 8","dgram":true,"dns":true,"domain":true,"events":true,"freelist":"< 6","fs":true,"fs/promises":[">= 10 && < 10.1",">= 14"],"_http_agent":">= 0.11.1","_http_client":">= 0.11.1","_http_common":">= 0.11.1","_http_incoming":">= 0.11.1","_http_outgoing":">= 0.11.1","_http_server":">= 0.11.1","http":true,"http2":">= 8.8","https":true,"inspector":">= 8.0.0","_linklist":"< 8","module":true,"net":true,"node-inspect/lib/_inspect":">= 7.6.0 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6.0 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6.0 && < 12","os":true,"path":true,"perf_hooks":">= 8.5","process":">= 1","punycode":true,"querystring":true,"readline":true,"repl":true,"smalloc":">= 0.11.5 && < 3","_stream_duplex":">= 0.9.4","_stream_transform":">= 0.9.4","_stream_wrap":">= 1.4.1","_stream_passthrough":">= 0.9.4","_stream_readable":">= 0.9.4","_stream_writable":">= 0.9.4","stream":true,"string_decoder":true,"sys":true,"timers":true,"_tls_common":">= 0.11.13","_tls_legacy":">= 0.11.3 && < 10","_tls_wrap":">= 0.11.3","tls":true,"trace_events":">= 10","tty":true,"url":true,"util":true,"v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/consarray":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/csvparser":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/logreader":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/profile_view":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/splaytree":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8":">= 1","vm":true,"wasi":">= 13.4 && < 13.5","worker_threads":">= 11.7","zlib":true}');var zn={};for(var Un in Bn)Object.prototype.hasOwnProperty.call(Bn,Un)&&(zn[Un]=$n(Bn[Un]));jn=zn,Rn=function(t){return Object.prototype.hasOwnProperty.call(jn,t)};var Hn=gn.realpath&&"function"==typeof gn.realpath.native?gn.realpath.native:gn.realpath,qn=function(t,e){gn.stat(t,(function(t,n){return t?"ENOENT"===t.code||"ENOTDIR"===t.code?e(null,!1):e(t):e(null,n.isFile()||n.isFIFO())}))},Gn=function(t,e){gn.stat(t,(function(t,n){return t?"ENOENT"===t.code||"ENOTDIR"===t.code?e(null,!1):e(t):e(null,n.isDirectory())}))},Vn=function(t,e){Hn(t,(function(n,r){n&&"ENOENT"!==n.code?e(n):e(null,n?t:r)}))},Wn=function(t,e,n,r){n&&!1===n.preserveSymlinks?t(e,r):r(null,e)};(hn=function(t,e,n){var r=n,i=e;if("function"==typeof e&&(r=i,i={}),"string"!=typeof t){var o=new TypeError("Path must be a string.");return process.nextTick((function(){r(o)}))}var s=(i=Ln(0,i)).isFile||qn,a=i.isDirectory||Gn,c=i.readFile||gn.readFile,u=i.realpath||Vn,l=i.packageIterator,f=i.extensions||[".js"],p=i.basedir||vn.dirname(dn()),h=i.filename||p;i.paths=i.paths||[];var d,m=vn.resolve(p);function g(e,n,o){e?r(e):n?r(null,n,o):w(d,(function(e,n,o){if(e)r(e);else if(n)Wn(u,n,i,(function(t,e){t?r(t):r(null,e,o)}));else{var s=new Error("Cannot find module '"+t+"' from '"+h+"'");s.code="MODULE_NOT_FOUND",r(s)}}))}function v(t,e,n){var r=e,o=n;"function"==typeof r&&(o=r,r=void 0),function t(e,n,r){if(0===e.length)return o(null,void 0,r);var a=n+e[0],c=r;c?u(null,c):y(vn.dirname(a),u);function u(r,u,p){if(c=u,r)return o(r);if(p&&c&&i.pathFilter){var h=vn.relative(p,a),d=h.slice(0,h.length-e[0].length),m=i.pathFilter(c,n,d);if(m)return t([""].concat(f.slice()),vn.resolve(p,m),c)}s(a,l)}function l(r,i){return r?o(r):i?o(null,a,c):void t(e.slice(1),n,c)}}([""].concat(f),t,r)}function y(t,e){return""===t||"/"===t||"win32"===process.platform&&/^\w:[/\\]*$/.test(t)||/[/\\]node_modules[/\\]*$/.test(t)?e(null):void Wn(u,t,i,(function(n,r){if(n)return y(vn.dirname(t),e);var o=vn.join(r,"package.json");s(o,(function(n,r){if(!r)return y(vn.dirname(t),e);c(o,(function(n,r){n&&e(n);try{var s=JSON.parse(r)}catch(t){}s&&i.packageFilter&&(s=i.packageFilter(s,o)),e(null,s,t)}))}))}))}function w(t,e,n){var r=n,o=e;"function"==typeof o&&(r=o,o=i.package),Wn(u,t,i,(function(e,n){if(e)return r(e);var a=vn.join(n,"package.json");s(a,(function(e,n){return e?r(e):n?void c(a,(function(e,n){if(e)return r(e);try{var o=JSON.parse(n)}catch(t){}if(o&&i.packageFilter&&(o=i.packageFilter(o,a)),o&&o.main){if("string"!=typeof o.main){var s=new TypeError("package “"+o.name+"” `main` must be a string");return s.code="INVALID_PACKAGE_MAIN",r(s)}return"."!==o.main&&"./"!==o.main||(o.main="index"),void v(vn.resolve(t,o.main),o,(function(e,n,i){return e?r(e):n?r(null,n,i):i?void w(vn.resolve(t,i.main),i,(function(e,n,i){return e?r(e):n?r(null,n,i):void v(vn.join(t,"index"),i,r)})):v(vn.join(t,"index"),i,r)}))}v(vn.join(t,"/index"),o,r)})):v(vn.join(t,"index"),o,r)}))}))}function b(t,e){if(0===e.length)return t(null,void 0);var n=e[0];function r(e,r,s){return e?t(e):r?t(null,r,s):void w(n,i.package,o)}function o(n,r,i){return n?t(n):r?t(null,r,i):void b(t,e.slice(1))}a(vn.dirname(n),(function(o,s){if(o)return t(o);if(!s)return b(t,e.slice(1));v(n,i.package,r)}))}Wn(u,m,i,(function(e,n){e?r(e):function(e){if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(t))d=vn.resolve(e,t),"."!==t&&".."!==t&&"/"!==t.slice(-1)||(d+="/"),/\/$/.test(t)&&d===e?w(d,i.package,g):v(d,i.package,g);else{if(Rn(t))return r(null,t);!function(t,e,n){var r=function(){return function(t,e,n){for(var r=yn(e,n,t),i=0;i<r.length;i++)r[i]=vn.join(r[i],t);return r}(t,e,i)};b(n,l?l(t,e,r,i):r())}(t,e,(function(e,n,o){if(e)r(e);else{if(n)return Wn(u,n,i,(function(t,e){t?r(t):r(null,e,o)}));var s=new Error("Cannot find module '"+t+"' from '"+h+"'");s.code="MODULE_NOT_FOUND",r(s)}}))}}(n)}))}).core=jn,hn.isCore=Rn;var Xn=E,Kn=v,Qn=Xn.realpathSync&&"function"==typeof Xn.realpathSync.native?Xn.realpathSync.native:Xn.realpathSync,Zn=function(t){try{var e=Xn.statSync(t)}catch(t){if(t&&("ENOENT"===t.code||"ENOTDIR"===t.code))return!1;throw t}return e.isFile()||e.isFIFO()},Yn=function(t){try{var e=Xn.statSync(t)}catch(t){if(t&&("ENOENT"===t.code||"ENOTDIR"===t.code))return!1;throw t}return e.isDirectory()},Jn=function(t){try{return Qn(t)}catch(t){if("ENOENT"!==t.code)throw t}return t},tr=function(t,e,n){return n&&!1===n.preserveSymlinks?t(e):e};async function er(t,e){const{NODE_PATH:n}=process.env,r=e+".js",i=await async function(t,e){return new Promise(((n,r)=>nr(t,e,((t,e)=>{t?r(t):n(e)}))))}("typescript/lib/"+r,{basedir:v.dirname(t),paths:void 0!==n?n.split(v.delimiter):void 0}).catch((async()=>{const e=await async function(t){const e=await async function(t){let e=t,n=v.dirname(e);for(;e!==n;){const t=await ir(e,[[".atom-typescript.json"],[".atom","atom-typescript.json"],[".vscode","settings.json"]]);if(void 0!==t)return{basedir:e,configFile:t};e=n,n=v.dirname(e)}}(t);if(e)try{const t=mn(await async function(t){return new Promise(((e,n)=>E.readFile(t,((t,r)=>{t?n(t):e(r.toString("utf-8"))}))))}(e.configFile));let r;if("object"==typeof(n=t)&&null!==n&&"string"==typeof n.tsdkPath)r=t.tsdkPath;else{if(!function(t){return"object"==typeof t&&null!==t&&"string"==typeof t["typescript.tsdk"]}(t))return;r=v.dirname(t["typescript.tsdk"])}return v.isAbsolute(r)?r:v.join(e.basedir,r)}catch(t){console.warn(t)}var n}(v.dirname(t));if(void 0!==e){const t=v.join(e,"lib",r);if(await rr(t))return t}const n=atom.config.get("atom-typescript.tsdkPath");if(n){const t=v.join(n,"lib",r);if(await rr(t))return t}return require.resolve("typescript/lib/"+r)})),o=v.resolve(i,"../../package.json");return{version:require(o).version,pathToBin:i}}hn.sync=function(t,e){if("string"!=typeof t)throw new TypeError("Path must be a string.");var n=Ln(0,e),r=n.isFile||Zn,i=n.readFileSync||Xn.readFileSync,o=n.isDirectory||Yn,s=n.realpathSync||Jn,a=n.packageIterator,c=n.extensions||[".js"],u=n.basedir||Kn.dirname(dn()),l=n.filename||u;n.paths=n.paths||[];var f=tr(s,Kn.resolve(u),n);if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(t)){var p=Kn.resolve(f,t);"."!==t&&".."!==t&&"/"!==t.slice(-1)||(p+="/");var h=g(p)||y(p);if(h)return tr(s,h,n)}else{if(Rn(t))return t;var d=function(t,e){for(var r=function(){return function(t,e,n){for(var r=yn(e,n,t),i=0;i<r.length;i++)r[i]=Kn.join(r[i],t);return r}(t,e,n)},i=a?a(t,e,r,n):r(),s=0;s<i.length;s++){var c=i[s];if(o(Kn.dirname(c))){var u=g(c);if(u)return u;var l=y(c);if(l)return l}}}(t,f);if(d)return tr(s,d,n)}var m=new Error("Cannot find module '"+t+"' from '"+l+"'");throw m.code="MODULE_NOT_FOUND",m;function g(t){var e=v(Kn.dirname(t));if(e&&e.dir&&e.pkg&&n.pathFilter){var i=Kn.relative(e.dir,t),o=n.pathFilter(e.pkg,t,i);o&&(t=Kn.resolve(e.dir,o))}if(r(t))return t;for(var s=0;s<c.length;s++){var a=t+c[s];if(r(a))return a}}function v(t){if(""!==t&&"/"!==t&&!("win32"===process.platform&&/^\w:[/\\]*$/.test(t)||/[/\\]node_modules[/\\]*$/.test(t))){var e=Kn.join(tr(s,t,n),"package.json");if(!r(e))return v(Kn.dirname(t));var o=i(e);try{var a=JSON.parse(o)}catch(t){}return a&&n.packageFilter&&(a=n.packageFilter(a,t)),{pkg:a,dir:t}}}function y(t){var e=Kn.join(tr(s,t,n),"/package.json");if(r(e)){try{var o=i(e,"UTF8"),a=JSON.parse(o)}catch(t){}if(a&&n.packageFilter&&(a=n.packageFilter(a,t)),a&&a.main){if("string"!=typeof a.main){var c=new TypeError("package “"+a.name+"” `main` must be a string");throw c.code="INVALID_PACKAGE_MAIN",c}"."!==a.main&&"./"!==a.main||(a.main="index");try{var u=g(Kn.resolve(t,a.main));if(u)return u;var l=y(Kn.resolve(t,a.main));if(l)return l}catch(t){}}}return g(Kn.join(t,"/index"))}};var nr=x(hn);async function rr(t){return new Promise((e=>E.access(t,E.constants.F_OK,(t=>{e(!t)}))))}async function ir(t,e){for(const n of e){const e=v.join(t,...n);if(await rr(e))return e}}class or{constructor(t){this.reportBusyWhile=t,this.clients=new Map,this.memoizedClients=new Map,this.emitter=new h,this.subscriptions=new p,this.tsserverInstancePerTsconfig=atom.config.get("atom-typescript").tsserverInstancePerTsconfig,this.on=this.emitter.on.bind(this.emitter),this.diagnosticHandler=(t,e)=>n=>{const r=(i=n)&&i.triggerFile&&i.configFile?n.configFile:n.file;var i;r&&this.emitter.emit("diagnostics",{type:e,serverPath:t,filePath:r,diagnostics:n.diagnostics})}}async restartAllServers(){await this.reportBusyWhile("Restarting servers",(()=>Promise.all(Array.from(this.getAllClients()).map((t=>t.restartServer())))))}async get(t){const e=this.memoizedClients.get(t);if(e)return e;const n=this._get(t);this.memoizedClients.set(t,n);try{return await n}catch(e){throw this.memoizedClients.delete(t),e}}dispose(){this.emitter.dispose(),this.subscriptions.dispose(),this.memoizedClients.clear(),this.clients.clear()}async _get(t){const{pathToBin:e,version:n}=await er(t,"tsserver"),r=this.tsserverInstancePerTsconfig?u.findConfigFile(t,(t=>u.sys.fileExists(t))):void 0;let i=this.clients.get(e);i||(i=new Map,this.clients.set(e,i));const o=i.get(r);if(o)return o;const s=new on(e,n,this.reportBusyWhile);return i.set(r,s),this.subscriptions.add(s.on("configFileDiag",this.diagnosticHandler(e,"configFileDiag")),s.on("semanticDiag",this.diagnosticHandler(e,"semanticDiag")),s.on("syntaxDiag",this.diagnosticHandler(e,"syntaxDiag")),s.on("suggestionDiag",this.diagnosticHandler(e,"suggestionDiag"))),s}*getAllClients(){for(const t of this.clients.values())yield*t.values()}}function sr(t){return{grammarScopes:Re(),priority:100,async highlight(e,n){if(!je(e))return;const r=Fe(e,n);if(!r)return;const i=await t(r.file),o=await i.execute("documentHighlights",{...r,filesToSearch:[r.file]});return o.body?Array.from(function*(t,e){for(const n of e)n.file===t&&(yield*n.highlightSpans.map(ke))}(r.file,o.body)):void 0}}}async function ar(t,e,n){if(void 0===t)return null;const r=e.dom("div",{className:"atom-typescript-datatip-tooltip-kind"},t.kind,function(t,e){return void 0===e?null:t.dom("span",{className:"atom-typescript-datatip-tooltip-kind-modifiers"},e)}(t.kindModifiers)),i=t.tags?t.tags.map((t=>{const n="atom-typescript-datatip-tooltip-doc-tag atom-typescript-datatip-tooltip-doc-tag-name-"+t.name;return e.dom("div",{className:n},e.dom("span",{className:"atom-typescript-datatip-tooltip-doc-tag-name"},t.name),function(t,e){if(void 0===e)return null;const[,n,r]=/^\s*(\S*)([^]*)$/.exec(e);return t.dom("span",{className:"atom-typescript-datatip-tooltip-doc-tag-text"},t.dom("span",{className:"atom-typescript-datatip-tooltip-doc-tag-text-first-word"},n),r)}(e,t.text))})):null,o=e.dom("div",{className:"atom-typescript-datatip-tooltip-doc"},t.documentation,i),s=t.displayString.replace(/^\(.+?\)\s+/,"");return[await n(s),r,o]}const cr=Symbol.for("react.element"),ur={dom:(t,e,...n)=>n.length>0?{$$typeof:cr,type:t,ref:null,props:{...e,children:n}}:{$$typeof:cr,type:t,ref:null,props:{...e}}};class lr{constructor(t){this.getClient=t,this.providerName="TypeScript type tooltips",this.priority=100,this.grammarScopes=Re()}async datatip(t,e){try{const n=t.getPath();if(void 0===n)return;const r=await this.getClient(n),i=(await r.execute("quickinfo",{file:n,line:e.row+1,offset:e.column+1})).body,o=await ar(i,ur,fr);return{component:()=>ur.dom("div",{className:"atom-typescript-datatip-tooltip"},o),range:f.Range.fromObject([xe(i.start),xe(i.end)])}}catch(t){return}}}async function fr(t){const e=atom.config.get("editor.fontFamily"),n=await Me(t.replace(/\r?\n$/,""),"source.ts");return ur.dom("div",{style:{fontFamily:e},className:"atom-typescript-datatip-tooltip-code",dangerouslySetInnerHTML:{__html:n.join("\n")}})}function pr(t){const e=ke(t);return{path:t.file,position:e.start,range:e,language:"TypeScript"}}function hr(t){return{uri:t.file,range:Te(t.start,t.end),name:void 0}}class dr{constructor(t){this.props=t,Ft.initialize(this)}async update(t){return this.props={...this.props,...t},Ft.update(this)}render(){const t={fontFamily:atom.config.get("editor.fontFamily")};return Ft.dom("div",{className:"editor editor-colors",style:t,innerHTML:this.props.highlightedText})}}var mr,gr,vr,yr={},wr=!1;function br(){return wr||(wr=!0,function(){var t,e;t=v.sep,mr=function(e,n,r){var i,o,s,a,c;for(o=e.length-1;e[o]===t;)o--;for(c=0,s=o,i=null;o>=0;)e[o]===t?(c++,null==i&&(i=e.substring(o+1,s+1))):0===o&&(s<e.length-1?null==i&&(i=e.substring(0,s+1)):null==i&&(i=e)),o--;return i===e?r*=2:i&&(r+=gr(i,n)),a=c+1,r*(.01*Math.max(1,10-a))},vr.basenameScore=mr,gr=function(n,r){var i,o,s,a,c,u,l,f,p,h,d,m;if(n===r)return 1;if(e(n,r))return 1;for(h=0,l=r.length,p=n.length,s=0,a=0;s<l;){if(i=r[s++],c=n.indexOf(i.toLowerCase()),d=n.indexOf(i.toUpperCase()),-1===(u=Math.min(c,d))&&(u=Math.max(c,d)),-1===(a=u))return 0;o=.1,n[a]===i&&(o+=.1),0===a||n[a-1]===t?o+=.8:"-"!==(m=n[a-1])&&"_"!==m&&" "!==m||(o+=.7),n=n.substring(a+1,p),h+=o}return((f=h/l)*(l/p)+f)/2},vr.score=gr,e=function(e,n){if(e[e.length-n.length-1]===t)return e.lastIndexOf(n)===e.length-n.length}}.call(vr={})),vr}var Er,_r=!1;function Sr(){return _r||(_r=!0,function(){var t,e,n;e=br(),t=function(t){return t.candidate},n=function(t,e){return e.score-t.score},Er=function(r,i,o,s){var a,c,u,l,f,p,h,d,m;if(c=(m=null!=s?s:{}).key,u=m.maxResults,i){for(f=[],h=0,d=r.length;h<d;h++)a=r[h],(p=null!=c?a[c]:a)&&(l=e.score(p,i,o),o||(l=e.basenameScore(p,i,l)),l>0&&f.push({candidate:a,score:l}));f.sort(n),r=f.map(t)}return null!=u&&(r=r.slice(0,u)),r}}.call(Er={})),Er}var xr,kr,Tr,Ir=!1;function Ar(){return Ir||(Ir=!0,function(){var t;t=v.sep,xr=function(e,n){var r,i,o;for(i=e.length-1;e[i]===t;)i--;for(o=i,r=null;i>=0;)e[i]===t?null==r&&(r=e.substring(i+1,o+1)):0===i&&(o<e.length-1?null==r&&(r=e.substring(0,o+1)):null==r&&(r=e)),i--;return kr(r,n,e.length-r.length)},Tr.basenameMatch=xr,kr=function(t,e,n){var r,i,o,s,a,c,u,l,f,p;if(null==n&&(n=0),t===e)return function(){p=[];for(var e=n,r=n+t.length;n<=r?e<r:e>r;n<=r?e++:e--)p.push(e);return p}.apply(this);for(u=e.length,l=t.length,i=0,o=0,a=[];i<u;){if(r=e[i++],s=t.indexOf(r.toLowerCase()),f=t.indexOf(r.toUpperCase()),-1===(c=Math.min(s,f))&&(c=Math.max(s,f)),-1===(o=c))return[];a.push(n+o),n+=o+1,t=t.substring(o+1,l)}return a},Tr.match=kr}.call(Tr={})),Tr}(function(){var t,e,n,r,i;i=br(),n=Sr(),r=Ar(),t=v.sep,e=/\ /g,yr={filter:function(r,i,o){var s;return i&&(s=-1!==i.indexOf(t),i=i.replace(e,"")),n(r,i,s,o)},score:function(n,r){var o,s;return n&&r?n===r?2:(o=-1!==r.indexOf(t),r=r.replace(e,""),s=i.score(n,r),o||(s=i.basenameScore(n,r,s)),s):0},match:function(n,i){var o,s,a,c,u,l;if(!n)return[];if(!i)return[];if(n===i)return function(){l=[];for(var t=0,e=n.length;0<=e?t<e:t>e;0<=e?t++:t--)l.push(t);return l}.apply(this);if(c=-1!==i.indexOf(t),i=i.replace(e,""),a=r.match(n,i),!c)for(o=r.basenameMatch(n,i),a=a.concat(o).sort((function(t,e){return t-e})),u=null,s=0;s<a.length;)s&&u===a[s]?a.splice(s,1):(u=a[s],s++);return a}}}).call(yr);class Cr{constructor(t){this.props=t,this.matches=this.match(this.props),Ft.initialize(this)}async update(t){this.props={...this.props,...t},this.matches=this.match(this.props),await Ft.update(this)}async destroy(){await Ft.destroy(this)}render(){return Ft.dom("span",null,this.matches.map((t=>Ft.dom("span",{className:t.type},t.text))))}match(t){return t.query?function(t,e){let n=0,r=[];const i=[],o=yr.match(t,e);let s;for(s of o){if(s<0)continue;const e=t.substring(n,s);e&&(r.length>0&&i.push({text:r.join(""),type:"character-match"}),r=[],i.push({text:e})),r.push(t[s]),n=s+1}r.length>0&&i.push({text:r.join(""),type:"character-match"});return i.push({text:t.substring(n)}),i}(t.label,t.query):[{text:t.label}]}}var Or;const{Disposable:Pr,CompositeDisposable:Nr,TextEditor:Lr}=f;var Rr,jr,Dr={};jr={onCopy:"copy",onCut:"cut",onPaste:"paste",onCompositionEnd:"compositionend",onCompositionStart:"compositionstart",onCompositionUpdate:"compositionupdate",onKeyDown:"keydown",onKeyPress:"keypress",onKeyUp:"keyup",onFocus:"focus",onBlur:"blur",onChange:"change",onInput:"input",onSubmit:"submit",onClick:"click",onContextMenu:"contextmenu",onDoubleClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragEnter:"dragenter",onDragExit:"dragexit",onDragLeave:"dragleave",onDragOver:"dragover",onDragStart:"dragstart",onDrop:"drop",onMouseDown:"mousedown",onMouseEnter:"mouseenter",onMouseLeave:"mouseleave",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onSelect:"select",onTouchCancel:"touchcancel",onTouchEnd:"touchend",onTouchMove:"touchmove",onTouchStart:"touchstart",onScroll:"scroll",onWheel:"wheel",onAbort:"abort",onCanPlay:"canplay",onCanPlayThrough:"canplaythrough",onDurationChange:"durationchange",onEmptied:"emptied",onEncrypted:"encrypted",onEnded:"ended",onError:"error",onLoadedData:"loadeddata",onLoadedMetadata:"loadedmetadata",onLoadStart:"loadstart",onPause:"pause",onPlay:"play",onPlaying:"playing",onProgress:"progress",onRateChange:"ratechange",onSeeked:"seeked",onSeeking:"seeking",onStalled:"stalled",onSuspend:"suspend",onTimeUpdate:"timeupdate",onVolumeChange:"volumechange",onWaiting:"waiting",onLoad:"load",onAnimationStart:"animationstart",onAnimationEnd:"animationend",onAnimationIteration:"animationiteration",onTransitionEnd:"transitionend"};var Fr={};function Mr(t,e,...n){for(let t=0;t<n.length;){const e=n[t];switch(typeof e){case"string":case"number":n[t]={text:e},t++;break;case"object":Array.isArray(e)?n.splice(t,1,...e):e?t++:n.splice(t,1);break;default:throw new Error("Invalid child node: "+e)}}if(e){for(const t in e){const n=jr[t];n&&(e.on||(e.on={}),e.on[n]=e[t])}e.class&&(e.className=e.class)}return{tag:t,props:e,children:n}}Fr=new Set(["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]);const $r=["a","abbr","address","article","aside","audio","b","bdi","bdo","blockquote","body","button","canvas","caption","cite","code","colgroup","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","html","i","iframe","ins","kbd","label","legend","li","main","map","mark","menu","meter","nav","noscript","object","ol","optgroup","option","output","p","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","u","ul","var","video","area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];for(const t of $r)Mr[t]=(e,...n)=>Mr(t,e,...n);for(const t of Fr)Mr[t]=(e,...n)=>Mr(t,e,...n);Rr=Mr;var Br,zr={},Ur={};Ur=new Map([["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["className","class"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["panose1","panose-1"],["paintOrder","paint-order"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xHeight","x-height"]]);function Hr(t,e,n,r,i){if(n)for(var o in n)"ref"!==o&&"on"!==o&&(o in jr||i&&o in i||("dataset"===o?Hr(t.dataset,null,n&&n.dataset,null,null):"innerHTML"!==o&&e&&Fr.has(e.tag)?t.removeAttribute(Ur.get(o)||o):(t[o]="",delete t[o])));if(i)for(var o in i)if("ref"!==o&&"on"!==o&&!(o in jr)){var s=n&&n[o],a=i[o];"dataset"===o?qr(t.dataset,s,a,!1):"style"===o&&"string"!=typeof a?("string"==typeof s&&(t.style="",s=null),qr(t.style,s,a,!0)):"attributes"===o?Gr(t,s,a):a!==s&&("innerHTML"!==o&&r&&Fr.has(r.tag)?t.setAttribute(Ur.get(o)||o,a):r&&"input"===r.tag&&"value"===o&&t[o]===a||(t[o]=a))}}function qr(t,e,n,r){if(e)for(var i in e)n&&i in n||(r?t[i]="":delete t[i]);if(n)for(var i in n){const r=e&&e[i],o=n[i];o!==r&&(t[i]=o)}}function Gr(t,e,n){if(e)for(var r in e)n&&r in n||t.removeAttribute(r);if(n)for(var r in n){const i=e&&e[r],o=n[r];o!==i&&t.setAttribute(r,o)}}function Vr(t,e){let n;if(null!=t.text)n=document.createTextNode(t.text);else{const{tag:r,children:i}=t;let{props:o}=t;if("function"==typeof r){let s;o&&o.ref&&(s=o.ref);const a=new r(o||{},i);t.component=a,n=a.element,e&&e.refs&&s&&(e.refs[s]=a)}else Fr.has(r)?(n=document.createElementNS("http://www.w3.org/2000/svg",r),i&&Wr(n,i,e),o&&Br(n,null,t,e)):(n=document.createElement(r),i&&Wr(n,i,e),o&&Br(n,null,t,e))}return t.domNode=n,n}function Wr(t,e,n){for(let r=0;r<e.length;r++)t.appendChild(Vr(e[r],n))}Br=function(t,e,n,r){const i=e&&e.props,o=n.props;let s,a;r&&(s=r.refs,a=r.listenerContext),Hr(t,e,i,n,o),s&&function(t,e,n,r){n!==e&&(e&&r[e]===t&&delete r[e],n&&(r[n]=t))}(t,i&&i.ref,o&&o.ref,s),function(t,e,n,r){const i=e&&e.props&&e.props.on,o=n.props&&n.props.on;for(const n in i)if(!o||!(n in o)){let r;r=e&&e.boundListeners&&e.boundListeners[n]?e.boundListeners[n]:i[n],t.removeEventListener(n,r)}for(const s in o){const a=i&&i[s],c=o[s];if(c!==a){if(a){let n;n=e&&e.boundListeners&&e.boundListeners[s]?e.boundListeners[s]:a,t.removeEventListener(s,n)}if(c){let e;r?(e=c.bind(r),n.boundListeners||(n.boundListeners={}),n.boundListeners[s]=e):e=c,t.addEventListener(s,e)}}}}(t,e,n,a)},zr=Vr;var Xr,Kr={};function Qr(t,e,n){const r=t.domNode;if(e===t)return r;if(Jr(t,e)){let i;return null!=e.text?(r.nodeValue=e.text,i=r):"function"==typeof e.tag?i=function(t,e,n){const{component:r,props:i}=t;let{props:o,children:s}=e;if(e.component=r,n&&n.refs){const t=n.refs,e=i&&i.ref,s=o&&o.ref;s!==e&&(e&&t[e]===r&&delete t[e],s&&(t[s]=r))}return r.update(o||{},s),r.element}(t,e,n):(!function(t,e,n,r){var i,o=0,s=e.length-1,a=e[0],c=e[s],u=0,l=n.length-1,f=n[0],p=n[l];for(;o<=s&&u<=l;)if(a)if(c)if(Jr(a,f))Qr(a,f,r),a=e[++o],f=n[++u];else if(Jr(c,p))Qr(c,p,r),c=e[--s],p=n[--l];else if(Jr(a,p))Qr(a,p,r),t.insertBefore(a.domNode,c.domNode.nextSibling),a=e[++o],p=n[--l];else if(Jr(c,f))Qr(c,f,r),t.insertBefore(c.domNode,a.domNode),c=e[--s],f=n[++u];else{i||(Zr.length>0?(i=Zr.pop()).clear():i=new Map,ei(i,e,o,s));var h=ti(f),d=h?i.get(h):null;if(null==d)t.insertBefore(zr(f,r),a.domNode),f=n[++u];else{var m=e[d];Qr(m,f,r),e[d]=void 0,t.insertBefore(m.domNode,a.domNode),f=n[++u]}}else c=e[--s];else a=e[++o];if(o>s){var g=n[l+1]?n[l+1].domNode:null;for(let e=u;e<=l;e++)t.insertBefore(zr(n[e],r),g)}else if(u>l)for(let t=o;t<=s;t++){var v=e[t];v&&Yr(v,r&&r.refs)}i&&Zr.push(i)}(r,t.children,e.children,n),Br(r,t,e,n),i=r),e.domNode=i,i!==r&&r.parentNode&&r.parentNode.replaceChild(i,r),i}{const i=r.parentNode,o=r.nextSibling;Yr(t,n&&n.refs);const s=zr(e,n);return i&&i.insertBefore(s,o),e.domNode=s,s}}let Zr=[new Map,new Map,new Map,new Map];function Yr(t,e,n=!0){const{domNode:r,props:i,children:o,component:s}=t,a=i&&i.ref;if(s)e&&a&&e[a]===s&&delete e[a],s.destroy&&s.destroy();else if(e&&a&&e[a]===r&&delete e[a],o)for(let t=0;t<o.length;t++)Yr(o[t],e,!1);n&&r.remove()}function Jr(t,e){return ti(t)===ti(e)&&t.tag===e.tag}function ti(t){return t.props?t.props.key:void 0}function ei(t,e,n,r){for(let i=n;i<=r;i++){const n=ti(e[i]);n&&t.set(n,i)}return t}Kr=Qr;var ni;ni=class{constructor(){this.updateRequests=[],this.readRequests=[],this.pendingAnimationFrame=null,this.performUpdates=this.performUpdates.bind(this),this.performingUpdates=!1}updateDocument(t){this.updateRequests.push(t),this.pendingAnimationFrame||(this.pendingAnimationFrame=window.requestAnimationFrame(this.performUpdates))}readDocument(t){this.readRequests.push(t),this.pendingAnimationFrame||(this.pendingAnimationFrame=window.requestAnimationFrame(this.performUpdates))}getNextUpdatePromise(){return this.nextUpdatePromise||(this.nextUpdatePromise=new Promise((t=>{this.resolveNextUpdatePromise=t}))),this.nextUpdatePromise}performUpdates(){for(;this.updateRequests.length>0;)this.updateRequests.shift()();for(this.pendingAnimationFrame=null;this.readRequests.length>0;)this.readRequests.shift()();if(this.nextUpdatePromise){let t=this.resolveNextUpdatePromise;this.nextUpdatePromise=null,this.resolveNextUpdatePromise=null,t()}}};let ri=null;var ii=function(){return ri||(ri=new ni),ri};const oi=new WeakSet;let si=0,ai=0;function ci(t){return null!=t&&!1!==t}function ui(t,e=!0){if(!ci(t.virtualNode))throw new Error((t.constructor?t.constructor.name+" instance":t)+" is not associated with a valid virtualNode. Perhaps this component was never initialized?");if(null==t.element)throw new Error((t.constructor?t.constructor.name+" instance":t)+" is not associated with a DOM element. Perhaps this component was never initialized?");let n=t.render();if(!ci(n)){const e=t.constructor&&t.constructor.name?" in "+t.constructor.name:"";throw new Error("invalid falsy value "+n+" returned from render()"+e)}si++;let r=t.virtualNode,i=t.element,o=Kr(r,n,{refs:t.refs,listenerContext:t});if(t.virtualNode=n,o!==i&&!e)throw new Error("The root node type changed on update, but the update was performed with the replaceNode option set to false");t.element=o,"function"==typeof t.writeAfterUpdate&&t.writeAfterUpdate(),"function"==typeof t.readAfterUpdate&&ii().readDocument((function(){t.readAfterUpdate()})),si--}function li(t,e=!0){ai++,fi(t.virtualNode),1===ai&&e&&t.element.remove(),ai--}function fi(t){t.component&&"function"==typeof t.component.destroy?t.component.destroy():t.children&&t.children.forEach(fi)}Xr={initialize:function(t){if("function"!=typeof t.update)throw new Error("Etch components must implement `update(props, children)`.");let e=t.render();if(!ci(e)){let n=t.constructor&&t.constructor.name?" in "+t.constructor.name:"";throw new Error("invalid falsy value "+e+" returned from render()"+n)}t.refs={},t.virtualNode=e,t.element=zr(t.virtualNode,{refs:t.refs,listenerContext:t})},update:function(t,e=!0){if(si>0)return ui(t,e),Promise.resolve();let n=ii();return oi.has(t)||(oi.add(t),n.updateDocument((function(){oi.delete(t),ui(t,e)}))),n.getNextUpdatePromise()},updateSync:ui,destroy:function(t,e=!0){if(si>0||ai>0)return li(t,e),Promise.resolve();let n=ii();return n.updateDocument((function(){li(t,e)})),n.getNextUpdatePromise()},destroySync:li};const{initialize:pi,update:hi,updateSync:di,destroy:mi,destroySync:gi}=Xr,vi=(Dr={dom:Rr,render:zr,initialize:pi,update:hi,updateSync:di,destroy:mi,destroySync:gi,setScheduler:function(t){ri=t},getScheduler:ii}).dom;Or=class{static setScheduler(t){Dr.setScheduler(t)}static getScheduler(t){return Dr.getScheduler()}constructor(t){this.props=t,this.props.hasOwnProperty("initialSelectionIndex")||(this.props.initialSelectionIndex=0),t.initiallyVisibleItemCount&&this.initializeVisibilityObserver(),this.computeItems(!1),this.disposables=new Nr,Dr.initialize(this),this.element.classList.add("select-list"),this.disposables.add(this.refs.queryEditor.onDidChange(this.didChangeQuery.bind(this))),t.skipCommandsRegistration||this.disposables.add(this.registerAtomCommands());const e=this.refs.queryEditor.element,n=this.didLoseFocus.bind(this);e.addEventListener("blur",n),this.didClickItemsList=!1,this.element.addEventListener("mousedown",(t=>{t.target===this.refs.items&&(this.didClickItemsList=!0)})),this.disposables.add(new Pr((()=>{e.removeEventListener("blur",n)})))}initializeVisibilityObserver(){this.visibilityObserver=new IntersectionObserver((t=>{for(const e of t)if(e.intersectionRatio>0){const t=e.target;this.visibilityObserver.unobserve(t);const n=Array.from(this.refs.items.children).indexOf(t);n>=0&&this.renderItemAtIndex(n)}}))}focus(){this.refs.queryEditor.element.focus()}didLoseFocus(t){this.didClickItemsList||this.element.contains(t.relatedTarget)?(this.didClickItemsList=!1,this.refs.queryEditor.element.focus()):document.hasFocus()&&this.cancelSelection()}reset(){this.refs.queryEditor.setText("")}destroy(){return this.disposables.dispose(),this.visibilityObserver&&this.visibilityObserver.disconnect(),Dr.destroy(this)}registerAtomCommands(){return T.atom.commands.add(this.element,{"core:move-up":t=>{this.selectPrevious(),t.stopPropagation()},"core:move-down":t=>{this.selectNext(),t.stopPropagation()},"core:move-to-top":t=>{this.selectFirst(),t.stopPropagation()},"core:move-to-bottom":t=>{this.selectLast(),t.stopPropagation()},"core:confirm":t=>{this.confirmSelection(),t.stopPropagation()},"core:cancel":t=>{this.cancelSelection(),t.stopPropagation()}})}update(t={}){let e=!1;return t.hasOwnProperty("items")&&(this.props.items=t.items,e=!0),t.hasOwnProperty("maxResults")&&(this.props.maxResults=t.maxResults,e=!0),t.hasOwnProperty("filter")&&(this.props.filter=t.filter,e=!0),t.hasOwnProperty("filterQuery")&&(this.props.filterQuery=t.filterQuery,e=!0),t.hasOwnProperty("query")&&(this.refs.queryEditor.setText(t.query),e=!1),t.hasOwnProperty("selectQuery")&&(t.selectQuery?this.refs.queryEditor.selectAll():this.refs.queryEditor.clearSelections()),t.hasOwnProperty("order")&&(this.props.order=t.order),t.hasOwnProperty("emptyMessage")&&(this.props.emptyMessage=t.emptyMessage),t.hasOwnProperty("errorMessage")&&(this.props.errorMessage=t.errorMessage),t.hasOwnProperty("infoMessage")&&(this.props.infoMessage=t.infoMessage),t.hasOwnProperty("loadingMessage")&&(this.props.loadingMessage=t.loadingMessage),t.hasOwnProperty("loadingBadge")&&(this.props.loadingBadge=t.loadingBadge),t.hasOwnProperty("itemsClassList")&&(this.props.itemsClassList=t.itemsClassList),t.hasOwnProperty("initialSelectionIndex")&&(this.props.initialSelectionIndex=t.initialSelectionIndex),e&&this.computeItems(),Dr.update(this)}render(){return vi.div({},vi(Lr,{ref:"queryEditor",mini:!0}),this.renderLoadingMessage(),this.renderInfoMessage(),this.renderErrorMessage(),this.renderItems())}renderItems(){if(this.items.length>0){const t=["list-group"].concat(this.props.itemsClassList||[]).join(" ");return this.visibilityObserver&&Dr.getScheduler().updateDocument((()=>{Array.from(this.refs.items.children).slice(this.props.initiallyVisibleItemCount).forEach((t=>{this.visibilityObserver.observe(t)}))})),this.listItems=this.items.map(((t,e)=>{const n=this.getSelectedItem()===t,r=!this.props.initiallyVisibleItemCount||e<this.props.initiallyVisibleItemCount;return vi(yi,{element:this.props.elementForItem(t,{selected:n,index:e,visible:r}),selected:n,onclick:()=>this.didClickItem(e)})})),vi.ol({className:t,ref:"items"},...this.listItems)}return!this.props.loadingMessage&&this.props.emptyMessage?vi.span({ref:"emptyMessage"},this.props.emptyMessage):""}renderErrorMessage(){return this.props.errorMessage?vi.span({ref:"errorMessage"},this.props.errorMessage):""}renderInfoMessage(){return this.props.infoMessage?vi.span({ref:"infoMessage"},this.props.infoMessage):""}renderLoadingMessage(){return this.props.loadingMessage?vi.div({className:"loading"},vi.span({ref:"loadingMessage",className:"loading-message"},this.props.loadingMessage),this.props.loadingBadge?vi.span({ref:"loadingBadge",className:"badge"},this.props.loadingBadge):""):""}getQuery(){return this.refs&&this.refs.queryEditor?this.refs.queryEditor.getText():""}getFilterQuery(){return this.props.filterQuery?this.props.filterQuery(this.getQuery()):this.getQuery()}didChangeQuery(){this.props.didChangeQuery&&this.props.didChangeQuery(this.getFilterQuery()),this.computeItems()}didClickItem(t){this.selectIndex(t),this.confirmSelection()}computeItems(t){this.listItems=null,this.visibilityObserver&&this.visibilityObserver.disconnect();const e=this.props.filter||this.fuzzyFilter.bind(this);this.items=e(this.props.items.slice(),this.getFilterQuery()),this.props.order&&this.items.sort(this.props.order),this.props.maxResults&&(this.items=this.items.slice(0,this.props.maxResults)),this.selectIndex(this.props.initialSelectionIndex,t)}fuzzyFilter(t,e){if(0===e.length)return t;{const n=[];for(const r of t){const t=this.props.filterKeyForItem?this.props.filterKeyForItem(r):r;let i=yr.score(t,e);i>0&&n.push({item:r,score:i})}return n.sort(((t,e)=>e.score-t.score)),n.map((t=>t.item))}}getSelectedItem(){return void 0===this.selectionIndex?null:this.items[this.selectionIndex]}renderItemAtIndex(t){const e=this.items[t],n=this.getSelectedItem()===e,r=this.listItems[t].component;this.visibilityObserver&&this.visibilityObserver.unobserve(r.element),r.update({element:this.props.elementForItem(e,{selected:n,index:t,visible:!0}),selected:n,onclick:()=>this.didClickItem(t)})}selectPrevious(){return void 0===this.selectionIndex?this.selectLast():this.selectIndex(this.selectionIndex-1)}selectNext(){return void 0===this.selectionIndex?this.selectFirst():this.selectIndex(this.selectionIndex+1)}selectFirst(){return this.selectIndex(0)}selectLast(){return this.selectIndex(this.items.length-1)}selectNone(){return this.selectIndex(void 0)}selectIndex(t,e=!0){t>=this.items.length?t=0:t<0&&(t=this.items.length-1);const n=this.selectionIndex;return this.selectionIndex=t,void 0!==t&&this.props.didChangeSelection&&this.props.didChangeSelection(this.getSelectedItem()),e?this.listItems?(n>=0&&this.renderItemAtIndex(n),t>=0&&this.renderItemAtIndex(t),Dr.getScheduler().getNextUpdatePromise()):Dr.update(this):Promise.resolve()}selectItem(t){const e=this.items.indexOf(t);if(-1===e)throw new Error("Cannot select the specified item because it does not exist.");return this.selectIndex(e)}confirmSelection(){const t=this.getSelectedItem();null!=t?this.props.didConfirmSelection&&this.props.didConfirmSelection(t):this.props.didConfirmEmptySelection&&this.props.didConfirmEmptySelection()}cancelSelection(){this.props.didCancelSelection&&this.props.didCancelSelection()}};class yi{constructor(t){this.mouseDown=this.mouseDown.bind(this),this.mouseUp=this.mouseUp.bind(this),this.didClick=this.didClick.bind(this),this.selected=t.selected,this.onclick=t.onclick,this.element=t.element,this.element.addEventListener("mousedown",this.mouseDown),this.element.addEventListener("mouseup",this.mouseUp),this.element.addEventListener("click",this.didClick),this.selected&&this.element.classList.add("selected"),this.domEventsDisposable=new Pr((()=>{this.element.removeEventListener("mousedown",this.mouseDown),this.element.removeEventListener("mouseup",this.mouseUp),this.element.removeEventListener("click",this.didClick)})),Dr.getScheduler().updateDocument(this.scrollIntoViewIfNeeded.bind(this))}mouseDown(t){t.preventDefault()}mouseUp(t){t.preventDefault()}didClick(t){t.preventDefault(),this.onclick()}destroy(){this.element.remove(),this.domEventsDisposable.dispose()}update(t){this.element.removeEventListener("mousedown",this.mouseDown),this.element.removeEventListener("mouseup",this.mouseUp),this.element.removeEventListener("click",this.didClick),this.element.parentNode.replaceChild(t.element,this.element),this.element=t.element,this.element.addEventListener("mousedown",this.mouseDown),this.element.addEventListener("mouseup",this.mouseUp),this.element.addEventListener("click",this.didClick),t.selected&&this.element.classList.add("selected"),this.selected=t.selected,this.onclick=t.onclick,Dr.getScheduler().updateDocument(this.scrollIntoViewIfNeeded.bind(this))}scrollIntoViewIfNeeded(){this.selected&&this.element.scrollIntoViewIfNeeded(!1)}}var wi=x(Or);async function bi({items:t,itemTemplate:e,itemFilterKey:n,didChangeSelection:r}){let i;const o=document.activeElement;try{return await new Promise((o=>{let s,a,c="Loading...",u=!1;const l=t=>{u||be(f.update(t))};"function"==typeof t&&(s=async e=>{const n=setTimeout((()=>l({loadingMessage:"Loading..."})),300),r=await t(e);clearTimeout(n),l({items:r,emptyMessage:"Nothing matches the search value",loadingMessage:void 0})},c=void 0,a="Please enter a search value");const f=new wi({items:[],elementForItem:t=>Ft.render(e(t,f)),filterKeyForItem:t=>""+t[n],didChangeSelection:r,didCancelSelection:()=>{u=!0,o()},didConfirmSelection:t=>{u=!0,o(t)},loadingMessage:c,didChangeQuery:s,emptyMessage:a,itemsClassList:["atom-typescript"]});"function"!=typeof t&&be(Promise.resolve(t).then((t=>{l({items:t,loadingMessage:void 0})}))),i=atom.workspace.addModalPanel({item:f,visible:!0}),f.focus()}))}finally{i&&i.destroy(),o&&o.focus()}}const Ei=[];function _i(t,e,n){Ei.push({selector:t,command:e,desc:n})}async function Si(t,e,n){const r=Promise.all(t.body.refs.map((async t=>{var e;const n=(await new Promise(((e,n)=>E.readFile(t.file,((t,r)=>{t?n(t):e(r.toString("utf-8"))}))))).split(/\r?\n/g),r=void 0!==t.contextStart&&void 0!==t.contextEnd?n.slice(t.contextStart.line-1,t.contextEnd.line):n,i=(await Me(r.join("\n"),"source.tsx"))[t.start.line-((null===(e=t.contextStart)||void 0===e?void 0:e.line)||1)];return{...t,hlText:i}}))),i=await bi({items:r,itemTemplate:(t,e)=>Ft.dom("li",null,Ft.dom(Cr,{label:atom.project.relativize(t.file),query:e.getFilterQuery()}),Ft.dom("div",{className:"pull-right"},"line: ",t.start.line),Ft.dom(dr,{highlightedText:t.hlText})),itemFilterKey:"file"});i&&await n(e,i)}async function xi(t,e,n){if(t.body)if(t.body.length>1){const r=await bi({items:t.body,itemTemplate:(t,e)=>Ft.dom("li",null,Ft.dom(Cr,{label:t.file,query:e.getFilterQuery()}),Ft.dom("div",{className:"pull-right"},"line: ",t.start.line)),itemFilterKey:"file"});r&&await n(e,r)}else t.body.length>0&&await n(e,t.body[0])}function ki(t){const e=t.spans.map(ke).reduce(((t,e)=>e.union(t)));return{kind:Ii[t.kind],plainText:t.text,startPosition:e.start,endPosition:e.end,landingPosition:t.nameSpan?ke(t.nameSpan).start:void 0,children:t.childItems?t.childItems.map(ki).sort(Ti):[]}}function Ti(t,e){const n=t.landingPosition?t.landingPosition:t.startPosition,r=e.landingPosition?e.landingPosition:e.startPosition;return n.compare(r)}_i("atom-text-editor","typescript:find-references",(t=>({description:"Find where symbol under text cursor is referenced",async didDispatch(e){const n=Fe(e);if(!n)return;const r=await t.getClient(n.file),i=await r.execute("references",n);await Si(i,e,t.histGoForward)}}))),_i("atom-text-editor","typescript:go-to-declaration",(t=>({description:"Go to declaration of symbol under text cursor",async didDispatch(e){const n=Fe(e);if(!n)return;const r=await t.getClient(n.file),i=await r.execute("definition",n);await xi(i,e,t.histGoForward)}})));const Ii={directory:"file",module:"module","external module name":"module",class:"class","local class":"class",method:"method",property:"property",getter:"property",setter:"property","JSX attribute":"field",constructor:"constructor",enum:"enum",interface:"interface",type:"interface",function:"function","local function":"function",label:"variable",alias:"variable",var:"variable",let:"variable","local var":"variable",parameter:"variable","enum member":"constant",const:"constant",string:"string","":void 0,warning:void 0,keyword:void 0,script:void 0,call:void 0,index:void 0,construct:void 0,"type parameter":void 0,"primitive type":void 0};class Ai{constructor(t){this.getClient=t,this.triggerCharacters=new Set([]),this.grammarScopes=Re(),this.priority=100,this.disposables=new p;const e=new Set(["<","(",","]),n=new Set([]);this.disposables.add(atom.config.observe("atom-typescript.sigHelpDisplayOnChange",(t=>{this.triggerCharacters=t?e:n})))}dispose(){this.disposables.dispose()}async getSignatureHelp(t,e){try{const n=t.getPath();if(void 0===n)return;const r=await this.getClient(n),i=(await r.execute("signatureHelp",{file:n,line:e.row+1,offset:e.column+1})).body;return{signatures:i.items.map(Ce),activeParameter:i.argumentIndex,activeSignature:i.selectedItemIndex}}catch(t){return}}}function Ci(t){return Ft.dom("li",null,t.description)}class Oi{constructor(t,e){this.getClient=t,this.applyEdits=e,this.selector=Re().map((t=>t.includes(".")?"."+t:t)).join(", "),this.disableForSelector=".comment",this.inclusionPriority=3,this.suggestionPriority=atom.config.get("atom-typescript").autocompletionSuggestionPriority,this.excludeLowerPriority=!1}async getSuggestions(t){const e=function(t){const e=t.editor.getPath();if(void 0===e)return;return{file:e,line:t.bufferPosition.row+1,offset:t.bufferPosition.column+1}}(t),n=function(t){const e=t.editor.getBuffer().getTextInRange([[t.bufferPosition.row,0],t.bufferPosition]).match(Pi);return e?e[0]:""}(t);if(!e)return[];const r=function(t){if(void 0===t)return;if(!t)return;const e=t.slice(-1);if(Fi.has(e))return e;return}(function(t,e){let n;const r=new f.Range([0,0],e);return t.backwardsScanInRange(/\S/,r,(({matchText:t,stop:e})=>{n=t,e()})),n}(t.editor.getBuffer(),t.bufferPosition));if(!n&&!t.activatedManually&&!r)return[];if(Li(t.scopeDescriptor.getScopesArray(),"string.template.")&&!Li(t.scopeDescriptor.getScopesArray(),"template.expression."))return[];try{let i=await this.getSuggestionsWithCache({prefix:n,location:e,triggerCharacter:r,activatedManually:t.activatedManually});return i=yr.filter(i,n,{key:"displayText"}),i.map((r=>({replacementPrefix:r.replacementRange?t.editor.getTextInBufferRange(r.replacementRange):n,location:e,...this.getDetailsFromCache(r),...ji(t,r)})))}catch(t){return[]}}async getSuggestionDetailsOnSelect(t){return"text"in t&&!("rightLabel"in t)?this.getAdditionalDetails(t):null}onDidInsertSuggestion(t){const e=t.suggestion;if(!e.hasAction)return;if(!this.lastSuggestions)return;const n=this.lastSuggestions.client;let r=this.getDetailsFromCache(e);be((async()=>{var t;if(r||(r=await this.getAdditionalDetails(e)),!(null===(t=r)||void 0===t?void 0:t.details.codeActions))return;let i;i=1===r.details.codeActions.length?r.details.codeActions[0]:await bi({items:r.details.codeActions,itemTemplate:Ci,itemFilterKey:"description"}),i&&(await this.applyEdits(i.changes),i.commands&&await Promise.all(i.commands.map((t=>n.execute("applyCodeActionCommand",{command:t})))))})())}async getAdditionalDetails(t){var e;if(void 0===t.identifier)return null;if(!this.lastSuggestions)return null;const n=await this.lastSuggestions.client.execute("completionEntryDetails",{entryNames:[t.identifier],...this.lastSuggestions.location});if(!n.body)return null;const[r]=n.body;if(!r)return null;let i=r.displayParts;i.length>=3&&"("===i[0].text&&i[1].text===t.leftLabel&&")"===i[2].text&&(i=i.slice(3));let o=i.map((t=>t.text)).join("");const s=t.hasAction&&1===(null===(e=r.codeActions)||void 0===e?void 0:e.length)?r.codeActions[0].description+"\n\n":"";s&&(o=s);const a=s+r.displayParts.map((t=>t.text)).join("")+(r.documentation?"\n\n"+r.documentation.map((t=>t.text)).join(" "):"");return this.lastSuggestions.details.set(t.displayText,{details:r,rightLabel:o,description:a}),{...t,details:r,rightLabel:o,description:a}}getDetailsFromCache(t){if(!this.lastSuggestions)return null;const e=this.lastSuggestions.details.get(t.displayText);return e||null}async getSuggestionsWithCache({prefix:t,location:e,triggerCharacter:n,activatedManually:r}){if(this.lastSuggestions&&!r){const n=this.lastSuggestions.location,r=Ni(this.lastSuggestions.prefix,n.offset),i=Ni(t,e.offset);if(n.file===e.file&&n.line===e.line&&r===i&&0!==this.lastSuggestions.suggestions.length)return this.lastSuggestions.suggestions}const i=await this.getClient(e.file),o=await async function({client:t,location:e,triggerCharacter:n}){if(parseInt(t.version.split(".")[0],10)>=3){var r;const i=await t.execute("completionInfo",{includeExternalModuleExports:!1,includeInsertTextCompletions:!0,triggerCharacter:n,...e});return i.body.entries.map(Ri.bind(null,null===(r=i.body)||void 0===r?void 0:r.isMemberCompletion))}return(await t.execute("completions",{includeExternalModuleExports:!1,includeInsertTextCompletions:!0,...e})).body.map(Ri.bind(null,void 0))}({client:i,location:e,triggerCharacter:r?void 0:n});return this.lastSuggestions={client:i,location:e,prefix:t,suggestions:o,details:new Map},o}}const Pi=/(?:(?![\u{10000}-\u{10FFFF}])[\$_\p{Lu}\p{Ll}\p{Lt}\p{Lm}\p{Lo}\p{Nl}])(?:(?![\u{10000}-\u{10FFFF}])[\$_\p{Lu}\p{Ll}\p{Lt}\p{Lm}\p{Lo}\p{Nl}\u200C\u200D\p{Mn}\p{Mc}\p{Nd}\p{Pc}])*$/u;function Ni(t,e){return e-("."===t?0:t.length)}function Li(t,e){for(const n of t)if(n.includes(e))return!0;return!1}function Ri(t,e){return{displayText:e.name,text:void 0!==e.insertText?e.insertText:e.name,leftLabel:e.kind,replacementRange:e.replacementSpan?ke(e.replacementSpan):void 0,type:Di[e.kind],isMemberCompletion:t,identifier:void 0!==e.source?{name:e.name,source:e.source}:e.name,hasAction:e.hasAction}}function ji(t,e){return atom.config.get("atom-typescript.autocompleteParens")&&["function","method"].includes(e.leftLabel)&&!function(t){const e=t.editor.getBuffer(),n=t.bufferPosition;return!!e.getTextInRange([n,[n.row,e.lineLengthForRow(n.row)]]).match(/\s*\(/)}(t)?{...e,snippet:e.text+"($1)",text:void 0}:e}const Di={directory:"require",module:"import","external module name":"import",class:"class","local class":"class",method:"method",property:"property",getter:"property",setter:"property","JSX attribute":"property",constructor:"method",enum:"type",interface:"type",type:"type","type parameter":"type","primitive type":"type",function:"function","local function":"function",label:"variable",alias:"import",var:"variable",let:"variable","local var":"variable",parameter:"variable","enum member":"constant",const:"constant",string:"value",keyword:"keyword","":void 0,warning:void 0,script:void 0,call:void 0,index:void 0,construct:void 0},Fi=new Set(Object.keys({".":null,'"':null,"'":null,"`":null,"/":null,"@":null,"<":null,"#":null}));async function Mi(t,e){const n=await async function(t,e){try{return await t.execute("getApplicableRefactors",{triggerReason:"invoked",...e})}catch{return}}(t,e);if(!n)return[];if(void 0===n.body||0===n.body.length)return[];const r=[];for(const t of n.body)for(const n of t.actions)r.push({refactorName:t.name,refactorDescription:t.description,refactorRange:e,actionName:n.name,actionDescription:n.description,inlineable:void 0===t.inlineable||t.inlineable});return r}async function $i(t,e,n){const r=await e.execute("getEditsForRefactor",{...t.refactorRange,refactor:t.refactorName,action:t.actionName});if(void 0===r.body)return;const{edits:i,renameFilename:o,renameLocation:s}=r.body;if(await n.applyEdits(i),void 0===o||void 0===s)return;const a=await atom.workspace.open(o,{searchAllPanes:!0,initialLine:s.line-1,initialColumn:s.offset-1});await atom.commands.dispatch(atom.views.getView(a),"typescript:rename-refactor")}_i("atom-text-editor","typescript:refactor-selection",(t=>({description:"Get a list of applicable refactors to selected code",async didDispatch(e){const n=Fe(e);if(!n)return;const r=e.getSelectedBufferRange(),i=await t.getClient(n.file),o=r.isEmpty()?n:{file:n.file,startLine:r.start.row+1,startOffset:r.start.column+1,endLine:r.end.row+1,endOffset:r.end.column+1},s=await Mi(i,o);if(0===s.length)return void atom.notifications.addInfo("AtomTS: No applicable refactors for the selection");const a=await bi({items:s,itemTemplate:(t,e)=>Ft.dom("li",null,Ft.dom(Cr,{label:`${t.refactorDescription}: ${t.actionDescription}`,query:e.getFilterQuery()})),itemFilterKey:"actionDescription"});void 0!==a&&await $i(a,i,t)}})));class Bi{constructor(t,e,n){this.clientResolver=t,this.errorPusher=e,this.applyEdits=n,this.supportedFixes=new WeakMap}async getFixableRanges(t,e){const n=t.getPath();if(void 0===n)return[];const r=this.errorPusher.getErrorsInRange(n,e),i=await this.clientResolver.get(n),o=await this.getSupportedFixes(i);return Array.from(r).filter((t=>void 0!==t.code&&o.has(t.code))).map((t=>ke(t)))}async runCodeFix(t,e){const n=t.getPath();if(void 0===n)return[];const r=await this.clientResolver.get(n),i=await this.getSupportedFixes(r),o=Array.from(this.errorPusher.getErrorsAt(n,e)).filter((t=>void 0!==t.code&&i.has(t.code))).map((t=>r.execute("getCodeFixes",{file:n,startLine:t.start.line,startOffset:t.start.offset,endLine:t.end.line,endOffset:t.end.offset,errorCodes:[t.code]}))),s=await Promise.all(o),a=[];for(const t of s)if(t.body)for(const e of t.body)a.push(e);const c=await Mi(r,{file:n,...Se(e)});return a.push(...c),a}async applyFix(t){if("changes"in t)return this.applyEdits(t.changes);return $i(t,await this.clientResolver.get(t.refactorRange.file),{applyEdits:this.applyEdits})}dispose(){}async getSupportedFixes(t){let e=this.supportedFixes.get(t);if(e)return e;const n=await t.execute("getSupportedCodeFixes");if(!n.body)throw new Error("No code fixes are supported");return e=new Set(n.body.map((t=>parseInt(t,10)))),this.supportedFixes.set(t,e),e}}async function zi(t,e){let n;try{return await new Promise(((r,i)=>{try{const o=new d({command:t,args:["--init"],options:{cwd:e},exit:t=>{0===t?r():i(new Error("Tsc ended with nonzero exit code "+t))}});n=o.onWillThrowError(i)}catch(t){i(t)}}))}finally{n&&n.dispose()}}_i("atom-text-editor","typescript:build",(t=>({description:"Compile all files in project related to current active text editor",async didDispatch(e){const n=e.getPath();if(void 0===n)return;const r=await t.getClient(n);t.reportBuildStatus(void 0);const i=await r.execute("projectInfo",{file:n,needFileNameList:!0}),o=new Set(i.body.fileNames);o.delete(i.body.configFileName);let s=0;const a=[...o.values()].map((e=>{return n=r.execute("compileOnSaveEmitFile",{file:e,forced:!0}),i=()=>{s+=1,t.reportProgress({max:o.size,value:s})},n.then(i,i),n;var n,i}));try{if((await Promise.all(a)).some((t=>!1===t.body)))throw new Error("Emit failed");t.reportBuildStatus({success:!0})}catch(e){const n=e;console.error(n),t.reportBuildStatus({success:!1,message:n.message})}}}))),_i("atom-text-editor","typescript:check-all-files",(t=>({description:"Typecheck all files in project related to current active text editor",async didDispatch(e){var n;const r=e.getPath();if(void 0===r)return;const i=await t.getClient(r),o=await i.execute("projectInfo",{file:r,needFileNameList:!0}),s=new Set(null===(n=o.body.fileNames)||void 0===n?void 0:n.filter((t=>!t.endsWith("tsconfig.json")&&!t.includes(`${v.sep}node_modules${v.sep}`)))),a=s.size;if(i.multistepSupported){const e=i.on("syntaxDiag",(e=>{"file"in e&&s.delete(e.file),t.reportProgress({max:a,value:a-s.size})}));t.reportProgress({max:a,value:0}),await i.execute("geterrForProject",{file:r,delay:0}),e.dispose()}else{let e;const n=i.on("syntaxDiag",(r=>{void 0!==e&&window.clearTimeout(e),e=window.setTimeout((()=>{s.clear(),n.dispose(),t.reportProgress({max:a,value:a})}),2e3),"file"in r&&s.delete(r.file),0===s.size&&(n.dispose(),window.clearTimeout(e)),t.reportProgress({max:a,value:a-s.size})}));t.reportProgress({max:a,value:0}),await i.execute("geterrForProject",{file:r,delay:0})}}}))),_i("atom-workspace","typescript:clear-errors",(t=>({description:"Clear error messages",didDispatch(){t.clearErrors()}}))),_i("atom-text-editor","typescript:format-code",(t=>({description:"Format code in currently active text editor",async didDispatch(e){const n=e.getPath();if(void 0===n)return;const r=[];for(const t of e.getSelectedBufferRanges())t.isEmpty()||r.push({line:(i=t).start.row+1,offset:i.start.column+1,endLine:i.end.row+1,endOffset:i.end.column+1});var i;if(0===r.length){const t=e.getBuffer().getEndPosition();r.push({line:1,offset:1,endLine:t.row+1,endOffset:t.column+1})}const o=await t.getClient(n),s=[];for(const t of r){const e=await o.execute("format",{...t,file:n});e.body&&s.push(...e.body)}s.length>0&&e.transact((()=>{!function(t,e){for(let n=e.length-1;n>=0;n--)t.setTextInBufferRange(ke(e[n]),e[n].newText)}(e,s)}))}}))),_i("atom-text-editor","typescript:initialize-config",(()=>({description:"Create tsconfig.json in the project related to currently-active text edtior",async didDispatch(t,e){const n=atom.project.getDirectories();if(0===n.length)return e();const r=t.getPath();if(void 0===r)return;const i=(await er(r,"tsc")).pathToBin;for(const t of n)t.contains(r)&&(await zi(i,t.getPath()),atom.notifications.addSuccess("Successfully created tsconfig.json in "+t.getPath()))}}))),_i("atom-text-editor","typescript:organize-imports",(t=>({description:"Organize module imports",async didDispatch(e){const n=e.getPath();if(void 0===n)return;const r=await t.getClient(n),i=await r.execute("organizeImports",{scope:{type:"file",args:{file:n}}});i.body.length>0&&await t.applyEdits(i.body)}}))),_i("atom-text-editor","typescript:reload-projects",(t=>({description:"Reload projects",async didDispatch(e){const n=e.getPath();if(void 0===n)return;const r=await t.getClient(n);await r.execute("reloadProjects")}})));var Ui,Hi,qi={},Gi=!1;function Vi(){return Gi||(Gi=!0,Ui={},function(){var t="object"==typeof self&&self.self===self&&self||"object"==typeof T&&T.global===T&&T||this||{},e=t._,n=Array.prototype,r=Object.prototype,i="undefined"!=typeof Symbol?Symbol.prototype:null,o=n.push,s=n.slice,a=r.toString,c=r.hasOwnProperty,u=Array.isArray,l=Object.keys,f=Object.create,p=function(){},h=function(t){return t instanceof h?t:this instanceof h?void(this._wrapped=t):new h(t)};void 0===Ui||Ui.nodeType?t._=h:(!module.nodeType&&Ui&&(Ui=h),Hi=h,Ui._=Hi),h.VERSION="1.9.1";var d,m=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return function(){return t.apply(e,arguments)}},g=function(t,e,n){return h.iteratee!==d?h.iteratee(t,e):null==t?h.identity:h.isFunction(t)?m(t,e,n):h.isObject(t)&&!h.isArray(t)?h.matcher(t):h.property(t)};h.iteratee=d=function(t,e){return g(t,e,1/0)};var v=function(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var o=Array(e+1);for(i=0;i<e;i++)o[i]=arguments[i];return o[e]=r,t.apply(this,o)}},y=function(t){if(!h.isObject(t))return{};if(f)return f(t);p.prototype=t;var e=new p;return p.prototype=null,e},w=function(t){return function(e){return null==e?void 0:e[t]}},b=function(t,e){return null!=t&&c.call(t,e)},E=function(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0},_=Math.pow(2,53)-1,S=w("length"),x=function(t){var e=S(t);return"number"==typeof e&&e>=0&&e<=_};h.each=h.forEach=function(t,e,n){var r,i;if(e=m(e,n),x(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var o=h.keys(t);for(r=0,i=o.length;r<i;r++)e(t[o[r]],o[r],t)}return t},h.map=h.collect=function(t,e,n){e=g(e,n);for(var r=!x(t)&&h.keys(t),i=(r||t).length,o=Array(i),s=0;s<i;s++){var a=r?r[s]:s;o[s]=e(t[a],a,t)}return o};var k=function(t){var e=function(e,n,r,i){var o=!x(e)&&h.keys(e),s=(o||e).length,a=t>0?0:s-1;for(i||(r=e[o?o[a]:a],a+=t);a>=0&&a<s;a+=t){var c=o?o[a]:a;r=n(r,e[c],c,e)}return r};return function(t,n,r,i){var o=arguments.length>=3;return e(t,m(n,i,4),r,o)}};h.reduce=h.foldl=h.inject=k(1),h.reduceRight=h.foldr=k(-1),h.find=h.detect=function(t,e,n){var r=(x(t)?h.findIndex:h.findKey)(t,e,n);if(void 0!==r&&-1!==r)return t[r]},h.filter=h.select=function(t,e,n){var r=[];return e=g(e,n),h.each(t,(function(t,n,i){e(t,n,i)&&r.push(t)})),r},h.reject=function(t,e,n){return h.filter(t,h.negate(g(e)),n)},h.every=h.all=function(t,e,n){e=g(e,n);for(var r=!x(t)&&h.keys(t),i=(r||t).length,o=0;o<i;o++){var s=r?r[o]:o;if(!e(t[s],s,t))return!1}return!0},h.some=h.any=function(t,e,n){e=g(e,n);for(var r=!x(t)&&h.keys(t),i=(r||t).length,o=0;o<i;o++){var s=r?r[o]:o;if(e(t[s],s,t))return!0}return!1},h.contains=h.includes=h.include=function(t,e,n,r){return x(t)||(t=h.values(t)),("number"!=typeof n||r)&&(n=0),h.indexOf(t,e,n)>=0},h.invoke=v((function(t,e,n){var r,i;return h.isFunction(e)?i=e:h.isArray(e)&&(r=e.slice(0,-1),e=e[e.length-1]),h.map(t,(function(t){var o=i;if(!o){if(r&&r.length&&(t=E(t,r)),null==t)return;o=t[e]}return null==o?o:o.apply(t,n)}))})),h.pluck=function(t,e){return h.map(t,h.property(e))},h.where=function(t,e){return h.filter(t,h.matcher(e))},h.findWhere=function(t,e){return h.find(t,h.matcher(e))},h.max=function(t,e,n){var r,i,o=-1/0,s=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,c=(t=x(t)?t:h.values(t)).length;a<c;a++)null!=(r=t[a])&&r>o&&(o=r);else e=g(e,n),h.each(t,(function(t,n,r){((i=e(t,n,r))>s||i===-1/0&&o===-1/0)&&(o=t,s=i)}));return o},h.min=function(t,e,n){var r,i,o=1/0,s=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,c=(t=x(t)?t:h.values(t)).length;a<c;a++)null!=(r=t[a])&&r<o&&(o=r);else e=g(e,n),h.each(t,(function(t,n,r){((i=e(t,n,r))<s||i===1/0&&o===1/0)&&(o=t,s=i)}));return o},h.shuffle=function(t){return h.sample(t,1/0)},h.sample=function(t,e,n){if(null==e||n)return x(t)||(t=h.values(t)),t[h.random(t.length-1)];var r=x(t)?h.clone(t):h.values(t),i=S(r);e=Math.max(Math.min(e,i),0);for(var o=i-1,s=0;s<e;s++){var a=h.random(s,o),c=r[s];r[s]=r[a],r[a]=c}return r.slice(0,e)},h.sortBy=function(t,e,n){var r=0;return e=g(e,n),h.pluck(h.map(t,(function(t,n,i){return{value:t,index:r++,criteria:e(t,n,i)}})).sort((function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index})),"value")};var I=function(t,e){return function(n,r,i){var o=e?[[],[]]:{};return r=g(r,i),h.each(n,(function(e,i){var s=r(e,i,n);t(o,e,s)})),o}};h.groupBy=I((function(t,e,n){b(t,n)?t[n].push(e):t[n]=[e]})),h.indexBy=I((function(t,e,n){t[n]=e})),h.countBy=I((function(t,e,n){b(t,n)?t[n]++:t[n]=1}));var A=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;h.toArray=function(t){return t?h.isArray(t)?s.call(t):h.isString(t)?t.match(A):x(t)?h.map(t,h.identity):h.values(t):[]},h.size=function(t){return null==t?0:x(t)?t.length:h.keys(t).length},h.partition=I((function(t,e,n){t[n?0:1].push(e)}),!0),h.first=h.head=h.take=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[0]:h.initial(t,t.length-e)},h.initial=function(t,e,n){return s.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},h.last=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[t.length-1]:h.rest(t,Math.max(0,t.length-e))},h.rest=h.tail=h.drop=function(t,e,n){return s.call(t,null==e||n?1:e)},h.compact=function(t){return h.filter(t,Boolean)};var C=function(t,e,n,r){for(var i=(r=r||[]).length,o=0,s=S(t);o<s;o++){var a=t[o];if(x(a)&&(h.isArray(a)||h.isArguments(a)))if(e)for(var c=0,u=a.length;c<u;)r[i++]=a[c++];else C(a,e,n,r),i=r.length;else n||(r[i++]=a)}return r};h.flatten=function(t,e){return C(t,e,!1)},h.without=v((function(t,e){return h.difference(t,e)})),h.uniq=h.unique=function(t,e,n,r){h.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=g(n,r));for(var i=[],o=[],s=0,a=S(t);s<a;s++){var c=t[s],u=n?n(c,s,t):c;e&&!n?(s&&o===u||i.push(c),o=u):n?h.contains(o,u)||(o.push(u),i.push(c)):h.contains(i,c)||i.push(c)}return i},h.union=v((function(t){return h.uniq(C(t,!0,!0))})),h.intersection=function(t){for(var e=[],n=arguments.length,r=0,i=S(t);r<i;r++){var o=t[r];if(!h.contains(e,o)){var s;for(s=1;s<n&&h.contains(arguments[s],o);s++);s===n&&e.push(o)}}return e},h.difference=v((function(t,e){return e=C(e,!0,!0),h.filter(t,(function(t){return!h.contains(e,t)}))})),h.unzip=function(t){for(var e=t&&h.max(t,S).length||0,n=Array(e),r=0;r<e;r++)n[r]=h.pluck(t,r);return n},h.zip=v(h.unzip),h.object=function(t,e){for(var n={},r=0,i=S(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n};var O=function(t){return function(e,n,r){n=g(n,r);for(var i=S(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(n(e[o],o,e))return o;return-1}};h.findIndex=O(1),h.findLastIndex=O(-1),h.sortedIndex=function(t,e,n,r){for(var i=(n=g(n,r,1))(e),o=0,s=S(t);o<s;){var a=Math.floor((o+s)/2);n(t[a])<i?o=a+1:s=a}return o};var P=function(t,e,n){return function(r,i,o){var a=0,c=S(r);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+c,a):c=o>=0?Math.min(o+1,c):o+c+1;else if(n&&o&&c)return r[o=n(r,i)]===i?o:-1;if(i!=i)return(o=e(s.call(r,a,c),h.isNaN))>=0?o+a:-1;for(o=t>0?a:c-1;o>=0&&o<c;o+=t)if(r[o]===i)return o;return-1}};h.indexOf=P(1,h.findIndex,h.sortedIndex),h.lastIndexOf=P(-1,h.findLastIndex),h.range=function(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i},h.chunk=function(t,e){if(null==e||e<1)return[];for(var n=[],r=0,i=t.length;r<i;)n.push(s.call(t,r,r+=e));return n};var N=function(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var o=y(t.prototype),s=t.apply(o,i);return h.isObject(s)?s:o};h.bind=v((function(t,e,n){if(!h.isFunction(t))throw new TypeError("Bind must be called on a function");var r=v((function(i){return N(t,r,e,this,n.concat(i))}));return r})),h.partial=v((function(t,e){var n=h.partial.placeholder,r=function(){for(var i=0,o=e.length,s=Array(o),a=0;a<o;a++)s[a]=e[a]===n?arguments[i++]:e[a];for(;i<arguments.length;)s.push(arguments[i++]);return N(t,r,this,this,s)};return r})),h.partial.placeholder=h,h.bindAll=v((function(t,e){var n=(e=C(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=h.bind(t[r],t)}})),h.memoize=function(t,e){var n=function(r){var i=n.cache,o=""+(e?e.apply(this,arguments):r);return b(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return n.cache={},n},h.delay=v((function(t,e,n){return setTimeout((function(){return t.apply(null,n)}),e)})),h.defer=h.partial(h.delay,h,1),h.throttle=function(t,e,n){var r,i,o,s,a=0;n||(n={});var c=function(){a=!1===n.leading?0:h.now(),r=null,s=t.apply(i,o),r||(i=o=null)},u=function(){var u=h.now();a||!1!==n.leading||(a=u);var l=e-(u-a);return i=this,o=arguments,l<=0||l>e?(r&&(clearTimeout(r),r=null),a=u,s=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(c,l)),s};return u.cancel=function(){clearTimeout(r),a=0,r=i=o=null},u},h.debounce=function(t,e,n){var r,i,o=function(e,n){r=null,n&&(i=t.apply(e,n))},s=v((function(s){if(r&&clearTimeout(r),n){var a=!r;r=setTimeout(o,e),a&&(i=t.apply(this,s))}else r=h.delay(o,e,this,s);return i}));return s.cancel=function(){clearTimeout(r),r=null},s},h.wrap=function(t,e){return h.partial(e,t)},h.negate=function(t){return function(){return!t.apply(this,arguments)}},h.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},h.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},h.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},h.once=h.partial(h.before,2),h.restArguments=v;var L=!{toString:null}.propertyIsEnumerable("toString"),R=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],j=function(t,e){var n=R.length,i=t.constructor,o=h.isFunction(i)&&i.prototype||r,s="constructor";for(b(t,s)&&!h.contains(e,s)&&e.push(s);n--;)(s=R[n])in t&&t[s]!==o[s]&&!h.contains(e,s)&&e.push(s)};h.keys=function(t){if(!h.isObject(t))return[];if(l)return l(t);var e=[];for(var n in t)b(t,n)&&e.push(n);return L&&j(t,e),e},h.allKeys=function(t){if(!h.isObject(t))return[];var e=[];for(var n in t)e.push(n);return L&&j(t,e),e},h.values=function(t){for(var e=h.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r},h.mapObject=function(t,e,n){e=g(e,n);for(var r=h.keys(t),i=r.length,o={},s=0;s<i;s++){var a=r[s];o[a]=e(t[a],a,t)}return o},h.pairs=function(t){for(var e=h.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r},h.invert=function(t){for(var e={},n=h.keys(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e},h.functions=h.methods=function(t){var e=[];for(var n in t)h.isFunction(t[n])&&e.push(n);return e.sort()};var D=function(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],s=t(o),a=s.length,c=0;c<a;c++){var u=s[c];e&&void 0!==n[u]||(n[u]=o[u])}return n}};h.extend=D(h.allKeys),h.extendOwn=h.assign=D(h.keys),h.findKey=function(t,e,n){e=g(e,n);for(var r,i=h.keys(t),o=0,s=i.length;o<s;o++)if(e(t[r=i[o]],r,t))return r};var F,M,$=function(t,e,n){return e in n};h.pick=v((function(t,e){var n={},r=e[0];if(null==t)return n;h.isFunction(r)?(e.length>1&&(r=m(r,e[1])),e=h.allKeys(t)):(r=$,e=C(e,!1,!1),t=Object(t));for(var i=0,o=e.length;i<o;i++){var s=e[i],a=t[s];r(a,s,t)&&(n[s]=a)}return n})),h.omit=v((function(t,e){var n,r=e[0];return h.isFunction(r)?(r=h.negate(r),e.length>1&&(n=e[1])):(e=h.map(C(e,!1,!1),String),r=function(t,n){return!h.contains(e,n)}),h.pick(t,r,n)})),h.defaults=D(h.allKeys,!0),h.create=function(t,e){var n=y(t);return e&&h.extendOwn(n,e),n},h.clone=function(t){return h.isObject(t)?h.isArray(t)?t.slice():h.extend({},t):t},h.tap=function(t,e){return e(t),t},h.isMatch=function(t,e){var n=h.keys(e),r=n.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var s=n[o];if(e[s]!==i[s]||!(s in i))return!1}return!0},F=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var i=typeof t;return("function"===i||"object"===i||"object"==typeof e)&&M(t,e,n,r)},M=function(t,e,n,r){t instanceof h&&(t=t._wrapped),e instanceof h&&(e=e._wrapped);var o=a.call(t);if(o!==a.call(e))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return i.valueOf.call(t)===i.valueOf.call(e)}var s="[object Array]"===o;if(!s){if("object"!=typeof t||"object"!=typeof e)return!1;var c=t.constructor,u=e.constructor;if(c!==u&&!(h.isFunction(c)&&c instanceof c&&h.isFunction(u)&&u instanceof u)&&"constructor"in t&&"constructor"in e)return!1}r=r||[];for(var l=(n=n||[]).length;l--;)if(n[l]===t)return r[l]===e;if(n.push(t),r.push(e),s){if((l=t.length)!==e.length)return!1;for(;l--;)if(!F(t[l],e[l],n,r))return!1}else{var f,p=h.keys(t);if(l=p.length,h.keys(e).length!==l)return!1;for(;l--;)if(f=p[l],!b(e,f)||!F(t[f],e[f],n,r))return!1}return n.pop(),r.pop(),!0},h.isEqual=function(t,e){return F(t,e)},h.isEmpty=function(t){return null==t||(x(t)&&(h.isArray(t)||h.isString(t)||h.isArguments(t))?0===t.length:0===h.keys(t).length)},h.isElement=function(t){return!(!t||1!==t.nodeType)},h.isArray=u||function(t){return"[object Array]"===a.call(t)},h.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},h.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],(function(t){h["is"+t]=function(e){return a.call(e)==="[object "+t+"]"}})),h.isArguments(arguments)||(h.isArguments=function(t){return b(t,"callee")});var B=t.document&&t.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof B&&(h.isFunction=function(t){return"function"==typeof t||!1}),h.isFinite=function(t){return!h.isSymbol(t)&&isFinite(t)&&!isNaN(parseFloat(t))},h.isNaN=function(t){return h.isNumber(t)&&isNaN(t)},h.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===a.call(t)},h.isNull=function(t){return null===t},h.isUndefined=function(t){return void 0===t},h.has=function(t,e){if(!h.isArray(e))return b(t,e);for(var n=e.length,r=0;r<n;r++){var i=e[r];if(null==t||!c.call(t,i))return!1;t=t[i]}return!!n},h.noConflict=function(){return t._=e,this},h.identity=function(t){return t},h.constant=function(t){return function(){return t}},h.noop=function(){},h.property=function(t){return h.isArray(t)?function(e){return E(e,t)}:w(t)},h.propertyOf=function(t){return null==t?function(){}:function(e){return h.isArray(e)?E(t,e):t[e]}},h.matcher=h.matches=function(t){return t=h.extendOwn({},t),function(e){return h.isMatch(e,t)}},h.times=function(t,e,n){var r=Array(Math.max(0,t));e=m(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r},h.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},h.now=Date.now||function(){return(new Date).getTime()};var z={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},U=h.invert(z),H=function(t){var e=function(e){return t[e]},n="(?:"+h.keys(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}};h.escape=H(z),h.unescape=H(U),h.result=function(t,e,n){h.isArray(e)||(e=[e]);var r=e.length;if(!r)return h.isFunction(n)?n.call(t):n;for(var i=0;i<r;i++){var o=null==t?void 0:t[e[i]];void 0===o&&(o=n,i=r),t=h.isFunction(o)?o.call(t):o}return t};var q=0;h.uniqueId=function(t){var e=++q+"";return t?t+e:e},h.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var G=/(.)^/,V={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},W=/\\|'|\r|\n|\u2028|\u2029/g,X=function(t){return"\\"+V[t]};h.template=function(t,e,n){!e&&n&&(e=n),e=h.defaults({},e,h.templateSettings);var r,i=RegExp([(e.escape||G).source,(e.interpolate||G).source,(e.evaluate||G).source].join("|")+"|$","g"),o=0,s="__p+='";t.replace(i,(function(e,n,r,i,a){return s+=t.slice(o,a).replace(W,X),o=a+e.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?s+="'+\n((__t=("+r+"))==null?'':__t)+\n'":i&&(s+="';\n"+i+"\n__p+='"),e})),s+="';\n",e.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{r=new Function(e.variable||"obj","_",s)}catch(t){throw t.source=s,t}var a=function(t){return r.call(this,t,h)},c=e.variable||"obj";return a.source="function("+c+"){\n"+s+"}",a},h.chain=function(t){var e=h(t);return e._chain=!0,e};var K=function(t,e){return t._chain?h(e).chain():e};h.mixin=function(t){return h.each(h.functions(t),(function(e){var n=h[e]=t[e];h.prototype[e]=function(){var t=[this._wrapped];return o.apply(t,arguments),K(this,n.apply(h,t))}})),h},h.mixin(h),h.each(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=n[t];h.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],K(this,n)}})),h.each(["concat","join","slice"],(function(t){var e=n[t];h.prototype[t]=function(){return K(this,e.apply(this._wrapped,arguments))}})),h.prototype.value=function(){return this._wrapped},h.prototype.valueOf=h.prototype.toJSON=h.prototype.value,h.prototype.toString=function(){return String(this._wrapped)},"function"==typeof define&&define.amd&&define("underscore",[],(function(){return h}))}()),Ui}var Wi,Xi=!1;function Ki(){return Xi||(Xi=!0,function(){var t,e,n,r,i,o,s,a,c=[].slice;a=Vi(),n={cmd:"⌘",ctrl:"⌃",alt:"⌥",option:"⌥",shift:"⇧",enter:"⏎",left:"←",right:"→",up:"↑",down:"↓"},r={cmd:"Cmd",ctrl:"Ctrl",alt:"Alt",option:"Alt",shift:"Shift",enter:"Enter",left:"Left",right:"Right",up:"Up",down:"Down"},o={"~":"`",_:"-","+":"=","|":"\\","{":"[","}":"]",":":";",'"':"'","<":",",">":".","?":"/"},s=function(t){var e,n,r,i,o;if(r=0,n=[],null==t)return n;for(e=i=0,o=t.length;i<o;e=++i)"."!==t[e]||0!==e&&"\\"===t[e-1]||(n.push(t.substring(r,e)),r=e+1);return n.push(t.substr(r,t.length)),n},e=function(t){return a.isObject(t)&&!a.isArray(t)},i={adviseBefore:function(t,e,n){var r;return r=t[e],t[e]=function(){var t;if(t=1<=arguments.length?c.call(arguments,0):[],!1!==n.apply(this,t))return r.apply(this,t)}},camelize:function(t){return t?t.replace(/[_-]+(\w)/g,(function(t){return t[1].toUpperCase()})):""},capitalize:function(t){return t?"github"===t.toLowerCase()?"GitHub":t[0].toUpperCase()+t.slice(1):""},compactObject:function(t){var e,n,r;for(e in n={},t)null!=(r=t[e])&&(n[e]=r);return n},dasherize:function(t){return t?(t=t[0].toLowerCase()+t.slice(1)).replace(/([A-Z])|(_)/g,(function(t,e){return e?"-"+e.toLowerCase():"-"})):""},deepClone:function(t){return a.isArray(t)?t.map((function(t){return i.deepClone(t)})):a.isObject(t)&&!a.isFunction(t)?i.mapObject(t,(function(t,e){return[t,i.deepClone(e)]})):t},deepExtend:function(t){var n,r,o,s,a,c,u;for(s=t,n=0;++n<arguments.length;)if(o=arguments[n],e(s)&&e(o))for(a=0,c=(u=Object.keys(o)).length;a<c;a++)s[r=u[a]]=i.deepExtend(s[r],o[r]);else s=i.deepClone(o);return s},deepContains:function(t,e){var n,r,i;if(null==t)return!1;for(r=0,i=t.length;r<i;r++)if(n=t[r],a.isEqual(n,e))return!0;return!1},endsWith:function(t,e){return null==e&&(e=""),!!t&&-1!==t.indexOf(e,t.length-e.length)},escapeAttribute:function(t){return t?t.replace(/"/g,"&quot;").replace(/\n/g,"").replace(/\\/g,"-"):""},escapeRegExp:function(t){return t?t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"):""},humanizeEventName:function(t,e){var n,r,o,s;return r=(s=t.split(":"))[0],null==(n=s[1])?i.undasherize(r):(o=i.undasherize(r),null==e&&(e=i.undasherize(n)),o+": "+e)},humanizeKey:function(t,e){var s;return null==e&&(e=process.platform),t?(s="darwin"===e?n:r)[t]?s[t]:1===t.length&&null!=o[t]?[s.shift,o[t]]:1===t.length&&t===t.toUpperCase()&&t.toUpperCase()!==t.toLowerCase()?[s.shift,t.toUpperCase()]:1===t.length||/f[0-9]{1,2}/.test(t)?t.toUpperCase():"darwin"===e?t:i.capitalize(t):t},humanizeKeystroke:function(t,e){var n,r,o,s,c,u,l,f,p,h;if(null==e&&(e=process.platform),!t)return t;for(n=[],l=0,p=(c=t.split(" ")).length;l<p;l++){for(s=[],r=f=0,h=(u=(t=c[l]).split("-")).length;f<h;r=++f)""===(o=u[r])&&""===u[r-1]&&(o="-"),o&&s.push(i.humanizeKey(o,e));s=a.uniq(a.flatten(s)),s="darwin"===e?s.join(""):s.join("+"),n.push(s)}return n.join(" ")},isSubset:function(t,e){return a.every(t,(function(t){return a.include(e,t)}))},losslessInvert:function(t){var e,n,r;for(n in e={},t)null==e[r=t[n]]&&(e[r]=[]),e[r].push(n);return e},mapObject:function(t,e){var n,r,i,o,s,a,c;for(r={},o=0,s=(a=Object.keys(t)).length;o<s;o++)n=(c=e(n=a[o],t[n]))[0],i=c[1],r[n]=i;return r},multiplyString:function(t,e){var n,r;for(n="",r=0;r<e;)n+=t,r++;return n},pluralize:function(t,e,n){return null==t&&(t=0),null==n&&(n=e+"s"),1===t?t+" "+e:t+" "+n},remove:function(t,e){var n;return(n=t.indexOf(e))>=0&&t.splice(n,1),t},setValueForKeyPath:function(t,e,n){var r,i;for(i=s(e);i.length>1;)null==t[r=i.shift()]&&(t[r]={}),t=t[r];return null!=n?t[i.shift()]=n:delete t[i.shift()]},hasKeyPath:function(t,e){var n,r,i,o;for(i=0,o=(r=s(e)).length;i<o;i++){if(n=r[i],!t.hasOwnProperty(n))return!1;t=t[n]}return!0},spliceWithArray:function(t,e,n,r,i){var o,s,a,u;if(null==i&&(i=1e5),r.length<i)return t.splice.apply(t,[e,n].concat(c.call(r)));for(t.splice(e,n),u=[],o=s=0,a=r.length;i>0?s<=a:s>=a;o=s+=i)u.push(t.splice.apply(t,[e+o,0].concat(c.call(r.slice(o,o+i)))));return u},sum:function(t){var e,n,r;for(e=0,n=0,r=t.length;n<r;n++)e+=t[n];return e},uncamelcase:function(t){var e;return t?(e=t.replace(/([A-Z])|_+/g,(function(t,e){return null==e&&(e="")," "+e})),i.capitalize(e.trim())):""},undasherize:function(t){return t?t.split("-").map(i.capitalize).join(" "):""},underscore:function(t){return t?(t=t[0].toLowerCase()+t.slice(1)).replace(/([A-Z])|-+/g,(function(t,e){return null==e&&(e=""),"_"+e.toLowerCase()})):""},valueForKeyPath:function(t,e){var n,r,i;for(r=0,i=(n=s(e)).length;r<i;r++)if(null==(t=t[n[r]]))return;return t},isEqual:function(e,n,r,i){return a.isArray(r)&&a.isArray(i)?t(e,n,r,i):t(e,n)},isEqualForProperties:function(){var t,e,n,r,i,o;for(t=arguments[0],e=arguments[1],i=0,o=(n=3<=arguments.length?c.call(arguments,2):[]).length;i<o;i++)if(r=n[i],!a.isEqual(t[r],e[r]))return!1;return!0}},t=function(e,n,r,i){var o,s,c,u,l,f,p,h,d,m,g,v,y,w;if(null==r&&(r=[]),null==i&&(i=[]),e===n)return a.isEqual(e,n);if(a.isFunction(e)||a.isFunction(n))return a.isEqual(e,n);for(v=r.length;v--;)if(r[v]===e)return i[v]===n;if(r.push(e),i.push(n),d=!1,a.isFunction(null!=e?e.isEqual:void 0))d=e.isEqual(n,r,i);else if(a.isFunction(null!=n?n.isEqual:void 0))d=n.isEqual(e,i,r);else if(a.isArray(e)&&a.isArray(n)&&e.length===n.length){for(d=!0,m=y=0,w=e.length;y<w;m=++y)if(c=e[m],!t(c,n[m],r,i)){d=!1;break}}else if(a.isRegExp(e)&&a.isRegExp(n))d=a.isEqual(e,n);else if(a.isElement(e)&&a.isElement(n))d=e===n;else if(a.isObject(e)&&a.isObject(n))if(o=e.constructor,f=n.constructor,s=a.isFunction(o)&&o instanceof o,p=a.isFunction(f)&&f instanceof f,o===f||s&&p){for(g in u=0,d=!0,e)if(l=e[g],a.has(e,g)&&(u++,!a.has(n,g)||!t(l,n[g],r,i))){d=!1;break}if(d){for(g in h=0,n)n[g],a.has(n,g)&&h++;d=u===h}}else d=!1;else d=a.isEqual(e,n);return r.pop(),i.pop(),d},Wi=a.extend({},a,i)}.call(Wi={})),Wi}var Qi,Zi=!1;function Yi(){Qi={},function(){var t,e={};function n(){}function r(t){return t}function i(t){return!!t}function o(t){return!t}var s="object"==typeof self&&self.self===self&&self||"object"==typeof T&&T.global===T&&T||this;function a(t){return function(){if(null===t)throw new Error("Callback was already called.");t.apply(this,arguments),t=null}}function c(t){return function(){null!==t&&(t.apply(this,arguments),t=null)}}null!=s&&(t=s.async),e.noConflict=function(){return s.async=t,e};var u=Object.prototype.toString,l=Array.isArray||function(t){return"[object Array]"===u.call(t)};function f(t){return l(t)||"number"==typeof t.length&&t.length>=0&&t.length%1==0}function p(t,e){for(var n=-1,r=t.length;++n<r;)e(t[n],n,t)}function h(t,e){for(var n=-1,r=t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function d(t){return h(Array(t),(function(t,e){return e}))}function m(t,e,n){return p(t,(function(t,r,i){n=e(n,t,r,i)})),n}function g(t,e){p(y(t),(function(n){e(t[n],n)}))}function v(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var y=Object.keys||function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e};function w(t){var e,n,r=-1;return f(t)?(e=t.length,function(){return++r<e?r:null}):(n=y(t),e=n.length,function(){return++r<e?n[r]:null})}function b(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r)}}}function E(t){return function(e,n,r){return t(e,r)}}var _="function"==typeof setImmediate&&setImmediate,S=_?function(t){_(t)}:function(t){setTimeout(t,0)};function x(t){return function(e,r,i){i=c(i||n);var o=w(e=e||[]);if(t<=0)return i(null);var s=!1,u=0,l=!1;!function n(){if(s&&u<=0)return i(null);for(;u<t&&!l;){var c=o();if(null===c)return s=!0,void(u<=0&&i(null));u+=1,r(e[c],c,a((function(t){u-=1,t?(i(t),l=!0):n()})))}}()}}function k(t){return function(n,r,i){return t(e.eachOf,n,r,i)}}function I(t){return function(e,n,r,i){return t(x(n),e,r,i)}}function A(t){return function(n,r,i){return t(e.eachOfSeries,n,r,i)}}function C(t,e,r,i){i=c(i||n);var o=f(e=e||[])?[]:{};t(e,(function(t,e,n){r(t,(function(t,r){o[e]=r,n(t)}))}),(function(t){i(t,o)}))}function O(t,e,n,r){var i=[];t(e,(function(t,e,r){n(t,(function(n){n&&i.push({index:e,value:t}),r()}))}),(function(){r(h(i.sort((function(t,e){return t.index-e.index})),(function(t){return t.value})))}))}function P(t,e,n,r){O(t,e,(function(t,e){n(t,(function(t){e(!t)}))}),r)}function N(t,e,n){return function(r,i,o,s){function a(){s&&s(n(!1,void 0))}function c(t,r,i){if(!s)return i();o(t,(function(r){s&&e(r)&&(s(n(!0,t)),s=o=!1),i()}))}arguments.length>3?t(r,i,c,a):(s=o,o=i,t(r,c,a))}}function L(t,e){return e}function R(t,e,r){r=r||n;var i=f(e)?[]:{};t(e,(function(t,e,n){t(b((function(t,r){r.length<=1&&(r=r[0]),i[e]=r,n(t)})))}),(function(t){r(t,i)}))}function j(t,e,n,r){var i=[];t(e,(function(t,e,r){n(t,(function(t,e){i=i.concat(e||[]),r(t)}))}),(function(t){r(t,i)}))}function D(t,r,i){if(null==r)r=1;else if(0===r)throw new Error("Concurrency must not be zero");function o(t,r,i,o){if(null!=o&&"function"!=typeof o)throw new Error("task callback must be a function");if(t.started=!0,l(r)||(r=[r]),0===r.length&&t.idle())return e.setImmediate((function(){t.drain()}));p(r,(function(e){var r={data:e,callback:o||n};i?t.tasks.unshift(r):t.tasks.push(r),t.tasks.length===t.concurrency&&t.saturated()})),e.setImmediate(t.process)}function s(t,e){return function(){c-=1;var n=!1,r=arguments;p(e,(function(t){p(u,(function(e,r){e!==t||n||(u.splice(r,1),n=!0)})),t.callback.apply(t,r)})),t.tasks.length+c===0&&t.drain(),t.process()}}var c=0,u=[],f={tasks:[],concurrency:r,payload:i,saturated:n,empty:n,drain:n,started:!1,paused:!1,push:function(t,e){o(f,t,!1,e)},kill:function(){f.drain=n,f.tasks=[]},unshift:function(t,e){o(f,t,!0,e)},process:function(){for(;!f.paused&&c<f.concurrency&&f.tasks.length;){var e=f.payload?f.tasks.splice(0,f.payload):f.tasks.splice(0,f.tasks.length),n=h(e,(function(t){return t.data}));0===f.tasks.length&&f.empty(),c+=1,u.push(e[0]);var r=a(s(f,e));t(n,r)}},length:function(){return f.tasks.length},running:function(){return c},workersList:function(){return u},idle:function(){return f.tasks.length+c===0},pause:function(){f.paused=!0},resume:function(){if(!1!==f.paused){f.paused=!1;for(var t=Math.min(f.concurrency,f.tasks.length),n=1;n<=t;n++)e.setImmediate(f.process)}}};return f}function F(t){return b((function(e,n){e.apply(null,n.concat([b((function(e,n){"object"==typeof console&&(e?console.error&&console.error(e):console[t]&&p(n,(function(e){console[t](e)})))}))]))}))}function M(t){return function(e,n,r){t(d(e),n,r)}}function $(t){return b((function(e,n){var r=b((function(n){var r=this,i=n.pop();return t(e,(function(t,e,i){t.apply(r,n.concat([i]))}),i)}));return n.length?r.apply(this,n):r}))}function B(t){return b((function(n){var r=n.pop();n.push((function(){var t=arguments;i?e.setImmediate((function(){r.apply(null,t)})):r.apply(null,t)}));var i=!0;t.apply(this,n),i=!1}))}"object"==typeof process&&"function"==typeof process.nextTick?e.nextTick=process.nextTick:e.nextTick=S,e.setImmediate=_?S:e.nextTick,e.forEach=e.each=function(t,n,r){return e.eachOf(t,E(n),r)},e.forEachSeries=e.eachSeries=function(t,n,r){return e.eachOfSeries(t,E(n),r)},e.forEachLimit=e.eachLimit=function(t,e,n,r){return x(e)(t,E(n),r)},e.forEachOf=e.eachOf=function(t,e,r){r=c(r||n);for(var i,o=w(t=t||[]),s=0;null!=(i=o());)s+=1,e(t[i],i,a(u));function u(t){s--,t?r(t):null===i&&s<=0&&r(null)}0===s&&r(null)},e.forEachOfSeries=e.eachOfSeries=function(t,r,i){i=c(i||n);var o=w(t=t||[]),s=o();!function n(){var c=!0;if(null===s)return i(null);r(t[s],s,a((function(t){if(t)i(t);else{if(null===(s=o()))return i(null);c?e.setImmediate(n):n()}}))),c=!1}()},e.forEachOfLimit=e.eachOfLimit=function(t,e,n,r){x(e)(t,n,r)},e.map=k(C),e.mapSeries=A(C),e.mapLimit=I(C),e.inject=e.foldl=e.reduce=function(t,n,r,i){e.eachOfSeries(t,(function(t,e,i){r(n,t,(function(t,e){n=e,i(t)}))}),(function(t){i(t,n)}))},e.foldr=e.reduceRight=function(t,n,i,o){var s=h(t,r).reverse();e.reduce(s,n,i,o)},e.transform=function(t,n,r,i){3===arguments.length&&(i=r,r=n,n=l(t)?[]:{}),e.eachOf(t,(function(t,e,i){r(n,t,e,i)}),(function(t){i(t,n)}))},e.select=e.filter=k(O),e.selectLimit=e.filterLimit=I(O),e.selectSeries=e.filterSeries=A(O),e.reject=k(P),e.rejectLimit=I(P),e.rejectSeries=A(P),e.any=e.some=N(e.eachOf,i,r),e.someLimit=N(e.eachOfLimit,i,r),e.all=e.every=N(e.eachOf,o,o),e.everyLimit=N(e.eachOfLimit,o,o),e.detect=N(e.eachOf,r,L),e.detectSeries=N(e.eachOfSeries,r,L),e.detectLimit=N(e.eachOfLimit,r,L),e.sortBy=function(t,n,r){function i(t,e){var n=t.criteria,r=e.criteria;return n<r?-1:n>r?1:0}e.map(t,(function(t,e){n(t,(function(n,r){n?e(n):e(null,{value:t,criteria:r})}))}),(function(t,e){if(t)return r(t);r(null,h(e.sort(i),(function(t){return t.value})))}))},e.auto=function(t,r,i){"function"==typeof arguments[1]&&(i=r,r=null),i=c(i||n);var o=y(t),s=o.length;if(!s)return i(null);r||(r=s);var a={},u=0,f=!1,h=[];function d(t){h.unshift(t)}function w(t){var e=v(h,t);e>=0&&h.splice(e,1)}function E(){s--,p(h.slice(0),(function(t){t()}))}d((function(){s||i(null,a)})),p(o,(function(n){if(!f){for(var o,s=l(t[n])?t[n]:[t[n]],c=b((function(t,r){if(u--,r.length<=1&&(r=r[0]),t){var o={};g(a,(function(t,e){o[e]=t})),o[n]=r,f=!0,i(t,o)}else a[n]=r,e.setImmediate(E)})),p=s.slice(0,s.length-1),h=p.length;h--;){if(!(o=t[p[h]]))throw new Error("Has nonexistent dependency in "+p.join(", "));if(l(o)&&v(o,n)>=0)throw new Error("Has cyclic dependencies")}y()?(u++,s[s.length-1](c,a)):d((function t(){y()&&(u++,w(t),s[s.length-1](c,a))}))}function y(){return u<r&&m(p,(function(t,e){return t&&a.hasOwnProperty(e)}),!0)&&!a.hasOwnProperty(n)}}))},e.retry=function(t,n,r){var i=5,o=0,s=[],a={times:i,interval:o};function c(t,e){if("number"==typeof e)t.times=parseInt(e,10)||i;else{if("object"!=typeof e)throw new Error("Unsupported argument type for 'times': "+typeof e);t.times=parseInt(e.times,10)||i,t.interval=parseInt(e.interval,10)||o}}var u=arguments.length;if(u<1||u>3)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");function l(t,n){function r(t,e){return function(r){t((function(t,n){r(!t||e,{err:t,result:n})}),n)}}function i(t){return function(e){setTimeout((function(){e(null)}),t)}}for(;a.times;){var o=!(a.times-=1);s.push(r(a.task,o)),!o&&a.interval>0&&s.push(i(a.interval))}e.series(s,(function(e,n){n=n[n.length-1],(t||a.callback)(n.err,n.result)}))}return u<=2&&"function"==typeof t&&(r=n,n=t),"function"!=typeof t&&c(a,t),a.callback=r,a.task=n,a.callback?l():l},e.waterfall=function(t,r){if(r=c(r||n),!l(t)){var i=new Error("First argument to waterfall must be an array of functions");return r(i)}if(!t.length)return r();!function t(e){return b((function(n,i){if(n)r.apply(null,[n].concat(i));else{var o=e.next();o?i.push(t(o)):i.push(r),B(e).apply(null,i)}}))}(e.iterator(t))()},e.parallel=function(t,n){R(e.eachOf,t,n)},e.parallelLimit=function(t,e,n){R(x(e),t,n)},e.series=function(t,n){R(e.eachOfSeries,t,n)},e.iterator=function(t){return function e(n){function r(){return t.length&&t[n].apply(null,arguments),r.next()}return r.next=function(){return n<t.length-1?e(n+1):null},r}(0)},e.apply=b((function(t,e){return b((function(n){return t.apply(null,e.concat(n))}))})),e.concat=k(j),e.concatSeries=A(j),e.whilst=function(t,e,r){if(r=r||n,t()){var i=b((function(n,o){n?r(n):t.apply(this,o)?e(i):r.apply(null,[null].concat(o))}));e(i)}else r(null)},e.doWhilst=function(t,n,r){var i=0;return e.whilst((function(){return++i<=1||n.apply(this,arguments)}),t,r)},e.until=function(t,n,r){return e.whilst((function(){return!t.apply(this,arguments)}),n,r)},e.doUntil=function(t,n,r){return e.doWhilst(t,(function(){return!n.apply(this,arguments)}),r)},e.during=function(t,e,r){r=r||n;var i=b((function(e,n){e?r(e):(n.push(o),t.apply(this,n))})),o=function(t,n){t?r(t):n?e(i):r(null)};t(o)},e.doDuring=function(t,n,r){var i=0;e.during((function(t){i++<1?t(null,!0):n.apply(this,arguments)}),t,r)},e.queue=function(t,e){return D((function(e,n){t(e[0],n)}),e,1)},e.priorityQueue=function(t,r){function i(t,e){return t.priority-e.priority}var o=e.queue(t,r);return o.push=function(t,r,s){!function(t,r,o,s){if(null!=s&&"function"!=typeof s)throw new Error("task callback must be a function");if(t.started=!0,l(r)||(r=[r]),0===r.length)return e.setImmediate((function(){t.drain()}));p(r,(function(r){var a={data:r,priority:o,callback:"function"==typeof s?s:n};t.tasks.splice(function(t,e,n){for(var r=-1,i=t.length-1;r<i;){var o=r+(i-r+1>>>1);n(e,t[o])>=0?r=o:i=o-1}return r}(t.tasks,a,i)+1,0,a),t.tasks.length===t.concurrency&&t.saturated(),e.setImmediate(t.process)}))}(o,t,r,s)},delete o.unshift,o},e.cargo=function(t,e){return D(t,1,e)},e.log=F("log"),e.dir=F("dir"),e.memoize=function(t,n){var i={},o={},s=Object.prototype.hasOwnProperty;n=n||r;var a=b((function(r){var a=r.pop(),c=n.apply(null,r);s.call(i,c)?e.setImmediate((function(){a.apply(null,i[c])})):s.call(o,c)?o[c].push(a):(o[c]=[a],t.apply(null,r.concat([b((function(t){i[c]=t;var e=o[c];delete o[c];for(var n=0,r=e.length;n<r;n++)e[n].apply(null,t)}))])))}));return a.memo=i,a.unmemoized=t,a},e.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},e.times=M(e.map),e.timesSeries=M(e.mapSeries),e.timesLimit=function(t,n,r,i){return e.mapLimit(d(t),n,r,i)},e.seq=function(){var t=arguments;return b((function(r){var i=this,o=r[r.length-1];"function"==typeof o?r.pop():o=n,e.reduce(t,r,(function(t,e,n){e.apply(i,t.concat([b((function(t,e){n(t,e)}))]))}),(function(t,e){o.apply(i,[t].concat(e))}))}))},e.compose=function(){return e.seq.apply(null,Array.prototype.reverse.call(arguments))},e.applyEach=$(e.eachOf),e.applyEachSeries=$(e.eachOfSeries),e.forever=function(t,e){var r=a(e||n),i=B(t);!function t(e){if(e)return r(e);i(t)}()},e.ensureAsync=B,e.constant=b((function(t){var e=[null].concat(t);return function(t){return t.apply(this,e)}})),e.wrapSync=e.asyncify=function(t){return b((function(e){var n,r,i,o=e.pop();try{n=t.apply(this,e)}catch(t){return o(t)}("function"===(i=typeof(r=n))||"object"===i&&r)&&"function"==typeof n.then?n.then((function(t){o(null,t)})).catch((function(t){o(t.message?t:new Error(t))})):o(null,n)}))},Qi?Qi=e:"function"==typeof define&&define.amd?define([],(function(){return e})):s.async=e}()}var Ji,to,eo,no,ro=!1;function io(t,e,n,r){"function"==typeof e?(n=e,e={}):e&&"object"==typeof e||(e={mode:e});var i=e.mode,o=e.fs||eo;void 0===i&&(i=no&~process.umask()),r||(r=null);var s=n||function(){};t=to.resolve(t),o.mkdir(t,i,(function(n){if(!n)return s(null,r=r||t);switch(n.code){case"ENOENT":io(to.dirname(t),e,(function(n,r){n?s(n,r):io(t,e,s,r)}));break;default:o.stat(t,(function(t,e){t||!e.isDirectory()?s(n,r):s(null,r)}))}}))}function oo(){return ro||(ro=!0,Ji={},to=v,eo=E,no=parseInt("0777",8),Ji=io.mkdirp=io.mkdirP=io,io.sync=function t(e,n,r){n&&"object"==typeof n||(n={mode:n});var i=n.mode,o=n.fs||eo;void 0===i&&(i=no&~process.umask()),r||(r=null),e=to.resolve(e);try{o.mkdirSync(e,i),r=r||e}catch(i){switch(i.code){case"ENOENT":r=t(to.dirname(e),n,r),t(e,n,r);break;default:var s;try{s=o.statSync(e)}catch(t){throw i}if(!s.isDirectory())throw i}}return r}),Ji}var so,ao,co,uo,lo,fo,po,ho,mo,go=!1;function vo(t){return"function"==typeof t?t:function(){var t;if(lo){var e=new Error;t=function(t){t&&(e.message=t.message,n(t=e))}}else t=n;return t;function n(t){if(t){if(process.throwDeprecation)throw t;if(!process.noDeprecation){var e="fs: missing callback "+(t.stack||t.message);process.traceDeprecation?console.trace(e):console.error(e)}}}}()}function yo(){return go||(go=!0,so={},ao=v,co="win32"===process.platform,uo=E,lo=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG),ao.normalize,fo=co?/(.*?)(?:[\/\\]+|$)/g:/(.*?)(?:[\/]+|$)/g,po=co?/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:/^[\/]*/,ho=function(t,e){if(t=ao.resolve(t),e&&Object.prototype.hasOwnProperty.call(e,t))return e[t];var n,r,i,o,s=t,a={},c={};function u(){var e=po.exec(t);n=e[0].length,r=e[0],i=e[0],o="",co&&!c[i]&&(uo.lstatSync(i),c[i]=!0)}for(u();n<t.length;){fo.lastIndex=n;var l=fo.exec(t);if(o=r,r+=l[0],i=o+l[1],n=fo.lastIndex,!(c[i]||e&&e[i]===i)){var f;if(e&&Object.prototype.hasOwnProperty.call(e,i))f=e[i];else{var p=uo.lstatSync(i);if(!p.isSymbolicLink()){c[i]=!0,e&&(e[i]=i);continue}var h=null;if(!co){var d=p.dev.toString(32)+":"+p.ino.toString(32);a.hasOwnProperty(d)&&(h=a[d])}null===h&&(uo.statSync(i),h=uo.readlinkSync(i)),f=ao.resolve(o,h),e&&(e[i]=f),co||(a[d]=h)}t=ao.resolve(f,t.slice(n)),u()}}return e&&(e[s]=t),t},so.realpathSync=ho,mo=function(t,e,n){if("function"!=typeof n&&(n=vo(e),e=null),t=ao.resolve(t),e&&Object.prototype.hasOwnProperty.call(e,t))return process.nextTick(n.bind(null,null,e[t]));var r,i,o,s,a=t,c={},u={};function l(){var e=po.exec(t);r=e[0].length,i=e[0],o=e[0],s="",co&&!u[o]?uo.lstat(o,(function(t){if(t)return n(t);u[o]=!0,f()})):process.nextTick(f)}function f(){if(r>=t.length)return e&&(e[a]=t),n(null,t);fo.lastIndex=r;var c=fo.exec(t);return s=i,i+=c[0],o=s+c[1],r=fo.lastIndex,u[o]||e&&e[o]===o?process.nextTick(f):e&&Object.prototype.hasOwnProperty.call(e,o)?d(e[o]):uo.lstat(o,p)}function p(t,r){if(t)return n(t);if(!r.isSymbolicLink())return u[o]=!0,e&&(e[o]=o),process.nextTick(f);if(!co){var i=r.dev.toString(32)+":"+r.ino.toString(32);if(c.hasOwnProperty(i))return h(null,c[i],o)}uo.stat(o,(function(t){if(t)return n(t);uo.readlink(o,(function(t,e){co||(c[i]=e),h(t,e)}))}))}function h(t,r,i){if(t)return n(t);var o=ao.resolve(s,r);e&&(e[i]=o),d(o)}function d(e){t=ao.resolve(e,t.slice(r)),l()}l()},so.realpath=mo),so}var wo,bo,Eo,_o,So,xo,ko,To=!1;function Io(t){return t&&"realpath"===t.syscall&&("ELOOP"===t.code||"ENOMEM"===t.code||"ENAMETOOLONG"===t.code)}function Ao(t,e,n){if(xo)return Eo(t,e,n);"function"==typeof e&&(n=e,e=null),Eo(t,e,(function(r,i){Io(r)?ko.realpath(t,e,n):n(r,i)}))}function Co(t,e){if(xo)return _o(t,e);try{return _o(t,e)}catch(n){if(Io(n))return ko.realpathSync(t,e);throw n}}function Oo(){bo.realpath=Ao,bo.realpathSync=Co}function Po(){bo.realpath=Eo,bo.realpathSync=_o}function No(){return To||(To=!0,wo={},wo=Ao,Ao.realpath=Ao,Ao.sync=Co,Ao.realpathSync=Co,Ao.monkeypatch=Oo,Ao.unmonkeypatch=Po,Eo=(bo=E).realpath,_o=bo.realpathSync,So=process.version,xo=/^v[0-5]\./.test(So),ko=yo()),wo}var Lo,Ro,jo=!1;function Do(){return jo||(jo=!0,Lo={},Lo=function(t,e){for(var n=[],r=0;r<t.length;r++){var i=e(t[r],r);Ro(i)?n.push.apply(n,i):n.push(i)}return n},Ro=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Lo}var Fo,Mo=!1;function $o(t,e,n){t instanceof RegExp&&(t=Bo(t,n)),e instanceof RegExp&&(e=Bo(e,n));var r=zo(t,e,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+t.length,r[1]),post:n.slice(r[1]+e.length)}}function Bo(t,e){var n=e.match(t);return n?n[0]:null}function zo(t,e,n){var r,i,o,s,a,c=n.indexOf(t),u=n.indexOf(e,c+1),l=c;if(c>=0&&u>0){for(r=[],o=n.length;l>=0&&!a;)l==c?(r.push(l),c=n.indexOf(t,l+1)):1==r.length?a=[r.pop(),u]:((i=r.pop())<o&&(o=i,s=u),u=n.indexOf(e,l+1)),l=c<u&&c>=0?c:u;r.length&&(a=[o,s])}return a}function Uo(){return Mo||(Mo=!0,Fo={},Fo=$o,$o.range=zo),Fo}var Ho,qo,Go,Vo,Wo,Xo,Ko,Qo,Zo=!1;function Yo(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function Jo(t){return t.split(Vo).join("\\").split(Wo).join("{").split(Xo).join("}").split(Ko).join(",").split(Qo).join(".")}function ts(t){if(!t)return[""];var e=[],n=Go("{","}",t);if(!n)return t.split(",");var r=n.pre,i=n.body,o=n.post,s=r.split(",");s[s.length-1]+="{"+i+"}";var a=ts(o);return o.length&&(s[s.length-1]+=a.shift(),s.push.apply(s,a)),e.push.apply(e,s),e}function es(t){return t?("{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2)),ss(function(t){return t.split("\\\\").join(Vo).split("\\{").join(Wo).split("\\}").join(Xo).split("\\,").join(Ko).split("\\.").join(Qo)}(t),!0).map(Jo)):[]}function ns(t){return"{"+t+"}"}function rs(t){return/^-?0\d/.test(t)}function is(t,e){return t<=e}function os(t,e){return t>=e}function ss(t,e){var n=[],r=Go("{","}",t);if(!r||/\$$/.test(r.pre))return[t];var i,o=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),s=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),a=o||s,c=r.body.indexOf(",")>=0;if(!a&&!c)return r.post.match(/,.*\}/)?ss(t=r.pre+"{"+r.body+Xo+r.post):[t];if(a)i=r.body.split(/\.\./);else if(1===(i=ts(r.body)).length&&1===(i=ss(i[0],!1).map(ns)).length)return(f=r.post.length?ss(r.post,!1):[""]).map((function(t){return r.pre+i[0]+t}));var u,l=r.pre,f=r.post.length?ss(r.post,!1):[""];if(a){var p=Yo(i[0]),h=Yo(i[1]),d=Math.max(i[0].length,i[1].length),m=3==i.length?Math.abs(Yo(i[2])):1,g=is;h<p&&(m*=-1,g=os);var v=i.some(rs);u=[];for(var y=p;g(y,h);y+=m){var w;if(s)"\\"===(w=String.fromCharCode(y))&&(w="");else if(w=String(y),v){var b=d-w.length;if(b>0){var E=new Array(b+1).join("0");w=y<0?"-"+E+w.slice(1):E+w}}u.push(w)}}else u=qo(i,(function(t){return ss(t,!1)}));for(var _=0;_<u.length;_++)for(var S=0;S<f.length;S++){var x=l+u[_]+f[S];(!e||a||x)&&n.push(x)}return n}function as(){return Zo||(Zo=!0,Ho={},qo=Do(),Go=Uo(),Ho=es,Vo="\0SLASH"+Math.random()+"\0",Wo="\0OPEN"+Math.random()+"\0",Xo="\0CLOSE"+Math.random()+"\0",Ko="\0COMMA"+Math.random()+"\0",Qo="\0PERIOD"+Math.random()+"\0"),Ho}var cs,us,ls,fs,ps,hs,ds,ms,gs,vs,ys,ws,bs=!1;function Es(t,e){return e=e||{},function(n,r,i){return Ss(n,t,e)}}function _s(t,e){t=t||{},e=e||{};var n={};return Object.keys(e).forEach((function(t){n[t]=e[t]})),Object.keys(t).forEach((function(e){n[e]=t[e]})),n}function Ss(t,e,n){if("string"!=typeof e)throw new TypeError("glob pattern string required");return n||(n={}),!(!n.nocomment&&"#"===e.charAt(0))&&(""===e.trim()?""===t:new xs(e,n).match(t))}function xs(t,e){if(!(this instanceof xs))return new xs(t,e);if("string"!=typeof t)throw new TypeError("glob pattern string required");e||(e={}),t=t.trim(),"/"!==us.sep&&(t=t.split(us.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function ks(){if(!this._made){var t=this.pattern,e=this.options;if(e.nocomment||"#"!==t.charAt(0))if(t){this.parseNegate();var n=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error),this.debug(this.pattern,n),n=this.globParts=n.map((function(t){return t.split(ys)})),this.debug(this.pattern,n),n=n.map((function(t,e,n){return t.map(this.parse,this)}),this),this.debug(this.pattern,n),n=n.filter((function(t){return-1===t.indexOf(!1)})),this.debug(this.pattern,n),this.set=n}else this.empty=!0;else this.comment=!0}}function Ts(){var t=this.pattern,e=!1,n=0;if(!this.options.nonegate){for(var r=0,i=t.length;r<i&&"!"===t.charAt(r);r++)e=!e,n++;n&&(this.pattern=t.substr(n)),this.negate=e}}function Is(t,e){if(e||(e=this instanceof xs?this.options:{}),void 0===(t=void 0===t?this.pattern:t))throw new TypeError("undefined pattern");return e.nobrace||!t.match(/\{.*\}/)?[t]:fs(t)}function As(t,e){if(t.length>65536)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&"**"===t)return ls;if(""===t)return"";var r,i="",o=!!n.nocase,s=!1,a=[],c=[],u=!1,l=-1,f=-1,p="."===t.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",h=this;function d(){if(r){switch(r){case"*":i+=ds,o=!0;break;case"?":i+=hs,o=!0;break;default:i+="\\"+r}h.debug("clearStateChar %j %j",r,i),r=!1}}for(var m,g=0,v=t.length;g<v&&(m=t.charAt(g));g++)if(this.debug("%s\t%s %s %j",t,g,i,m),s&&vs[m])i+="\\"+m,s=!1;else switch(m){case"/":return!1;case"\\":d(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",t,g,i,m),u){this.debug("  in class"),"!"===m&&g===f+1&&(m="^"),i+=m;continue}h.debug("call clearStateChar %j",r),d(),r=m,n.noext&&d();continue;case"(":if(u){i+="(";continue}if(!r){i+="\\(";continue}a.push({type:r,start:g-1,reStart:i.length,open:ps[r].open,close:ps[r].close}),i+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,i),r=!1;continue;case")":if(u||!a.length){i+="\\)";continue}d(),o=!0;var y=a.pop();i+=y.close,"!"===y.type&&c.push(y),y.reEnd=i.length;continue;case"|":if(u||!a.length||s){i+="\\|",s=!1;continue}d(),i+="|";continue;case"[":if(d(),u){i+="\\"+m;continue}u=!0,f=g,l=i.length,i+=m;continue;case"]":if(g===f+1||!u){i+="\\"+m,s=!1;continue}if(u){var w=t.substring(f+1,g);try{RegExp("["+w+"]")}catch(t){var b=this.parse(w,ws);i=i.substr(0,l)+"\\["+b[0]+"\\]",o=o||b[1],u=!1;continue}}o=!0,u=!1,i+=m;continue;default:d(),s?s=!1:!vs[m]||"^"===m&&u||(i+="\\"),i+=m}for(u&&(w=t.substr(f+1),b=this.parse(w,ws),i=i.substr(0,l)+"\\["+b[0],o=o||b[1]),y=a.pop();y;y=a.pop()){var E=i.slice(y.reStart+y.open.length);this.debug("setting tail",i,y),E=E.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(t,e,n){return n||(n="\\"),e+e+n+"|"})),this.debug("tail=%j\n   %s",E,E,y,i);var _="*"===y.type?ds:"?"===y.type?hs:"\\"+y.type;o=!0,i=i.slice(0,y.reStart)+_+"\\("+E}d(),s&&(i+="\\\\");var S=!1;switch(i.charAt(0)){case".":case"[":case"(":S=!0}for(var x=c.length-1;x>-1;x--){var k=c[x],T=i.slice(0,k.reStart),I=i.slice(k.reStart,k.reEnd-8),A=i.slice(k.reEnd-8,k.reEnd),C=i.slice(k.reEnd);A+=C;var O=T.split("(").length-1,P=C;for(g=0;g<O;g++)P=P.replace(/\)[+*?]?/,"");var N="";""===(C=P)&&e!==ws&&(N="$"),i=T+I+C+N+A}if(""!==i&&o&&(i="(?=.)"+i),S&&(i=p+i),e===ws)return[i,o];if(!o)return t.replace(/\\(.)/g,"$1");var L=n.nocase?"i":"";try{var R=new RegExp("^"+i+"$",L)}catch(t){return new RegExp("$.")}return R._glob=t,R._src=i,R}function Cs(){if(this.regexp||!1===this.regexp)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,n=e.noglobstar?ds:e.dot?ms:gs,r=e.nocase?"i":"",i=t.map((function(t){return t.map((function(t){return t===ls?n:"string"==typeof t?t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):t._src})).join("\\/")})).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,r)}catch(t){this.regexp=!1}return this.regexp}function Os(t,e){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;var n=this.options;"/"!==us.sep&&(t=t.split(us.sep).join("/")),t=t.split(ys),this.debug(this.pattern,"split",t);var r,i,o=this.set;for(this.debug(this.pattern,"set",o),i=t.length-1;i>=0&&!(r=t[i]);i--);for(i=0;i<o.length;i++){var s=o[i],a=t;if(n.matchBase&&1===s.length&&(a=[r]),this.matchOne(a,s,e))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate}function Ps(){cs={},cs=Ss,Ss.Minimatch=xs,us={sep:"/"};try{us=function(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}("path")}catch(t){}ls=Ss.GLOBSTAR=xs.GLOBSTAR={},fs=as(),ps={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},ds=(hs="[^/]")+"*?",ms="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",gs="(?:(?!(?:\\/|^)\\.).)*?",vs="().*{}+?[]^$\\!".split("").reduce((function(t,e){return t[e]=!0,t}),{}),ys=/\/+/,Ss.filter=Es,Ss.defaults=function(t){if(!t||!Object.keys(t).length)return Ss;var e=Ss,n=function(n,r,i){return e.minimatch(n,r,_s(t,i))};return n.Minimatch=function(n,r){return new e.Minimatch(n,_s(t,r))},n},xs.defaults=function(t){return t&&Object.keys(t).length?Ss.defaults(t).Minimatch:xs},xs.prototype.debug=function(){},xs.prototype.make=ks,xs.prototype.parseNegate=Ts,Ss.braceExpand=function(t,e){return Is(t,e)},xs.prototype.braceExpand=Is,xs.prototype.parse=As,ws={},Ss.makeRe=function(t,e){return new xs(t,e||{}).makeRe()},xs.prototype.makeRe=Cs,Ss.match=function(t,e,n){var r=new xs(e,n=n||{});return t=t.filter((function(t){return r.match(t)})),r.options.nonull&&!t.length&&t.push(e),t},xs.prototype.match=Os,xs.prototype.matchOne=function(t,e,n){var r=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var i=0,o=0,s=t.length,a=e.length;i<s&&o<a;i++,o++){this.debug("matchOne loop");var c,u=e[o],l=t[i];if(this.debug(e,u,l),!1===u)return!1;if(u===ls){this.debug("GLOBSTAR",[e,u,l]);var f=i,p=o+1;if(p===a){for(this.debug("** at the end");i<s;i++)if("."===t[i]||".."===t[i]||!r.dot&&"."===t[i].charAt(0))return!1;return!0}for(;f<s;){var h=t[f];if(this.debug("\nglobstar while",t,f,e,p,h),this.matchOne(t.slice(f),e.slice(p),n))return this.debug("globstar found match!",f,s,h),!0;if("."===h||".."===h||!r.dot&&"."===h.charAt(0)){this.debug("dot detected!",t,f,e,p);break}this.debug("globstar swallow a segment, and continue"),f++}return!(!n||(this.debug("\n>>> no match, partial?",t,f,e,p),f!==s))}if("string"==typeof u?(c=r.nocase?l.toLowerCase()===u.toLowerCase():l===u,this.debug("string match",u,l,c)):(c=l.match(u),this.debug("pattern match",u,l,c)),!c)return!1}if(i===s&&o===a)return!0;if(i===s)return n;if(o===a)return i===s-1&&""===t[i];throw new Error("wtf?")}}function Ns(){return bs||(bs=!0,Ps()),cs}var Ls,Rs=!1;function js(){return Rs||(Rs=!0,Ls={},Ls="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}),Ls}var Ds,Fs,Ms,$s=!1;function Bs(t){return"/"===t.charAt(0)}function zs(t){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(t),n=e[1]||"",r=Boolean(n&&":"!==n.charAt(1));return Boolean(e[2]||r)}function Us(){return $s||($s=!0,Ds={},Ds="win32"===process.platform?zs:Bs,Fs=Bs,Ds.posix=Fs,Ms=zs,Ds.win32=Ms),Ds}var Hs,qs,Gs,Vs,Ws,Xs,Ks,Qs,Zs,Ys,Js,ta,ea,na=!1;function ra(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ia(t,e){return t.toLowerCase().localeCompare(e.toLowerCase())}function oa(t,e){return t.localeCompare(e)}function sa(t){var e=null;if("/**"===t.slice(-3)){var n=t.replace(/(\/\*\*)+$/,"");e=new ea(n,{dot:!0})}return{matcher:new ea(t,{dot:!0}),gmatcher:e}}function aa(t,e,n){if(n||(n={}),n.matchBase&&-1===e.indexOf("/")){if(n.noglobstar)throw new Error("base matching requires globstar");e="**/"+e}t.silent=!!n.silent,t.pattern=e,t.strict=!1!==n.strict,t.realpath=!!n.realpath,t.realpathCache=n.realpathCache||Object.create(null),t.follow=!!n.follow,t.dot=!!n.dot,t.mark=!!n.mark,t.nodir=!!n.nodir,t.nodir&&(t.mark=!0),t.sync=!!n.sync,t.nounique=!!n.nounique,t.nonull=!!n.nonull,t.nosort=!!n.nosort,t.nocase=!!n.nocase,t.stat=!!n.stat,t.noprocess=!!n.noprocess,t.absolute=!!n.absolute,t.maxLength=n.maxLength||1/0,t.cache=n.cache||Object.create(null),t.statCache=n.statCache||Object.create(null),t.symlinks=n.symlinks||Object.create(null),function(t,e){t.ignore=e.ignore||[],Array.isArray(t.ignore)||(t.ignore=[t.ignore]),t.ignore.length&&(t.ignore=t.ignore.map(sa))}(t,n),t.changedCwd=!1;var r=process.cwd();ra(n,"cwd")?(t.cwd=Ys.resolve(n.cwd),t.changedCwd=t.cwd!==r):t.cwd=r,t.root=n.root||Ys.resolve(t.cwd,"/"),t.root=Ys.resolve(t.root),"win32"===process.platform&&(t.root=t.root.replace(/\\/g,"/")),t.cwdAbs=ta(t.cwd)?t.cwd:la(t,t.cwd),"win32"===process.platform&&(t.cwdAbs=t.cwdAbs.replace(/\\/g,"/")),t.nomount=!!n.nomount,n.nonegate=!0,n.nocomment=!0,t.minimatch=new ea(e,n),t.options=t.minimatch.options}function ca(t){for(var e=t.nounique,n=e?[]:Object.create(null),r=0,i=t.matches.length;r<i;r++){var o=t.matches[r];if(o&&0!==Object.keys(o).length){var s=Object.keys(o);e?n.push.apply(n,s):s.forEach((function(t){n[t]=!0}))}else if(t.nonull){var a=t.minimatch.globSet[r];e?n.push(a):n[a]=!0}}if(e||(n=Object.keys(n)),t.nosort||(n=n.sort(t.nocase?ia:oa)),t.mark){for(r=0;r<n.length;r++)n[r]=t._mark(n[r]);t.nodir&&(n=n.filter((function(e){var n=!/\/$/.test(e),r=t.cache[e]||t.cache[la(t,e)];return n&&r&&(n="DIR"!==r&&!Array.isArray(r)),n})))}t.ignore.length&&(n=n.filter((function(e){return!fa(t,e)}))),t.found=n}function ua(t,e){var n=la(t,e),r=t.cache[n],i=e;if(r){var o="DIR"===r||Array.isArray(r),s="/"===e.slice(-1);if(o&&!s?i+="/":!o&&s&&(i=i.slice(0,-1)),i!==e){var a=la(t,i);t.statCache[a]=t.statCache[n],t.cache[a]=t.cache[n]}}return i}function la(t,e){var n=e;return n="/"===e.charAt(0)?Ys.join(t.root,e):ta(e)||""===e?e:t.changedCwd?Ys.resolve(t.cwd,e):Ys.resolve(e),"win32"===process.platform&&(n=n.replace(/\\/g,"/")),n}function fa(t,e){return!!t.ignore.length&&t.ignore.some((function(t){return t.matcher.match(e)||!(!t.gmatcher||!t.gmatcher.match(e))}))}function pa(t,e){return!!t.ignore.length&&t.ignore.some((function(t){return!(!t.gmatcher||!t.gmatcher.match(e))}))}function ha(){return na||(na=!0,(Hs={}).alphasort=oa,qs=ia,Hs.alphasorti=qs,Gs=aa,Hs.setopts=Gs,Vs=ra,Hs.ownProp=Vs,Ws=la,Hs.makeAbs=Ws,Xs=ca,Hs.finish=Xs,Ks=ua,Hs.mark=Ks,Qs=fa,Hs.isIgnored=Qs,Zs=pa,Hs.childrenIgnored=Zs,Ys=v,Js=Ns(),ta=Us(),ea=Js.Minimatch),Hs}var da,ma,ga,va,ya,wa,ba,Ea,_a,Sa,xa,ka,Ta=!1;function Ia(t,e){if("function"==typeof e||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new Aa(t,e).found}function Aa(t,e){if(!t)throw new Error("must provide pattern");if("function"==typeof e||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof Aa))return new Aa(t,e);if(_a(this,t,e),this.noprocess)return this;var n=this.minimatch.set.length;this.matches=new Array(n);for(var r=0;r<n;r++)this._process(this.minimatch.set[r],r,!1);this._finish()}function Ca(){return Ta||(Ta=!0,da={},da=Ia,Ia.GlobSync=Aa,ma=E,ga=No(),va=Ns(),va.Minimatch,vc().Glob,w,ya=v,wa=S,ba=Us(),Ea=ha(),Ea.alphasort,Ea.alphasorti,_a=Ea.setopts,Sa=Ea.ownProp,xa=Ea.childrenIgnored,ka=Ea.isIgnored,Aa.prototype._finish=function(){if(wa(this instanceof Aa),this.realpath){var t=this;this.matches.forEach((function(e,n){var r=t.matches[n]=Object.create(null);for(var i in e)try{i=t._makeAbs(i),r[ga.realpathSync(i,t.realpathCache)]=!0}catch(e){if("stat"!==e.syscall)throw e;r[t._makeAbs(i)]=!0}}))}Ea.finish(this)},Aa.prototype._process=function(t,e,n){wa(this instanceof Aa);for(var r,i=0;"string"==typeof t[i];)i++;switch(i){case t.length:return void this._processSimple(t.join("/"),e);case 0:r=null;break;default:r=t.slice(0,i).join("/")}var o,s=t.slice(i);null===r?o=".":ba(r)||ba(t.join("/"))?(r&&ba(r)||(r="/"+r),o=r):o=r;var a=this._makeAbs(o);xa(this,o)||(s[0]===va.GLOBSTAR?this._processGlobStar(r,o,a,s,e,n):this._processReaddir(r,o,a,s,e,n))},Aa.prototype._processReaddir=function(t,e,n,r,i,o){var s=this._readdir(n,o);if(s){for(var a=r[0],c=!!this.minimatch.negate,u=a._glob,l=this.dot||"."===u.charAt(0),f=[],p=0;p<s.length;p++)("."!==(m=s[p]).charAt(0)||l)&&(c&&!t?!m.match(a):m.match(a))&&f.push(m);var h=f.length;if(0!==h)if(1!==r.length||this.mark||this.stat)for(r.shift(),p=0;p<h;p++){var d;m=f[p],d=t?[t,m]:[m],this._process(d.concat(r),i,o)}else for(this.matches[i]||(this.matches[i]=Object.create(null)),p=0;p<h;p++){var m=f[p];t&&(m="/"!==t.slice(-1)?t+"/"+m:t+m),"/"!==m.charAt(0)||this.nomount||(m=ya.join(this.root,m)),this._emitMatch(i,m)}}},Aa.prototype._emitMatch=function(t,e){if(!ka(this,e)){var n=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=n),!this.matches[t][e]){if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.matches[t][e]=!0,this.stat&&this._stat(e)}}},Aa.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var e,n;try{n=ma.lstatSync(t)}catch(t){if("ENOENT"===t.code)return null}var r=n&&n.isSymbolicLink();return this.symlinks[t]=r,r||!n||n.isDirectory()?e=this._readdir(t,!1):this.cache[t]="FILE",e},Aa.prototype._readdir=function(t,e){if(e&&!Sa(this.symlinks,t))return this._readdirInGlobStar(t);if(Sa(this.cache,t)){var n=this.cache[t];if(!n||"FILE"===n)return null;if(Array.isArray(n))return n}try{return this._readdirEntries(t,ma.readdirSync(t))}catch(e){return this._readdirError(t,e),null}},Aa.prototype._readdirEntries=function(t,e){if(!this.mark&&!this.stat)for(var n=0;n<e.length;n++){var r=e[n];r="/"===t?t+r:t+"/"+r,this.cache[r]=!0}return this.cache[t]=e,e},Aa.prototype._readdirError=function(t,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(t);if(this.cache[n]="FILE",n===this.cwdAbs){var r=new Error(e.code+" invalid cwd "+this.cwd);throw r.path=this.cwd,r.code=e.code,r}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw e;this.silent||console.error("glob error",e)}},Aa.prototype._processGlobStar=function(t,e,n,r,i,o){var s=this._readdir(n,o);if(s){var a=r.slice(1),c=t?[t]:[],u=c.concat(a);this._process(u,i,!1);var l=s.length;if(!this.symlinks[n]||!o)for(var f=0;f<l;f++)if("."!==s[f].charAt(0)||this.dot){var p=c.concat(s[f],a);this._process(p,i,!0);var h=c.concat(s[f],r);this._process(h,i,!0)}}},Aa.prototype._processSimple=function(t,e){var n=this._stat(t);if(this.matches[e]||(this.matches[e]=Object.create(null)),n){if(t&&ba(t)&&!this.nomount){var r=/[\/\\]$/.test(t);"/"===t.charAt(0)?t=ya.join(this.root,t):(t=ya.resolve(this.root,t),r&&(t+="/"))}"win32"===process.platform&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t)}},Aa.prototype._stat=function(t){var e=this._makeAbs(t),n="/"===t.slice(-1);if(t.length>this.maxLength)return!1;if(!this.stat&&Sa(this.cache,e)){var r=this.cache[e];if(Array.isArray(r)&&(r="DIR"),!n||"DIR"===r)return r;if(n&&"FILE"===r)return!1}var i=this.statCache[e];if(!i){var o;try{o=ma.lstatSync(e)}catch(t){if(t&&("ENOENT"===t.code||"ENOTDIR"===t.code))return this.statCache[e]=!1,!1}if(o&&o.isSymbolicLink())try{i=ma.statSync(e)}catch(t){i=o}else i=o}return this.statCache[e]=i,r=!0,i&&(r=i.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||r,(!n||"FILE"!==r)&&r},Aa.prototype._mark=function(t){return Ea.mark(this,t)},Aa.prototype._makeAbs=function(t){return Ea.makeAbs(this,t)}),da}var Oa,Pa=!1;function Na(t,e){if(t&&e)return Na(t)(e);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){n[e]=t[e]})),n;function n(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),i=e[e.length-1];return"function"==typeof r&&r!==i&&Object.keys(i).forEach((function(t){r[t]=i[t]})),r}}function La(){return Pa||(Pa=!0,Oa={},Oa=Na),Oa}var Ra,ja,Da,Fa=!1;function Ma(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function $a(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},n=t.name||"Function wrapped with `once`";return e.onceError=n+" shouldn't be called more than once",e.called=!1,e}function Ba(){return Fa||(Fa=!0,Ra={},ja=La(),Ra=ja(Ma),Da=ja($a),Ra.strict=Da,Ma.proto=Ma((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Ma(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return $a(this)},configurable:!0})}))),Ra}var za,Ua,Ha,qa,Ga=!1;function Va(t,e){return Ha[t]?(Ha[t].push(e),null):(Ha[t]=[e],function(t){return qa((function e(){var n=Ha[t],r=n.length,i=Wa(arguments);try{for(var o=0;o<r;o++)n[o].apply(null,i)}finally{n.length>r?(n.splice(0,r),process.nextTick((function(){e.apply(null,i)}))):delete Ha[t]}}))}(t))}function Wa(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r]=t[r];return n}function Xa(){return Ga||(Ga=!0,za={},Ua=La(),Ha=Object.create(null),qa=Ba(),za=Ua(Va)),za}var Ka,Qa,Za,Ya,Ja,tc,ec,nc,rc,ic,oc,sc,ac,cc,uc,lc,fc,pc,hc=!1;function dc(t,e,n){if("function"==typeof e&&(n=e,e={}),e||(e={}),e.sync){if(n)throw new TypeError("callback provided to sync glob");return ic(t,e)}return new mc(t,e,n)}function mc(t,e,n){if("function"==typeof e&&(n=e,e=null),e&&e.sync){if(n)throw new TypeError("callback provided to sync glob");return new pc(t,e)}if(!(this instanceof mc))return new mc(t,e,n);sc(this,t,e),this._didRealPath=!1;var r=this.minimatch.set.length;this.matches=new Array(r),"function"==typeof n&&(n=fc(n),this.on("error",n),this.on("end",(function(t){n(null,t)})));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===r)return s();for(var o=0;o<r;o++)this._process(this.minimatch.set[o],o,!1,s);function s(){--i._processing,i._processing<=0&&i._finish()}}function gc(){Ka={},Ka=dc,Qa=E,Za=No(),Ya=Ns(),Ya.Minimatch,Ja=js(),tc=i.EventEmitter,ec=v,nc=S,rc=Us(),ic=Ca(),oc=ha(),oc.alphasort,oc.alphasorti,sc=oc.setopts,ac=oc.ownProp,cc=Xa(),w,uc=oc.childrenIgnored,lc=oc.isIgnored,fc=Ba(),dc.sync=ic,pc=dc.GlobSync=ic.GlobSync,dc.glob=dc,dc.hasMagic=function(t,e){var n=function(t,e){if(null===e||"object"!=typeof e)return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}({},e);n.noprocess=!0;var r=new mc(t,n).minimatch.set;if(!t)return!1;if(r.length>1)return!0;for(var i=0;i<r[0].length;i++)if("string"!=typeof r[0][i])return!0;return!1},dc.Glob=mc,Ja(mc,tc),mc.prototype._finish=function(){if(nc(this instanceof mc),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();oc.finish(this),this.emit("end",this.found)}},mc.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var t=this.matches.length;if(0===t)return this._finish();for(var e=this,n=0;n<this.matches.length;n++)this._realpathSet(n,r)}function r(){0==--t&&e._finish()}},mc.prototype._realpathSet=function(t,e){var n=this.matches[t];if(!n)return e();var r=Object.keys(n),i=this,o=r.length;if(0===o)return e();var s=this.matches[t]=Object.create(null);r.forEach((function(n,r){n=i._makeAbs(n),Za.realpath(n,i.realpathCache,(function(r,a){r?"stat"===r.syscall?s[n]=!0:i.emit("error",r):s[a]=!0,0==--o&&(i.matches[t]=s,e())}))}))},mc.prototype._mark=function(t){return oc.mark(this,t)},mc.prototype._makeAbs=function(t){return oc.makeAbs(this,t)},mc.prototype.abort=function(){this.aborted=!0,this.emit("abort")},mc.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},mc.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<t.length;e++){var n=t[e];this._emitMatch(n[0],n[1])}}if(this._processQueue.length){var r=this._processQueue.slice(0);this._processQueue.length=0;for(e=0;e<r.length;e++){var i=r[e];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}},mc.prototype._process=function(t,e,n,r){if(nc(this instanceof mc),nc("function"==typeof r),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([t,e,n,r]);else{for(var i,o=0;"string"==typeof t[o];)o++;switch(o){case t.length:return void this._processSimple(t.join("/"),e,r);case 0:i=null;break;default:i=t.slice(0,o).join("/")}var s,a=t.slice(o);null===i?s=".":rc(i)||rc(t.join("/"))?(i&&rc(i)||(i="/"+i),s=i):s=i;var c=this._makeAbs(s);if(uc(this,s))return r();a[0]===Ya.GLOBSTAR?this._processGlobStar(i,s,c,a,e,n,r):this._processReaddir(i,s,c,a,e,n,r)}},mc.prototype._processReaddir=function(t,e,n,r,i,o,s){var a=this;this._readdir(n,o,(function(c,u){return a._processReaddir2(t,e,n,r,i,o,u,s)}))},mc.prototype._processReaddir2=function(t,e,n,r,i,o,s,a){if(!s)return a();for(var c=r[0],u=!!this.minimatch.negate,l=c._glob,f=this.dot||"."===l.charAt(0),p=[],h=0;h<s.length;h++){if("."!==(m=s[h]).charAt(0)||f)(u&&!t?!m.match(c):m.match(c))&&p.push(m)}var d=p.length;if(0===d)return a();if(1===r.length&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(h=0;h<d;h++){var m=p[h];t&&(m="/"!==t?t+"/"+m:t+m),"/"!==m.charAt(0)||this.nomount||(m=ec.join(this.root,m)),this._emitMatch(i,m)}return a()}r.shift();for(h=0;h<d;h++){m=p[h];t&&(m="/"!==t?t+"/"+m:t+m),this._process([m].concat(r),i,o,a)}a()},mc.prototype._emitMatch=function(t,e){if(!this.aborted&&!lc(this,e))if(this.paused)this._emitQueue.push([t,e]);else{var n=rc(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=n),!this.matches[t][e]){if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.matches[t][e]=!0;var i=this.statCache[n];i&&this.emit("stat",e,i),this.emit("match",e)}}},mc.prototype._readdirInGlobStar=function(t,e){if(!this.aborted){if(this.follow)return this._readdir(t,!1,e);var n=this,r=cc("lstat\0"+t,(function(r,i){if(r&&"ENOENT"===r.code)return e();var o=i&&i.isSymbolicLink();n.symlinks[t]=o,o||!i||i.isDirectory()?n._readdir(t,!1,e):(n.cache[t]="FILE",e())}));r&&Qa.lstat(t,r)}},mc.prototype._readdir=function(t,e,n){if(!this.aborted&&(n=cc("readdir\0"+t+"\0"+e,n))){if(e&&!ac(this.symlinks,t))return this._readdirInGlobStar(t,n);if(ac(this.cache,t)){var r=this.cache[t];if(!r||"FILE"===r)return n();if(Array.isArray(r))return n(null,r)}Qa.readdir(t,function(t,e,n){return function(r,i){r?t._readdirError(e,r,n):t._readdirEntries(e,i,n)}}(this,t,n))}},mc.prototype._readdirEntries=function(t,e,n){if(!this.aborted){if(!this.mark&&!this.stat)for(var r=0;r<e.length;r++){var i=e[r];i="/"===t?t+i:t+"/"+i,this.cache[i]=!0}return this.cache[t]=e,n(null,e)}},mc.prototype._readdirError=function(t,e,n){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(t);if(this.cache[r]="FILE",r===this.cwdAbs){var i=new Error(e.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=e.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:this.cache[this._makeAbs(t)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e)}return n()}},mc.prototype._processGlobStar=function(t,e,n,r,i,o,s){var a=this;this._readdir(n,o,(function(c,u){a._processGlobStar2(t,e,n,r,i,o,u,s)}))},mc.prototype._processGlobStar2=function(t,e,n,r,i,o,s,a){if(!s)return a();var c=r.slice(1),u=t?[t]:[],l=u.concat(c);this._process(l,i,!1,a);var f=this.symlinks[n],p=s.length;if(f&&o)return a();for(var h=0;h<p;h++){if("."!==s[h].charAt(0)||this.dot){var d=u.concat(s[h],c);this._process(d,i,!0,a);var m=u.concat(s[h],r);this._process(m,i,!0,a)}}a()},mc.prototype._processSimple=function(t,e,n){var r=this;this._stat(t,(function(i,o){r._processSimple2(t,e,i,o,n)}))},mc.prototype._processSimple2=function(t,e,n,r,i){if(this.matches[e]||(this.matches[e]=Object.create(null)),!r)return i();if(t&&rc(t)&&!this.nomount){var o=/[\/\\]$/.test(t);"/"===t.charAt(0)?t=ec.join(this.root,t):(t=ec.resolve(this.root,t),o&&(t+="/"))}"win32"===process.platform&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t),i()},mc.prototype._stat=function(t,e){var n=this._makeAbs(t),r="/"===t.slice(-1);if(t.length>this.maxLength)return e();if(!this.stat&&ac(this.cache,n)){var i=this.cache[n];if(Array.isArray(i)&&(i="DIR"),!r||"DIR"===i)return e(null,i);if(r&&"FILE"===i)return e()}var o=this.statCache[n];if(void 0!==o){if(!1===o)return e(null,o);var s=o.isDirectory()?"DIR":"FILE";return r&&"FILE"===s?e():e(null,s,o)}var a=this,c=cc("stat\0"+n,(function(r,i){if(i&&i.isSymbolicLink())return Qa.stat(n,(function(r,o){r?a._stat2(t,n,null,i,e):a._stat2(t,n,r,o,e)}));a._stat2(t,n,r,i,e)}));c&&Qa.lstat(n,c)},mc.prototype._stat2=function(t,e,n,r,i){if(n&&("ENOENT"===n.code||"ENOTDIR"===n.code))return this.statCache[e]=!1,i();var o="/"===t.slice(-1);if(this.statCache[e]=r,"/"===e.slice(-1)&&r&&!r.isDirectory())return i(null,!1,r);var s=!0;return r&&(s=r.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||s,o&&"FILE"===s?i():i(null,s,r)}}function vc(){return hc||(hc=!0,gc()),Ka}var yc,wc,bc,Ec,_c,Sc,xc,kc,Tc,Ic=!1;function Ac(t){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach((function(e){t[e]=t[e]||Ec[e],t[e+="Sync"]=t[e]||Ec[e]})),t.maxBusyTries=t.maxBusyTries||3,t.emfileWait=t.emfileWait||1e3,!1===t.glob&&(t.disableGlob=!0),t.disableGlob=t.disableGlob||!1,t.glob=t.glob||xc}function Cc(t,e,n){"function"==typeof e&&(n=e,e={}),wc(t,"rimraf: missing path"),wc.equal(typeof t,"string","rimraf: path should be a string"),wc.equal(typeof n,"function","rimraf: callback function required"),wc(e,"rimraf: invalid options argument provided"),wc.equal(typeof e,"object","rimraf: options should be object"),Ac(e);var r=0,i=null,o=0;if(e.disableGlob||!_c.hasMagic(t))return s(null,[t]);function s(t,s){return t?n(t):0===(o=s.length)?n():void s.forEach((function(t){Oc(t,e,(function s(a){if(a){if(("EBUSY"===a.code||"ENOTEMPTY"===a.code||"EPERM"===a.code)&&r<e.maxBusyTries)return r++,setTimeout((function(){Oc(t,e,s)}),100*r);if("EMFILE"===a.code&&kc<e.emfileWait)return setTimeout((function(){Oc(t,e,s)}),kc++);"ENOENT"===a.code&&(a=null)}kc=0,function(t){i=i||t,0==--o&&n(i)}(a)}))}))}e.lstat(t,(function(n,r){if(!n)return s(null,[t]);_c(t,e.glob,s)}))}function Oc(t,e,n){wc(t),wc(e),wc("function"==typeof n),e.lstat(t,(function(r,i){return r&&"ENOENT"===r.code?n(null):(r&&"EPERM"===r.code&&Tc&&Pc(t,e,r,n),i&&i.isDirectory()?Lc(t,e,r,n):void e.unlink(t,(function(r){if(r){if("ENOENT"===r.code)return n(null);if("EPERM"===r.code)return Tc?Pc(t,e,r,n):Lc(t,e,r,n);if("EISDIR"===r.code)return Lc(t,e,r,n)}return n(r)})))}))}function Pc(t,e,n,r){wc(t),wc(e),wc("function"==typeof r),n&&wc(n instanceof Error),e.chmod(t,Sc,(function(i){i?r("ENOENT"===i.code?null:n):e.stat(t,(function(i,o){i?r("ENOENT"===i.code?null:n):o.isDirectory()?Lc(t,e,n,r):e.unlink(t,r)}))}))}function Nc(t,e,n){wc(t),wc(e),n&&wc(n instanceof Error);try{e.chmodSync(t,Sc)}catch(t){if("ENOENT"===t.code)return;throw n}try{var r=e.statSync(t)}catch(t){if("ENOENT"===t.code)return;throw n}r.isDirectory()?jc(t,e,n):e.unlinkSync(t)}function Lc(t,e,n,r){wc(t),wc(e),n&&wc(n instanceof Error),wc("function"==typeof r),e.rmdir(t,(function(i){!i||"ENOTEMPTY"!==i.code&&"EEXIST"!==i.code&&"EPERM"!==i.code?i&&"ENOTDIR"===i.code?r(n):r(i):function(t,e,n){wc(t),wc(e),wc("function"==typeof n),e.readdir(t,(function(r,i){if(r)return n(r);var o,s=i.length;if(0===s)return e.rmdir(t,n);i.forEach((function(r){Cc(bc.join(t,r),e,(function(r){if(!o)return r?n(o=r):void(0==--s&&e.rmdir(t,n))}))}))}))}(t,e,r)}))}function Rc(t,e){var n;if(Ac(e=e||{}),wc(t,"rimraf: missing path"),wc.equal(typeof t,"string","rimraf: path should be a string"),wc(e,"rimraf: missing options"),wc.equal(typeof e,"object","rimraf: options should be object"),e.disableGlob||!_c.hasMagic(t))n=[t];else try{e.lstatSync(t),n=[t]}catch(r){n=_c.sync(t,e.glob)}if(n.length)for(var r=0;r<n.length;r++){t=n[r];try{var i=e.lstatSync(t)}catch(n){if("ENOENT"===n.code)return;"EPERM"===n.code&&Tc&&Nc(t,e,n)}try{i&&i.isDirectory()?jc(t,e,null):e.unlinkSync(t)}catch(n){if("ENOENT"===n.code)return;if("EPERM"===n.code)return Tc?Nc(t,e,n):jc(t,e,n);if("EISDIR"!==n.code)throw n;jc(t,e,n)}}}function jc(t,e,n){wc(t),wc(e),n&&wc(n instanceof Error);try{e.rmdirSync(t)}catch(r){if("ENOENT"===r.code)return;if("ENOTDIR"===r.code)throw n;"ENOTEMPTY"!==r.code&&"EEXIST"!==r.code&&"EPERM"!==r.code||function(t,e){wc(t),wc(e),e.readdirSync(t).forEach((function(n){Rc(bc.join(t,n),e)}));var n=Tc?100:1,r=0;for(;;){var i=!0;try{var o=e.rmdirSync(t,e);return i=!1,o}finally{if(++r<n&&i)continue}}}(t,e)}}function Dc(){return Ic||(Ic=!0,yc={},yc=Cc,Cc.sync=Rc,wc=S,bc=v,Ec=E,_c=vc(),Sc=parseInt("666",8),xc={nosort:!0,silent:!0},kc=0,Tc="win32"===process.platform),yc}(function(){var t,e,i,o,s,a,c,u,l,f,p,h,d,m,g,y,w,b,_,S=[].slice;u=E,s=r,y=v,_=Ki(),Zi||(Zi=!0,Yi()),a=Qi,g=oo(),w=Dc(),l={__esModule:!1,getHomeDirectory:function(){return"win32"!==process.platform||process.env.HOME?process.env.HOME:process.env.USERPROFILE},absolute:function(t){if(null==t)return null;t=l.resolveHome(t);try{return u.realpathSync(t)}catch(e){return e,t}},normalize:function(t){return null==t?null:l.resolveHome(y.normalize(t.toString()))},resolveHome:function(t){return"~"===t?l.getHomeDirectory():0===t.indexOf("~"+y.sep)?""+l.getHomeDirectory()+t.substring(1):t},tildify:function(t){var e,n;return"win32"===process.platform?t:(n=l.normalize(t),null==(e=l.getHomeDirectory())?t:n===e?"~":n.startsWith(y.join(e,y.sep))?y.join("~",y.sep,n.substring(e.length+1)):t)},getAppDataDirectory:function(){switch(process.platform){case"darwin":return l.absolute(y.join("~","Library","Application Support"));case"linux":return"/var/lib";case"win32":return process.env.APPDATA;default:return null}},isAbsolute:function(t){return null==t&&(t=""),"win32"!==process.platform?"/"===t[0]:":"===t[1]||"\\"===t[0]&&"\\"===t[1]},existsSync:function(t){return d(t)&&!1!==b(t)},isDirectorySync:function(t){var e;return!!d(t)&&(!!(e=b(t))&&e.isDirectory())},isDirectory:function(t,e){return d(t)?u.stat(t,(function(t,n){return e(null==t&&n.isDirectory())})):e(!1)},isFileSync:function(t){var e;return!!d(t)&&(!!(e=b(t))&&e.isFile())},isSymbolicLinkSync:function(t){var e;return!!d(t)&&(!!(e=m(t))&&e.isSymbolicLink())},isSymbolicLink:function(t,e){return d(t)?u.lstat(t,(function(t,n){return"function"==typeof e?e(null!=n&&n.isSymbolicLink()):void 0})):process.nextTick((function(){return"function"==typeof e?e(!1):void 0}))},isExecutableSync:function(t){var e;return!!d(t)&&(!!(e=b(t))&&0!=(1&e.mode))},getSizeSync:function(t){var e;return d(t)&&null!=(e=b(t).size)?e:-1},listSync:function(t,e){var n;return l.isDirectorySync(t)?(n=u.readdirSync(t),e&&(n=l.filterExtensions(n,e)),n=(n=n.sort((function(t,e){return t.toLowerCase().localeCompare(e.toLowerCase())}))).map((function(e){return y.join(t,e)}))):[]},list:function(){var t,e,n,r;return r=arguments[0],(n=2<=arguments.length?S.call(arguments,1):[]).length>1&&(e=n.shift()),t=n.shift(),u.readdir(r,(function(n,i){return null!=n?t(n):(e&&(i=l.filterExtensions(i,e)),i=(i=i.sort((function(t,e){return t.toLowerCase().localeCompare(e.toLowerCase())}))).map((function(t){return y.join(r,t)})),t(null,i))}))},filterExtensions:function(t,e){return e=e.map((function(t){return""===t?t:"."+t.replace(/^\./,"")})),t.filter((function(t){return _.include(e,y.extname(t))}))},listTreeSync:function(t){var e,n;return n=[],e=function(t){return n.push(t),!0},l.traverseTreeSync(t,e,e),n},move:function(t,e,n){return p(t,e,(function(r,i){var o,s;if(!r)return i?(s=y.dirname(e),u.exists(s,(function(r){if(!r)return l.makeTree(s,(function(r){if(!r)return u.rename(t,e,n);n(r)}));u.rename(t,e,n)}))):((o=new Error("'"+e+"' already exists.")).code="EEXIST",void n(o));n(r)}))},moveSync:function(t,e){var n,r;if(!h(t,e))throw(n=new Error("'"+e+"' already exists.")).code="EEXIST",n;return r=y.dirname(e),u.existsSync(r)||l.makeTreeSync(r),u.renameSync(t,e)},removeSync:function(t){return w.sync(t)},remove:function(t,e){return w(t,e)},writeFileSync:function(t,e,n){return g.sync(y.dirname(t)),u.writeFileSync(t,e,n)},writeFile:function(t,e,n,r){return r=_.last(arguments),g(y.dirname(t),(function(i){return null!=i?"function"==typeof r?r(i):void 0:u.writeFile(t,e,n,r)}))},copy:function(t,e,n){return g(y.dirname(e),(function(r){var i,o;if(null==r)return(o=u.createReadStream(t)).on("error",(function(t){return"function"==typeof n&&n(t),n=null})),(i=u.createWriteStream(e)).on("error",(function(t){return"function"==typeof n&&n(t),n=null})),i.on("close",(function(){return"function"==typeof n&&n(),n=null})),o.pipe(i);"function"==typeof n&&n(r)}))},copySync:function(t,e){var n,r,i,o,s,a,c;for(o=u.readdirSync(t),g.sync(e),c=[],s=0,a=o.length;s<a;s++)r=o[s],i=y.join(t,r),n=y.join(e,r),l.isDirectorySync(i)?c.push(l.copySync(i,n)):c.push(l.copyFileSync(i,n));return c},copyFileSync:function(t,e,n){var r,i,o,s,a,c;null==n&&(n=16384),g.sync(y.dirname(e)),s=null,a=null;try{for(s=u.openSync(t,"r"),a=u.openSync(e,"w"),i=1,o=0,c=[];i>0;)r=new Buffer(n),i=u.readSync(s,r,0,r.length,o),u.writeSync(a,r,0,i,o),c.push(o+=i);return c}finally{null!=s&&u.closeSync(s),null!=a&&u.closeSync(a)}},makeTreeSync:function(t){if(!l.isDirectorySync(t))return g.sync(t)},makeTree:function(t,e){return l.isDirectory(t,(function(n){return n?"function"==typeof e?e():void 0:g(t,(function(t){return"function"==typeof e?e(t):void 0}))}))},traverseTreeSync:function(t,e,n){var r;if(null==n&&(n=e),l.isDirectorySync(t))return(r=function(t,e,n){var i,o,s,a,c,l,f;for(c=0,l=(f=u.readdirSync(t)).length;c<l;c++)o=f[c],i=y.join(t,o),(a=u.lstatSync(i)).isSymbolicLink()&&(s=b(i))&&(a=s),a.isDirectory()?n(i)&&r(i,e,n):a.isFile()&&e(i)})(t,e,n)},traverseTree:function(t,e,n,r){return u.readdir(t,(function(i,o){var s,c,l,f,p;if(i)return"function"==typeof r?r():void 0;for((c=a.queue((function(t,r){return u.stat(t,(function(i,o){return i?r(i):o.isFile()?(e(t),r()):o.isDirectory()&&n(t)?u.readdir(t,(function(e,n){var i,o,s;if(e)return r(e);for(o=0,s=n.length;o<s;o++)i=n[o],c.unshift(y.join(t,i));return r()})):r()}))}))).concurrency=1,c.drain=r,p=[],l=0,f=o.length;l<f;l++)s=o[l],p.push(c.push(y.join(t,s)));return p}))},md5ForPath:function(t){var e;return e=u.readFileSync(t),n.createHash("md5").update(e).digest("hex")},resolve:function(){var t,e,n,r,i,o,s,a,c,u;if(t=1<=arguments.length?S.call(arguments,0):[],_.isArray(_.last(t))&&(n=t.pop()),o=null!=(u=t.pop())?u.toString():void 0,i=t,o){if(l.isAbsolute(o)){if(n&&(s=l.resolveExtension(o,n)))return s;if(l.existsSync(o))return o}for(a=0,c=i.length;a<c;a++)if(r=i[a],e=y.join(r,o),n){if(s=l.resolveExtension(e,n))return s}else if(l.existsSync(e))return l.absolute(e)}},resolveOnLoadPath:function(){var t,e,n;return t=1<=arguments.length?S.call(arguments,0):[],n=null,n=null!=module.paths?module.paths:process.resourcesPath?[y.join(process.resourcesPath,"app","node_modules")]:[],e=s.globalPaths.concat(n),l.resolve.apply(l,S.call(e).concat(S.call(t)))},resolveExtension:function(t,e){var n,r,i,o;for(i=0,o=e.length;i<o;i++)if(""===(n=e[i])){if(l.existsSync(t))return l.absolute(t)}else if(r=t+"."+n.replace(/^\./,""),l.existsSync(r))return l.absolute(r)},isCompressedExtension:function(t){return null!=t&&e.hasOwnProperty(t.toLowerCase())},isImageExtension:function(t){return null!=t&&i.hasOwnProperty(t.toLowerCase())},isPdfExtension:function(t){return".pdf"===(null!=t?t.toLowerCase():void 0)},isBinaryExtension:function(e){return null!=e&&t.hasOwnProperty(e.toLowerCase())},isReadmePath:function(t){var e;return e=y.extname(t),"readme"===y.basename(t,e).toLowerCase()&&(""===e||l.isMarkdownExtension(e))},isMarkdownExtension:function(t){return null!=t&&o.hasOwnProperty(t.toLowerCase())},isCaseInsensitive:function(){var t,e;return null==l.caseInsensitiveFs&&(t=b(process.execPath.toLowerCase()),e=b(process.execPath.toUpperCase()),l.caseInsensitiveFs=!(!t||!e)&&(t.dev===e.dev&&t.ino===e.ino)),l.caseInsensitiveFs},isCaseSensitive:function(){return!l.isCaseInsensitive()},statSyncNoException:function(){var t;return t=1<=arguments.length?S.call(arguments,0):[],b.apply(null,t)},lstatSyncNoException:function(){var t;return t=1<=arguments.length?S.call(arguments,0):[],m.apply(null,t)}},f=null,c=function(){return null===f&&(f=process.versions.electron&&parseInt(process.versions.electron.split(".")[0])<=2),f},b=function(){var t;if(t=1<=arguments.length?S.call(arguments,0):[],u.statSyncNoException&&c())return u.statSyncNoException.apply(u,t);try{return u.statSync.apply(u,t)}catch(t){return t,!1}},m=function(){var t;if(t=1<=arguments.length?S.call(arguments,0):[],u.lstatSyncNoException&&c())return u.lstatSyncNoException.apply(u,t);try{return u.lstatSync.apply(u,t)}catch(t){return t,!1}},t={".ds_store":!0,".a":!0,".exe":!0,".o":!0,".pyc":!0,".pyo":!0,".so":!0,".woff":!0},e={".bz2":!0,".egg":!0,".epub":!0,".gem":!0,".gz":!0,".jar":!0,".lz":!0,".lzma":!0,".lzo":!0,".rar":!0,".tar":!0,".tgz":!0,".war":!0,".whl":!0,".xpi":!0,".xz":!0,".z":!0,".zip":!0},i={".gif":!0,".ico":!0,".jpeg":!0,".jpg":!0,".png":!0,".tif":!0,".tiff":!0,".webp":!0},o={".markdown":!0,".md":!0,".mdown":!0,".mkd":!0,".mkdown":!0,".rmd":!0,".ron":!0},d=function(t){return null!=t&&"string"==typeof t&&t.length>0},p=function(t,e,n){return u.stat(t,(function(r,i){if(!r)return u.stat(e,(function(r,o){if(!r||"ENOENT"!==r.code)return n(void 0,t.toLowerCase()===e.toLowerCase()&&i.dev===o.dev&&i.ino===o.ino);n(void 0,!0)}));n(r)}))},h=function(t,e){var n,r;return r=b(t),n=b(e),!r||!n||t.toLowerCase()===e.toLowerCase()&&r.dev===n.dev&&r.ino===n.ino},qi=new Proxy({},{get:function(t,e){var n;return null!=(n=l[e])?n:u[e]},set:function(t,e,n){return l[e]=n}})}).call(qi);class Fc{constructor(t){this.props=t,this.model=atom.workspace.buildTextEditor({mini:!0,softWrapped:!0,lineNumberGutterVisible:!1}),this.element=atom.views.getView(this.model),this.model.setText(t.initialText),t.selectAll?this.model.selectAll():this.model.getLastCursor().moveToEndOfScreenLine(),this.setReadOnly(),this.setGrammar(),this.model.scrollToBufferPosition([0,0])}async update(t){this.element=atom.views.getView(this.model),this.props={...this.props,...t},this.setReadOnly(),this.setGrammar()}focus(){this.element.focus()}getModel(){return this.model}setReadOnly(){this.model.setReadOnly(!!this.props.readOnly)}setGrammar(){void 0!==this.props.grammar?atom.textEditors.setGrammarOverride(this.model,this.props.grammar):atom.textEditors.clearGrammarOverride(this.model)}}class Mc{constructor(t){this.props=t,Ft.initialize(this)}async update(t){this.props={...this.props,...t},await Ft.update(this)}render(){return Ft.dom("div",{className:"atomts-rename-view",ref:"main"},Ft.dom("div",{className:"block"},Ft.dom("div",null,Ft.dom("span",{ref:"title"},this.props.title),Ft.dom("span",{className:"subtle-info-message"},Ft.dom("span",null,"Close this panel with "),Ft.dom("span",{className:"highlight"},"esc"),Ft.dom("span",null," key. And commit with the "),Ft.dom("span",{className:"highlight"},"enter"),Ft.dom("span",null," key."))),Ft.dom("div",{className:"find-container block"},Ft.dom("div",{className:"editor-container"},Ft.dom(Fc,{ref:"editor",initialText:this.props.initialText,selectAll:this.props.selectAll}))),this.renderValidationMessage()))}async destroy(){await Ft.destroy(this)}focus(){return this.refs.editor.focus()}getText(){return this.refs.editor.getModel().getText()}renderValidationMessage(){return void 0!==this.props.validationMessage?Ft.dom("div",{className:"highlight-error"},this.props.validationMessage):null}}async function $c(t){const e=new Mc({title:t.title,initialText:t.text,selectAll:t.autoSelect}),n=atom.workspace.addModalPanel({item:e,priority:1e3}),r=document.activeElement;e.focus();const i=new p;try{return await new Promise((n=>{i.add(atom.commands.add(e.refs.main,{"core:cancel":()=>{n(void 0)},"core:confirm":()=>{const r=e.getText(),i=t.onValidate(r);i?be(e.update({validationMessage:i})):n(r)}}))}))}finally{n.destroy(),i.dispose(),r&&r.focus()}}function Bc(t){const e=new p;for(const n of Ei)if("atom-text-editor"===n.selector){const r=n.desc(t);e.add(atom.commands.add(n.selector,n.command,{...r,async didDispatch(t){try{const e=t.currentTarget.getModel();je(e)?await r.didDispatch(e,(()=>t.abortKeyBinding())):(t.abortKeyBinding(),De(e)&&atom.notifications.addWarning("Atom-TypeScript cancelled last command: Current editor has no file path",{description:`Atom-TypeScript needs to determine the file path of the current editor to execute \`${n.command}\`, which it failed to do. You probably just need to save the current file somewhere.`,dismissable:!0}))}catch(t){zc(t)}}}))}else{const r=n.desc(t);e.add(atom.commands.add(n.selector,n.command,{...r,async didDispatch(){try{await r.didDispatch()}catch(t){zc(t)}}}))}return e}function zc(t){atom.notifications.addFatalError("Something went wrong, see details below.",{detail:t.message,dismissable:!0,stack:t.stack})}_i("atom-text-editor","typescript:rename-file",(t=>({description:"Rename current file",async didDispatch(e){const n=e.getPath();if(!n)return;const r=await $c({autoSelect:!0,title:"Rename File",text:n,onValidate:t=>t.trim()?"":"If you want to abort : Press esc to exit"});if(!r)return;const i=await t.getClient(n),o=await i.execute("getEditsForFileRename",{oldFilePath:n,newFilePath:r});await t.applyEdits(o.body),await new Promise(((t,i)=>{qi.move(n,r,(n=>{n?i(n):(e.getBuffer().setPath(r),t())}))}))}}))),_i("atom-text-editor","typescript:rename-refactor",(t=>({description:"Rename symbol under text cursor everywhere it is used",async didDispatch(e){const n=Fe(e);if(!n)return;const r=await t.getClient(n.file),i=await r.execute("rename",n),{info:o,locs:s}=i.body;if(!o.canRename)return void atom.notifications.addInfo("AtomTS: Rename not available at cursor location");const a=await $c({autoSelect:!0,title:"Rename Variable",text:o.displayName,onValidate:t=>t.replace(/\s/g,"")!==t.trim()?"The new variable must not contain a space":t.trim()?"":"If you want to abort : Press esc to exit"});void 0!==a&&await t.applyEdits(s.map((t=>({fileName:t.file,textChanges:t.locs.map((t=>({...t,newText:a})))}))))}}))),_i("atom-workspace","typescript:restart-all-servers",(t=>({description:"Kill all tsserver instances. They will be auto-restarted",async didDispatch(){t.killAllServers()}}))),_i("atom-workspace","typescript:return-from-declaration",(t=>({description:"If used `go-to-declaration`, return to previous text cursor position",async didDispatch(){await t.histGoBack()}}))),_i("atom-workspace","typescript:show-editor-position-history",(t=>({description:"If used `go-to-declaration`, return to previous text cursor position",async didDispatch(){await t.histShowHistory()}}))),_i("atom-text-editor","typescript:toggle-semantic-view",(t=>({description:"Toggle semantic view outline",didDispatch(){t.toggleSemanticViewController()}}))),_i("atom-text-editor","typescript:show-tooltip",(t=>({description:"Show type tooltip at current text cursor position",didDispatch:async e=>t.showTooltipAt(e)}))),_i("atom-text-editor","typescript:show-signature-help",(t=>({description:"Show signature help tooltip at current text cursor position",didDispatch:async e=>t.showSigHelpAt(e)}))),_i("atom-text-editor","typescript:hide-signature-help",(t=>({description:"Hide the currently visible signature help",async didDispatch(e,n){t.hideSigHelpAt(e)||n()}}))),_i("atom-text-editor","typescript:signature-help-next",(t=>({description:"Show next signature help if available",async didDispatch(e,n){t.rotateSigHelp(e,1)||n()}}))),_i("atom-text-editor","typescript:signature-help-prev",(t=>({description:"Show previous signature help if available",async didDispatch(e,n){t.rotateSigHelp(e,-1)||n()}}))),_i("atom-text-editor","typescript:toggle-file-symbols",(t=>({description:"Toggle view for finding file symbols",async didDispatch(e){t.toggleFileSymbolsView(e)}}))),_i("atom-text-editor","typescript:toggle-project-symbols",(t=>({description:"Toggle view for finding file symbols",async didDispatch(e){t.toggleProjectSymbolsView(e)}})));class Uc{constructor(t,e){this.children=e,this.props={...t,delay:{show:0,hide:0}},Ft.initialize(this),this.tooltipDisposable=atom.tooltips.add(this.element,this.props)}async update(t,e){this.props={...this.props,...t},this.children=e,await Ft.update(this),this.tooltipDisposable.dispose(),this.tooltipDisposable=atom.tooltips.add(this.element,this.props)}render(){return Ft.dom("div",{className:"inline-block"},this.children?this.children:null)}async destroy(){await Ft.destroy(this),this.tooltipDisposable.dispose()}}class Hc{constructor(t){this.hiddenBuildStatus=!1,this.disposables=new p,this.buildStatusClicked=()=>{this.props.buildStatus.success||atom.notifications.addError("Build failed",{detail:this.props.buildStatus.message,dismissable:!0})},this.props={...t},this.setHideBuildStatus(atom.config.get("atom-typescript").buildStatusTimeout),this.resetBuildStatusTimeout(),Ft.initialize(this),this.disposables.add(atom.config.onDidChange("atom-typescript.buildStatusTimeout",(({newValue:t})=>{this.setHideBuildStatus(t),be(this.update({}))})))}async update(t){const e=void 0!==t.buildStatus&&t.buildStatus.success!==this.props.buildStatus.success;this.props={...this.props,...t},e&&this.resetBuildStatusTimeout(),await Ft.update(this)}render(){if(this.hiddenBuildStatus)return Ft.dom("span",null);let t,e;return this.props.buildStatus.success?(t="highlight-success",e="Emit Success"):(t="highlight-error",e="Emit Failed"),Ft.dom(Uc,{title:this.props.buildStatus.success?"Build was successful":"Build failed; click to show error message"},Ft.dom("span",{className:t,on:{click:this.buildStatusClicked}},e))}async destroy(){await Ft.destroy(this)}resetBuildStatusTimeout(){this.hiddenBuildStatus=!1,this.props.buildStatus.success&&this.hideBuildStatus()}setHideBuildStatus(t){this.hideBuildStatus=t>0?Ee.debounce((()=>{this.hiddenBuildStatus=!0,be(Ft.update(this))}),1e3*t):0===t?()=>{this.hiddenBuildStatus=!0}:()=>{}}}class qc{constructor(t){this.props={...t},Ft.initialize(this)}async update(t){this.props={...this.props,...t},await Ft.update(this)}render(){return Ft.dom(Uc,{title:()=>this.props.tsConfigPath.startsWith("/dev/null")?"No tsconfig.json":"Click to open "+atom.project.relativize(this.props.tsConfigPath)},Ft.dom("a",{className:"inline-block",href:"",on:{click:t=>{t.preventDefault(),this.openConfigPath()}}},this.props.tsConfigPath.startsWith("/dev/null")?"No project":y((t=this.props.tsConfigPath,"~"+atom.project.relativize(t)))));var t}async destroy(){await Ft.destroy(this)}openConfigPath(){this.props.tsConfigPath.startsWith("/dev/null")?atom.notifications.addInfo("No tsconfig for current file"):be(atom.workspace.open(this.props.tsConfigPath))}}class Gc{constructor(t={}){this.props={visible:!0,pending:[],progress:{max:0,value:0},...t},Ft.initialize(this)}async update(t){this.props={...this.props,...t},await Ft.update(this)}render(){return Ft.dom("ts-status-panel",{className:this.props.visible?"":"hide"},this.renderVersion(),this.renderPending(),this.renderConfigPath(),this.renderStatus(),this.renderProgress())}async destroy(){await Ft.destroy(this)}dispose(){be(this.destroy())}async show(){await this.update({visible:!0})}async hide(){await this.update({visible:!1})}renderVersion(){return void 0!==this.props.clientVersion?Ft.dom(Uc,{title:"Active TypeScript version"},this.props.clientVersion):null}renderPending(){return this.props.pending.length>0?Ft.dom(Uc,{title:`Pending Requests: <ul>${this.props.pending.map((({title:t})=>`<li>${t}</li>`)).join("")}</ul>`,html:!0},Ft.dom("span",{ref:"pendingCounter"},this.props.pending.length.toString()),Ft.dom("span",{ref:"pendingSpinner",className:"loading loading-spinner-tiny inline-block",style:{marginLeft:"5px",opacity:"0.5",verticalAlign:"sub"}})):null}renderConfigPath(){return void 0!==this.props.tsConfigPath?Ft.dom(qc,{tsConfigPath:this.props.tsConfigPath}):null}renderStatus(){return this.props.buildStatus?Ft.dom(Hc,{buildStatus:this.props.buildStatus}):null}renderProgress(){return this.props.progress.value<this.props.progress.max?Ft.dom("progress",{style:{verticalAlign:"baseline"},className:"inline-block",max:this.props.progress.max,value:this.props.progress.value}):null}}class Vc{constructor(t=[]){this.prevCursorPositions=t}async goBack(){return this.goHistory(1)}async goHistory(t){let e;for(;t-- >0;)e=this.prevCursorPositions.pop();if(e)return this.open({file:e.file,start:{line:e.line,offset:e.offset}});atom.notifications.addInfo("AtomTS: Previous position not found.")}async goForward(t,e){const n=Fe(t);if(n){this.prevCursorPositions.push(n);const t=100;this.prevCursorPositions.length>t&&this.prevCursorPositions.splice(0,this.prevCursorPositions.length-t)}return this.open(e)}async showHistory(){const t=await bi({items:this.getHistory().slice().reverse().map(((t,e)=>({...t,idx:e}))),itemTemplate:(t,e)=>Ft.dom("li",{className:"two-lines"},Ft.dom("div",{className:"primary-line"},Ft.dom(Cr,{label:t.file,query:e.getFilterQuery()})),Ft.dom("div",{className:"secondary-line"},"Line: ",t.line,", column: ",t.offset)),itemFilterKey:"file"});t&&await this.goHistory(t.idx+1)}getHistory(){return this.prevCursorPositions}dispose(){}serialize(){return this.prevCursorPositions}async open(t){const e=await atom.workspace.open(t.file,{initialLine:t.start.line-1,initialColumn:t.start.offset-1,searchAllPanes:!0});return atom.workspace.isTextEditor(e)&&e.scrollToCursorPosition({center:!0}),e}}class Wc{constructor(t,e){let n,r,i;this.getClient=t,this.editor=e,this.disposables=new p,this.occurrenceMarkers=[],this.disposed=!1;let o=!1;this.disposables.add(atom.config.observe("atom-typescript.occurrenceHighlightDebounceTimeout",(t=>{n=Ee.debounce((()=>{be(this.update())}),t),i=3.5*t})),e.onDidChangeCursorPosition((()=>{void 0===r?n():o=!0})),e.onDidChangePath((()=>n())),e.onDidChangeGrammar((()=>n())),e.onDidChange((()=>{void 0!==r&&clearTimeout(r),r=window.setTimeout((()=>{o&&(n(),o=!1),r=void 0}),i)})))}dispose(){this.disposed||(this.disposed=!0,this.disposables.dispose(),this.clearMarkers())}clearMarkers(){for(const t of this.occurrenceMarkers)t.destroy();this.occurrenceMarkers=[]}async update(){if(this.disposed)return;if(!je(this.editor))return void this.clearMarkers();const t=this.editor.getPath();if(void 0===t)return;const e=await this.getClient(t);if(this.disposed)return;const n=this.editor.getLastCursor().getBufferPosition();try{const r=await e.execute("documentHighlights",{file:t,line:n.row+1,offset:n.column+1,filesToSearch:[t]});if(this.disposed)return;const i=Array.from(this.getNewOccurrenceMarkers(r.body));for(const t of this.occurrenceMarkers)i.includes(t)||t.destroy();this.occurrenceMarkers=i}catch(t){window.atom_typescript_debug&&console.error(t)}}*getNewOccurrenceMarkers(t){for(const e of t)if(e.file===this.editor.getPath())for(const t of e.highlightSpans){const e=ke(t),n=this.occurrenceMarkers.find((t=>t.getBufferRange().isEqual(e)));if(n)yield n;else{const t=this.editor.markBufferRange(e);this.editor.decorateMarker(t,{type:"highlight",class:"atom-typescript-occurrence"}),yield t}}}}class Xc{constructor(t){this.disposables=new p,this.disposables.add(atom.workspace.observeTextEditors((e=>{const n=new Wc(t,e);this.disposables.add(n,e.onDidDestroy((()=>{this.disposables.remove(n),n.dispose()})))})))}dispose(){this.disposables.dispose()}}function Kc(t,e,n,r){let i,o=n.right,s=!1,a="";t.style.left="",t.style.top="",t.style.right="",t.style.bottom="";const c=e.clientWidth,u=getComputedStyle(t),l=parseInt(u.width,10),f=parseInt(u.height,10);if(o+l>=c&&(o=c-l-10),o<0&&(a="pre-wrap",o=10,s=10),"bottom"===r){const t=e.clientHeight;i=n.bottom,i+f>=t&&(i=n.top-f)}else"top"===r&&(i=n.top-f,i<0&&(i=n.bottom));t.style.left=o+"px",t.style.top=i+"px",!1!==s&&(t.style.right=s+"px"),a&&(t.style.whiteSpace=a)}class Qc{constructor(t){this.parent=t,this.props={left:0,right:0,top:0,bottom:0},Ft.initialize(this)}async destroy(){return Ft.destroy(this)}async update(t){var e,n,r;void 0!==(null===(e=t.sigHelp)||void 0===e?void 0:e.selectedItemIndex)&&(null===(n=t.sigHelp)||void 0===n?void 0:n.selectedItemIndex)!==(null===(r=this.props.sigHelp)||void 0===r?void 0:r.selectedItemIndex)&&(this.props.visibleItem=void 0),this.props={...this.props,...t},void 0===this.props.sigHelp?this.props.visibleItem=void 0:void 0!==this.props.visibleItem&&(this.props.visibleItem=this.props.visibleItem%this.props.sigHelp.items.length,this.props.visibleItem<0&&(this.props.visibleItem+=this.props.sigHelp.items.length)),await Ft.update(this)}writeAfterUpdate(){Kc(this.element,this.parent,this.props,atom.config.get("atom-typescript").sigHelpPosition)}render(){return Ft.dom("div",{className:"atom-typescript-tooltip tooltip",key:this.sigHelpHash()},Ft.dom("div",{className:"tooltip-inner"},this.tooltipContents()))}sigHelpHash(){if(!this.props.sigHelp)return;const{start:t,end:e}=this.props.sigHelp.applicableSpan;return`${t.line}:${t.offset}-${e.line}:${e.offset}`}tooltipContents(){if(!this.props.sigHelp)return"…";const{sigHelp:t}=this.props,e=void 0!==this.props.visibleItem?this.props.visibleItem:t.selectedItemIndex,n=t.items.length,r=["atom-typescript-tooltip-signature-help"];function i(n){const i=[];return n===t.selectedItemIndex&&i.push("atom-typescript-tooltip-signature-help-selected"),n===e&&i.push("atom-typescript-tooltip-signature-help-visible"),[...r,...i].join(" ")}return n>1&&r.push("atom-typescript-tooltip-signature-help-changable"),t.items.map(((e,n)=>Ft.dom("div",{className:i(n)},Ft.dom("div",null,Pe(e.prefixDisplayParts),this.renderSigHelpParams(e.parameters,t.argumentIndex),Pe(e.suffixDisplayParts),Ft.dom("div",{className:"atom-typescript-tooltip-signature-help-documentation"},Pe(e.documentation))))))}renderSigHelpParams(t,e){return t.map(((t,n)=>Ft.dom("span",{className:"atom-typescript-tooltip-signature-help-parameter"},n>0?", ":null,Ft.dom("span",{className:n===e?"atom-typescript-tooltip-signature-help-selected":void 0},Pe(t.displayParts)))))}}class Zc{constructor(t,e,n){this.deps=t,this.editor=e,this.cancelled=!1,this.disposables=new f.CompositeDisposable;const r=atom.views.getView(this.editor);this.view=new Qc(r),r.appendChild(this.view.element);const i=Ee.debounce(this.updateTooltip.bind(this),100,{leading:!0});this.disposables.add(this.editor.onDidChangeCursorPosition((t=>{n=t.newBufferPosition,be(i(n))})),r.onDidChangeScrollTop((()=>{setImmediate((()=>this.updateTooltipPosition(n)))})),r.onDidChangeScrollLeft((()=>{setImmediate((()=>this.updateTooltipPosition(n)))}))),be(this.updateTooltip(n))}isDisposed(){return this.cancelled}dispose(){this.cancelled||(this.cancelled=!0,this.disposables.dispose(),be(this.view.destroy()))}async rotateSigHelp(t){const{visibleItem:e,sigHelp:n}=this.view.props,r=void 0!==e?e:void 0!==(null==n?void 0:n.selectedItemIndex)?null==n?void 0:n.selectedItemIndex:0;await this.view.update({visibleItem:r+t})}async updateTooltip(t){if(this.cancelled)return;let e;try{e=this.computeTooltipPosition(t)}catch(t){return void console.warn(t)}const n=await this.getMessage(t);this.cancelled||(n?await this.view.update({...e,sigHelp:n}):this.dispose())}updateTooltipPosition(t){if(this.cancelled)return;const e=this.computeTooltipPosition(t);be(this.view.update({...e}))}computeTooltipPosition(t){const e=atom.views.getView(this.editor),n=e.pixelPositionForBufferPosition(t),r=e.querySelector(".lines").getBoundingClientRect(),i=this.editor.getLineHeightInPixels(),o=e.getBoundingClientRect(),s=n.top+r.top-o.top+i/2,a=n.left+r.left-o.left,c=.7*i;return{left:a,right:a,top:s-c,bottom:s+c}}async getMessage(t){if(!je(this.editor))return;const e=this.editor.getPath();if(void 0===e)return;const n=await this.deps.getClient(e);try{return(await n.execute("signatureHelp",{file:e,line:t.row+1,offset:t.column+1})).body}catch(t){return}}}class Yc{constructor(t){this.deps=t,this.subscriptions=new f.CompositeDisposable,this.editorMap=new WeakMap,this.stoppedChanging=t=>e=>{if(!atom.config.get("atom-typescript.sigHelpDisplayOnChange"))return;if(void 0===t.getPath())return;const n=t.getLastCursor().getBufferPosition(),[r]=e.changes.filter((t=>t.newRange.containsPoint(n)));r&&null!==r.newText.match(/[<(,]/)&&be(this.showTooltip(t,n))},this.subscriptions.add(atom.workspace.observeTextEditors((t=>{const e=new f.CompositeDisposable;e.add(t.onDidDestroy((()=>{e.dispose(),this.subscriptions.remove(e);const n=this.editorMap.get(t);n&&n.dispose()})),t.onDidStopChanging(this.stoppedChanging(t))),this.subscriptions.add(e)})))}dispose(){this.subscriptions.dispose();for(const t of atom.workspace.getTextEditors()){const e=this.editorMap.get(t);e&&e.dispose()}}async showTooltipAt(t){const e=t.getLastCursor().getBufferPosition();return this.showTooltip(t,e)}rotateSigHelp(t,e){const n=this.editorMap.get(t);return!(!n||n.isDisposed())&&(be(n.rotateSigHelp(e)),!0)}hideTooltipAt(t){const e=this.editorMap.get(t);return!(!e||e.isDisposed())&&(e.dispose(),!0)}async showTooltip(t,e){const n=this.editorMap.get(t);n&&!n.isDisposed()||this.editorMap.set(t,new Zc(this.deps,t,e))}}function Jc(t,e,n,r){const i=e=>{const i=e.target.closest(n);i&&t.contains(i)&&r(e)};return t.addEventListener(e,i),new m((()=>{t.removeEventListener(e,i)}))}class tu{constructor(){this.tooltip=null,this.props={left:0,right:0,top:0,bottom:0},Ft.initialize(this)}async destroy(){return Ft.destroy(this)}async update(t){this.props={...this.props,...t},this.tooltip=await ar(this.props.info,Ft,(t=>Ft.dom("div",{className:"atom-typescript-tooltip-tooltip-code"},t))),await Ft.update(this)}writeAfterUpdate(){Kc(this.element,document.body,this.props,atom.config.get("atom-typescript").tooltipPosition)}render(){return Ft.dom("div",{className:"atom-typescript-tooltip tooltip"},Ft.dom("div",{className:"tooltip-inner"},this.tooltip))}}class eu{constructor(t,e,n,r){this.getClient=t,this.cancelled=!1,be(this.initialize(e,n,r))}dispose(){this.cancelled=!0,this.view&&(be(this.view.destroy()),this.view=void 0)}async initialize(t,e,n){const r=atom.views.getView(t);let i,o;try{i=r.pixelPositionForBufferPosition(n),o=r.pixelPositionForBufferPosition(n.traverse([0,1]))}catch(e){return void console.warn(e)}if(i.left>=o.left)return;const s=.7*t.getLineHeightInPixels(),a={left:e.clientX,right:e.clientX,top:e.clientY-s,bottom:e.clientY+s},c=await this.getMessage(t,n);this.cancelled||void 0!==c&&await this.showTooltip(a,c)}async getMessage(t,e){let n;const r=await this.getClient(t);if(!r)return;const i=t.getPath();try{if(void 0===i)return;n=await r.execute("quickinfo",{file:i,line:e.row+1,offset:e.column+1})}catch(t){return}return n.body}async showTooltip(t,e){this.view=new tu,document.body.appendChild(this.view.element),await this.view.update({...t,info:e})}}class nu{constructor(t){this.getClientInternal=t,this.subscriptions=new f.CompositeDisposable,this.editorMap=new WeakMap,this.getClient=async t=>{const e=t.getPath();if(void 0!==e&&je(t)&&_.existsSync(e))return this.getClientInternal(e)},this.clearExprTypeTimeout=()=>{void 0!==this.exprTypeTimeout&&(clearTimeout(this.exprTypeTimeout),this.exprTypeTimeout=void 0),this.hideExpressionType()},this.trackMouseMovement=t=>{let e;return n=>{const r=function(t,e){const n=atom.views.getView(t).getComponent().screenPositionForMouseEvent(e);if(!isNaN(n.row)&&!isNaN(n.column))return t.bufferPositionForScreenPosition(n)}(t,n);r&&(e&&e.isEqual(r)&&this.pendingTooltip||(e=r,this.clearExprTypeTimeout(),this.exprTypeTimeout=window.setTimeout((()=>this.showExpressionType(t,n,r)),atom.config.get("atom-typescript").tooltipDelay)))}},this.subscriptions.add(atom.workspace.observeTextEditors((t=>{const e=atom.views.getView(t),n=e.querySelector(".lines");this.editorMap.set(t,{rawView:e,lines:n});const r=new f.CompositeDisposable;r.add(Jc(e,"mousemove",".scroll-view",this.trackMouseMovement(t)),Jc(e,"mouseout",".scroll-view",this.clearExprTypeTimeout),Jc(e,"keydown",".scroll-view",this.clearExprTypeTimeout),e.onDidChangeScrollTop(this.clearExprTypeTimeout),e.onDidChangeScrollLeft(this.clearExprTypeTimeout),t.onDidDestroy((()=>{r.dispose(),this.subscriptions.remove(r),this.clearExprTypeTimeout()}))),this.subscriptions.add(r)})))}dispose(){this.subscriptions.dispose(),this.clearExprTypeTimeout()}showExpressionAt(t){const e=t.getLastCursor().getBufferPosition(),n=atom.views.getView(t);let r;try{r=n.pixelPositionForBufferPosition(e)}catch(t){return void console.warn(t)}this.showExpressionType(t,this.mousePositionForPixelPosition(t,r),e)}mousePositionForPixelPosition(t,e){const n=atom.views.getView(t).querySelector(".lines").getBoundingClientRect();return{clientY:e.top+n.top+t.getLineHeightInPixels()/2,clientX:e.left+n.left}}showExpressionType(t,e,n){this.pendingTooltip&&this.pendingTooltip.dispose(),this.pendingTooltip=new eu(this.getClient,t,e,n)}hideExpressionType(){this.pendingTooltip&&(this.pendingTooltip.dispose(),this.pendingTooltip=void 0)}}class ru{constructor(t){this.getClient=t,this.subscriptions=new p;const e=atom.workspace.paneForURI("atom-typescript://semantic-view");e&&(this.view=e.itemForURI("atom-typescript://semantic-view")),this.view&&be(this.view.setGetClient(this.getClient)),this.subscriptions.add(new m((()=>{this.view&&(atom.workspace.hide(this.view),be(this.view.destroy()))})),atom.config.observe("atom-typescript.showSemanticView",(t=>{t?be(this.show()):this.hide()})))}dispose(){this.subscriptions.dispose()}async toggle(){this.view?await atom.workspace.toggle(this.view):await this.show()}async show(){this.view||(this.view=Ve.create({navTree:null}),await this.view.setGetClient(this.getClient)),await atom.workspace.open(this.view,{searchAllPanes:!0})}hide(){return!!this.view&&atom.workspace.hide(this.view)}}class iu{constructor(t){this.position=t.position,this.name=t.name,this.type=t.type,this.parent=t.parent,this.file=t.file}static fromNavTree(t,e){const n=t.spans[0].start;return new iu({name:t.text,type:t.kind,position:{row:n.line-1,column:n.offset-1},parent:null!=e?e:null})}static fromNavto(t,e){const n=t.start;return new iu({name:t.name,type:t.kind,position:{row:n.line-1,column:n.offset-1},parent:null!=e?e:null,file:t.file})}}async function ou(t,e){const n=await async function(t,e){try{const n=await e.getClient(t);return(await n.execute("navtree",{file:t})).body}catch(e){console.error(t,e)}}(t,e);return n&&n.childItems?Array.from(au(n.childItems)):[]}async function su(t,e,n){const r=await async function(t,e,n){try{const r=await n.getClient(t);return(await r.execute("navto",{file:t,currentFileOnly:!1,searchValue:e,maxResultCount:1e3})).body}catch(e){console.error(t,e)}}(t,e,n);return r?Array.from(function*(t,e){for(const n of t)yield iu.fromNavto(n,e)}(r)):[]}function*au(t,e){t.sort(((t,e)=>t.spans[0].start.line-e.spans[0].start.line));for(const n of t){const t=iu.fromNavTree(n,e);yield t,n.childItems&&(yield*au(n.childItems,t))}}async function cu(t,e,n){if(void 0!==t.file)return n(e,{file:t.file,start:{line:t.position.row+1,offset:t.position.column+1}})}async function uu(t,e){const n=t.getPath();if(void 0!==n){let r;atom.config.get("symbols-view.quickJumpToFileSymbol")&&(r=function(t){const e=atom.views.getView(t).getScrollTop();return{bufferRanges:t.getSelectedBufferRanges(),scrollTop:e}}(t));const i=await bi({items:ou(n,e),itemTemplate:({name:t,position:e},n)=>Ft.dom("li",{className:"two-lines"},Ft.dom("div",{className:"primary-line"},Ft.dom(Cr,{label:t,query:n.getFilterQuery()})),Ft.dom("div",{className:"secondary-line"},"Line "+(e.row+1))),didChangeSelection(e){atom.config.get("symbols-view.quickJumpToFileSymbol")&&e&&t.setCursorBufferPosition(e.position)},itemFilterKey:"name"});i?await cu(i,t,e.histGoForward):r&&function(t,{bufferRanges:e,scrollTop:n}){const r=atom.views.getView(t);t.setSelectedBufferRanges(e),r.setScrollTop(n)}(t,r)}}class lu{constructor(t){this.deps=t}toggleFileView(t){be(uu(t,this.deps))}toggleProjectView(t){be(async function(t,e){const n=t.getPath();if(void 0!==n){const r=await bi({items:t=>su(n,t,e),itemTemplate({name:t,position:e,file:n},r){const i=atom.project.relativize(n);return Ft.dom("li",{className:"two-lines"},Ft.dom("div",{className:"primary-line"},Ft.dom(Cr,{label:t,query:r.getFilterQuery()})),Ft.dom("div",{className:"secondary-line"},`File ${i} line ${e.row+1}`))},itemFilterKey:"name"});r&&await cu(r,t,e.histGoForward)}}(t,this.deps))}dispose(){}}class fu{constructor(){this.errors=new Map,this.fileGrammars=new Map,this.pushErrors=Ee.debounce(this.pushErrors.bind(this),100)}*getErrorsInRange(t,e){for(const n of this.errors.values()){const r=n.get(v.normalize(t));r&&(yield*r.filter((t=>ke(t).intersectsWith(e))))}}*getErrorsAt(t,e){for(const n of this.errors.values()){const r=n.get(v.normalize(t));r&&(yield*r.filter((t=>ke(t).containsPoint(e))))}}setErrors(t,e,n){let r=this.errors.get(t);r||(r=new Map,this.errors.set(t,r)),r.set(v.normalize(e),n),this.pushErrors()}clearFileErrors(t){for(const e of this.errors.values())e.delete(t);this.pushErrors()}clear(){this.linter&&this.linter.clearMessages()}setLinter(t){this.linter=t,this.pushErrors()}dispose(){this.clear(),this.linter&&this.linter.dispose(),this.linter=void 0}pushErrors(){this.linter&&this.linter.setAllMessages(this.getLinterErrors())}getLinterErrors(){if(atom.config.get("atom-typescript.suppressAllDiagnostics"))return[];const t=[];for(const e of this.errors.values())for(const[n,r]of e){const e=atom.workspace.getTextEditors().find((t=>t.getPath()===n)),i=e?e.getGrammar().scopeName:this.selectGrammar(n);if(!pu("suppressAllDiagnostics",i))for(const e of r){if(pu("ignoredDiagnosticCodes",i).includes(""+e.code))continue;if(pu("ignoreUnusedSuggestionDiagnostics",i)&&e.reportsUnnecessary)continue;if("suggestion"===e.category&&pu("ignoredSuggestionDiagnostics",i).includes(""+e.code))continue;if(pu("ignoreNonSuggestionSuggestionDiagnostics",i)&&"suggestion"===e.category&&!Ne(e.code,_e.Suggestion))continue;let{start:r,end:o}=e;r&&o||(r=o={line:1,offset:1}),t.push({severity:this.getSeverity(pu("unusedAsInfo",i),e),excerpt:e.text,location:{file:n,position:Te(r,o)}})}}return t}selectGrammar(t){const e=this.fileGrammars.get(t);if(void 0!==e)return e;const n=atom.grammars.selectGrammar(t,"").scopeName;return this.fileGrammars.set(t,n),n}getSeverity(t,e){if(t&&6133===e.code)return"info";switch(e.category){case"error":return"error";case"warning":return"warning";default:return"info"}}}function pu(t,e){return atom.config.get("atom-typescript."+t,{scope:[e]})}class hu{constructor(t,e){let n;this.buffer=t,this.deps=e,this.events=new f.Emitter,this.compileOnSave=!1,this.subscriptions=new f.CompositeDisposable,this.on=this.events.on.bind(this.events),this.dispose=()=>{this.subscriptions.dispose(),be(this.close())},this.init=async()=>{this.state&&(await this.state.client.execute("open",{file:this.state.filePath,fileContent:this.buffer.getText()}),be(this.getErr({allFiles:!1,delay:0})))},this.close=async()=>{if(await this.openPromise,this.state){const t=this.state.client,e=this.state.filePath;this.deps.clearFileErrors(e),this.state.subscriptions.dispose(),this.state=void 0,await t.execute("close",{file:e})}},this.onDidChangePath=t=>{be(this.close().then((()=>{this.openPromise=this.open(t)})))},this.onDidSave=async()=>{await Promise.all([this.getErr({allFiles:!0,delay:100}),this.doCompileOnSave()])},this.onDidChangeText=async({changes:t})=>{if(0===t.length||!this.state)return;const{client:e,filePath:n}=this.state;await Promise.all(t.reduceRight(((t,{oldRange:r,newText:i})=>(t.push(e.execute("change",{file:n,line:r.start.row+1,offset:r.start.column+1,endLine:r.end.row+1,endOffset:r.end.column+1,insertString:i})),t)),[]))},this.subscriptions.add(atom.config.observe("atom-typescript.getErrDebounceTimeout",(t=>{n=Ee.debounce((()=>{be(this.getErr({allFiles:!1,delay:0}))}),t)})),t.onDidChangePath(this.onDidChangePath),t.onDidDestroy(this.dispose),t.onDidSave((()=>{be(this.onDidSave())})),t.onDidStopChanging((({changes:t})=>{t.length>0&&this.deps.reportBuildStatus(void 0)})),t.onDidChangeText((t=>{be(this.onDidChangeText(t)),n()}))),this.openPromise=this.open(this.buffer.getPath())}static create(t,e){const n=hu.bufferMap.get(t);if(n)return n;{const n=new hu(t,e);return hu.bufferMap.set(t,n),n}}getPath(){return this.state&&this.state.filePath}getInfo(){if(this.state)return{clientVersion:this.state.client.version,tsConfigPath:this.state.configFile&&this.state.configFile.getPath()}}async getErr(t){if(!this.state)return;const e=t.allFiles?Array.from(function*(){for(const t of atom.workspace.getTextEditors())je(t)&&(yield t.getPath())}()):[this.state.filePath];await this.state.client.execute("geterr",{files:e,delay:t.delay})}async compile(){if(!this.state)return;const{client:t,filePath:e}=this.state,n=await t.execute("compileOnSaveAffectedFileList",{file:e}),r=Ee.flatten(n.body.map((t=>t.fileNames)));if(0===r.length)return;const i=r.map((e=>t.execute("compileOnSaveEmitFile",{file:e})));if(!(await Promise.all(i)).every((t=>!!t.body)))throw new Error("Some files failed to emit")}async doCompileOnSave(){if(this.compileOnSave){this.deps.reportBuildStatus(void 0);try{await this.compile(),this.deps.reportBuildStatus({success:!0})}catch(t){const e=t;console.error("Save failed with error",e),this.deps.reportBuildStatus({success:!1,message:e.message})}}}async open(t){if(void 0===t||!Le(t))return this.close();{const e=await this.deps.getClient(t);this.state={client:e,filePath:t,configFile:void 0,subscriptions:new f.CompositeDisposable},this.state.subscriptions.add(e.on("restarted",(()=>be(this.init())))),await this.init();const n=await e.execute("projectInfo",{needFileNameList:!1,file:t});void 0!==n.body.configFileName&&(this.state.configFile=new f.File(n.body.configFileName),await this.readConfigFile(),this.state.subscriptions.add(this.state.configFile.onDidChange((()=>be(this.readConfigFile()))))),this.events.emit("opened")}}async readConfigFile(){if(!this.state||!this.state.configFile)return;const t=Ie(this.state.configFile.getPath());this.compileOnSave=t.compileOnSave;const e=atom.config.get("atom-typescript");await this.state.client.execute("configure",{file:this.state.filePath,formatOptions:t.formatCodeOptions,preferences:{includeCompletionsWithInsertText:!0,includeCompletionsForModuleExports:e.includeCompletionsForModuleExports,quotePreference:e.quotePreference,importModuleSpecifierEnding:e.importModuleSpecifierEnding,importModuleSpecifierPreference:e.importModuleSpecifierPreference,...t.preferences}})}}hu.bufferMap=new WeakMap;class du{constructor(t,e){this.editor=t,this.opts=e,this.subscriptions=new p,this.isTypescript=!1,this.destroy=()=>{atom.views.getView(this.editor).classList.remove("typescript-editor"),this.subscriptions.dispose()},this.didActivate=()=>{this.isTypescript&&this.reportInfo()},this.onOpened=()=>{atom.workspace.getActiveTextEditor()===this.editor&&this.reportInfo()},this.checkIfTypescript=()=>{this.isTypescript=je(this.editor),this.isTypescript?atom.views.getView(this.editor).classList.add("typescript-editor"):atom.views.getView(this.editor).classList.remove("typescript-editor")},this.buffer=hu.create(t.getBuffer(),e),this.subscriptions.add(this.buffer.on("opened",this.onOpened)),this.checkIfTypescript(),this.subscriptions.add(t.onDidChangePath(this.checkIfTypescript),t.onDidChangeGrammar(this.checkIfTypescript),t.onDidDestroy(this.destroy),t.onDidSave((()=>{atom.config.get("atom-typescript.checkAllFilesOnSave")&&atom.commands.dispatch(atom.views.getView(t),"typescript:check-all-files")})))}static createFactory(t){return e=>{let n=du.editorMap.get(e);return n||(n=new du(e,t),du.editorMap.set(e,n)),n}}static lookupPane(t){return du.editorMap.get(t)}reportInfo(){const t=this.buffer.getInfo();t&&this.opts.reportClientInfo(t)}}du.editorMap=new WeakMap;class mu{constructor(t){this.usingBuiltinTooltipManager=!0,this.usingBuiltinSigHelpManager=!0,this.pending=new Set,this.clearErrors=()=>{this.errorPusher.clear()},this.clearFileErrors=t=>{this.errorPusher.clearFileErrors(t)},this.getClient=async t=>this.clientResolver.get(t),this.killAllServers=()=>{be(this.clientResolver.restartAllServers())},this.withBuffer=async(t,e)=>{const n=v.normalize(t),r=atom.workspace.getTextEditors().find((t=>t.getPath()===n));if(r)return e(r.getBuffer());const i=await f.TextBuffer.load(n);try{return await e(i)}finally{i.isModified()&&await i.save(),i.destroy()}},this.reportBusyWhile=async(t,e)=>{if(this.busySignalService)return this.busySignalService.reportBusyWhile(t,e);{const n={title:t};try{return this.pending.add(n),this.drawPending(Array.from(this.pending)),await e()}finally{this.pending.delete(n),this.drawPending(Array.from(this.pending))}}},this.reportProgress=t=>{be(this.statusPanel.update({progress:t}))},this.reportBuildStatus=t=>{be(this.statusPanel.update({buildStatus:t}))},this.reportClientInfo=t=>{be(this.statusPanel.update(t))},this.applyEdits=async t=>{Promise.all(t.map((t=>this.withBuffer(t.fileName,(async e=>{e.transact((()=>{const n=t.textChanges.map((t=>({range:ke(t),newText:t.newText}))).reverse().sort(((t,e)=>e.range.compare(t.range)));for(const t of n)e.setTextInRange(t.range,t.newText)}))})))))},this.showTooltipAt=async t=>{this.usingBuiltinTooltipManager?this.tooltipManager.showExpressionAt(t):await atom.commands.dispatch(atom.views.getView(t),"datatip:toggle")},this.showSigHelpAt=async t=>{this.usingBuiltinSigHelpManager?await this.sigHelpManager.showTooltipAt(t):await atom.commands.dispatch(atom.views.getView(t),"signature-help:show")},this.hideSigHelpAt=t=>!!this.usingBuiltinSigHelpManager&&this.sigHelpManager.hideTooltipAt(t),this.rotateSigHelp=(t,e)=>!!this.usingBuiltinSigHelpManager&&this.sigHelpManager.rotateSigHelp(t,e),this.histGoForward=(t,e)=>this.editorPosHist.goForward(t,e),this.drawPending=Ee.throttle((t=>be(this.statusPanel.update({pending:t}))),100,{leading:!1}),this.subscriptions=new p,this.clientResolver=new or(this.reportBusyWhile),this.subscriptions.add(this.clientResolver),this.statusPanel=new Gc,this.subscriptions.add(this.statusPanel),this.errorPusher=new fu,this.subscriptions.add(this.errorPusher),this.codefixProvider=new Bi(this.clientResolver,this.errorPusher,this.applyEdits),this.subscriptions.add(this.codefixProvider),this.semanticViewController=new ru(this.getClient),this.subscriptions.add(this.semanticViewController),this.editorPosHist=new Vc(t&&t.editorPosHistState),this.subscriptions.add(this.editorPosHist),this.symbolsViewController=new lu({histGoForward:this.histGoForward,getClient:this.getClient}),this.subscriptions.add(this.symbolsViewController),this.tooltipManager=new nu(this.getClient),this.subscriptions.add(this.tooltipManager),this.sigHelpManager=new Yc({getClient:this.getClient}),this.subscriptions.add(this.sigHelpManager),this.occurrenceManager=new Xc(this.getClient),this.subscriptions.add(this.occurrenceManager),this.typescriptPaneFactory=du.createFactory({clearFileErrors:this.clearFileErrors,getClient:this.getClient,reportBuildStatus:this.reportBuildStatus,reportClientInfo:this.reportClientInfo}),this.subscribeEditors(),this.subscriptions.add(Bc({getClient:this.getClient,applyEdits:this.applyEdits,clearErrors:this.clearErrors,killAllServers:this.killAllServers,reportProgress:this.reportProgress,reportBuildStatus:this.reportBuildStatus,toggleSemanticViewController:()=>{be(this.semanticViewController.toggle())},toggleFileSymbolsView:t=>{this.symbolsViewController.toggleFileView(t)},toggleProjectSymbolsView:t=>{this.symbolsViewController.toggleProjectView(t)},histGoForward:this.histGoForward,histGoBack:()=>this.editorPosHist.goBack(),histShowHistory:()=>this.editorPosHist.showHistory(),showTooltipAt:this.showTooltipAt,showSigHelpAt:this.showSigHelpAt,hideSigHelpAt:this.hideSigHelpAt,rotateSigHelp:this.rotateSigHelp}))}destroy(){this.subscriptions.dispose();for(const t of atom.workspace.getTextEditors()){const e=du.lookupPane(t);e&&e.destroy()}}serialize(){return{version:"0.1",editorPosHistState:this.editorPosHist.serialize()}}consumeLinter(t){const e=t({name:"TypeScript"});this.errorPusher.setLinter(e),this.subscriptions.add(this.clientResolver.on("diagnostics",(({type:t,filePath:e,diagnostics:n})=>{this.errorPusher.setErrors(t,e,n)})))}consumeStatusBar(t){let e=100;for(const n of t.getRightTiles())"GRAMMAR-SELECTOR-STATUS"===atom.views.getView(n.getItem()).tagName&&(e=n.getPriority()-1);const n=t.addRightTile({item:this.statusPanel,priority:e}),r=new f.Disposable((()=>{n.destroy()}));return this.subscriptions.add(r),r}consumeDatatipService(t){if(atom.config.get("atom-typescript").preferBuiltinTooltips)return;const e=t.addProvider(new lr(this.getClient));return this.subscriptions.add(e),this.tooltipManager.dispose(),this.usingBuiltinTooltipManager=!1,e}consumeSigHelpService(t){if(atom.config.get("atom-typescript").preferBuiltinSigHelp)return;const e=new Ai(this.getClient),n=t(e);return this.subscriptions.add(n,e),this.sigHelpManager.dispose(),this.usingBuiltinSigHelpManager=!1,n}consumeBusySignal(t){if(atom.config.get("atom-typescript").preferBuiltinBusySignal)return;this.busySignalService=t;const e={dispose:()=>{this.busySignalService&&this.busySignalService.dispose(),this.busySignalService=void 0}};return this.subscriptions.add(e),e}provideAutocomplete(){return[new Oi(this.getClient,this.applyEdits)]}provideIntentions(){return t=this.codefixProvider,{grammarScopes:["*"],getIntentions:async({bufferPosition:e,textEditor:n})=>(await t.runCodeFix(n,e)).map((e=>({priority:100,title:"description"in e?e.description:e.actionDescription,selected:()=>{be(t.applyFix(e))}})))};var t}provideIntentionsHighlight(){return t=this.codefixProvider,{grammarScopes:["*"],getIntentions:async({visibleRange:e,textEditor:n})=>(await t.getFixableRanges(n,e)).map((t=>({range:t,created:t=>{}})))};var t}provideCodeActions(){return t=this.codefixProvider,{grammarScopes:Re(),priority:0,getCodeActions:async(e,n,r)=>(await t.runCodeFix(e,n.start)).map((e=>({getTitle:async()=>"description"in e?e.description:e.actionDescription,dispose:()=>{},apply:async()=>{await t.applyFix(e)}})))};var t}provideHyperclick(){return t=this.getClient,e=this.histGoForward,{priority:0,providerName:"typescript-hyperclick-provider",wordRegExp:/([A-Za-z0-9_])+|['"`](\\.|[^'"`\\\\])*['"`]/g,async getSuggestionForWord(n,r,i){if(!je(n))return;const o=n.getPath();return void 0!==o?{range:i,callback:async()=>{var r;const s={file:o,line:i.start.row+1,offset:i.start.column+1},a=await t(s.file),c=await a.execute("definition",s),u=c.body?c.body[0]:void 0;if(1===(null===(r=c.body)||void 0===r?void 0:r.length)&&(null==u?void 0:u.start.line)===s.line&&(null==u?void 0:u.start.offset)===s.offset){const t=await a.execute("references",s);await Si(t,n,e)}else await xi(c,n,e)}}:void 0}};var t,e}provideReferences(){return t=this.getClient,{isEditorSupported:async t=>je(t),async findReferences(e,n){const r=Fe(e,n);if(!r)return;const i=await t(r.file),o=await i.execute("references",r);return o.body?{type:"data",baseUri:r.file,referencedSymbolName:o.body.symbolDisplayString,references:o.body.refs.map(hr)}:void 0}};var t}provideOutlines(){return t=this.getClient,{name:"Atom-TypeScript",grammarScopes:Re(),priority:100,updateOnEdit:!0,async getOutline(e){const n=e.getPath();if(void 0===n)return;const r=await t(n),i=(await r.execute("navtree",{file:n})).body;return i?{outlineTrees:[ki(i)]}:void 0}};var t}provideDefinitions(){var t;if(!atom.config.get("atom-typescript").disableAtomIdeDefinitions)return t=this.getClient,{priority:0,grammarScopes:Re(),wordRegExp:/([A-Za-z0-9_])+|['"`](\\.|[^'"`\\\\])*['"`]/g,async getDefinition(e,n){if(!je(e))return;const r=Fe(e,n);if(!r)return;const i=await t(r.file),o=await i.execute("definition",r);return o.body&&0!==o.body.length?{queryRange:void 0,definitions:o.body.map(pr)}:void 0}}}provideCodeHighlight(){if(!atom.config.get("atom-typescript").preferBuiltinOccurrenceHighlight)return this.occurrenceManager.dispose(),sr(this.getClient)}subscribeEditors(){this.subscriptions.add(atom.workspace.observeTextEditors((t=>{this.typescriptPaneFactory(t)})),atom.workspace.onDidChangeActiveTextEditor((t=>{if(t&&je(t)){be(this.statusPanel.show());const e=du.lookupPane(t);e&&e.didActivate()}else be(this.statusPanel.hide())})))}}let gu;var vu=x(Ft);exports.activate=function(t){vu.setScheduler(atom.views),gu=new mu(t),setImmediate((()=>be(async function(){["atom-ide-ui","linter","nuclide"].some((t=>atom.packages.isPackageLoaded(t)))||await I.install("atom-typescript",!0)}())))},exports.deactivate=function(){gu&&gu.destroy(),gu=void 0},exports.serialize=function(){return gu?gu.serialize():void 0},exports.deserializeSemanticView=function(t){return Ve.create(t.data)},exports.consumeLinter=function(t){if(gu)return gu.consumeLinter(t)},exports.consumeStatusBar=function(t){if(gu)return gu.consumeStatusBar(t)},exports.consumeDatatipService=function(t){if(gu)return gu.consumeDatatipService(t)},exports.consumeSignatureHelp=function(t){if(gu)return gu.consumeSigHelpService(t)},exports.consumeBusySignal=function(t){if(gu)return gu.consumeBusySignal(t)},exports.provideAutocomplete=function(){if(gu)return gu.provideAutocomplete()},exports.provideIntentions=function(){if(gu)return gu.provideIntentions()},exports.provideIntentionsHighlight=function(){if(gu)return gu.provideIntentionsHighlight()},exports.provideCodeActions=function(){if(gu)return gu.provideCodeActions()},exports.provideHyperclick=function(){if(gu)return gu.provideHyperclick()},exports.provideReferences=function(){if(gu)return gu.provideReferences()},exports.provideOutlines=function(){if(gu)return gu.provideOutlines()},exports.provideDefinitions=function(){if(gu)return gu.provideDefinitions()},exports.provideCodeHighlight=function(){if(gu)return gu.provideCodeHighlight()},exports.$f9b0166ef7b5e7f5ad26e9362409c1dc$init=function(){return O};
//# sourceMappingURL=main.js.map
